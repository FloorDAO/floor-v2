<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Floor</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">src</li><li class="chapter-item "><a href="src/contracts/index.html">❱ contracts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/index.html">❱ actions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/0x/index.html">❱ 0x</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/0x/BuyTokensWithTokens.sol/contract.BuyTokensWithTokens.html">BuyTokensWithTokens</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/charmfi/index.html">❱ charmfi</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/charmfi/CreateVault.sol/contract.CharmCreateVault.html">CharmCreateVault</a></li><li class="chapter-item "><a href="src/contracts/actions/charmfi/Deposit.sol/contract.CharmDeposit.html">CharmDeposit</a></li><li class="chapter-item "><a href="src/contracts/actions/charmfi/Rebalance.sol/contract.CharmRebalance.html">CharmRebalance</a></li><li class="chapter-item "><a href="src/contracts/actions/charmfi/Withdraw.sol/contract.CharmWithdraw.html">CharmWithdraw</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/cowswap/index.html">❱ cowswap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/cowswap/CreateOrder.sol/contract.CowSwapCreateOrder.html">CowSwapCreateOrder</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/gem/index.html">❱ gem</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/gem/Sweep.sol/error.UnableToSweepGem.html">UnableToSweepGem</a></li><li class="chapter-item "><a href="src/contracts/actions/gem/Sweep.sol/contract.GemSweep.html">GemSweep</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/llamapay/index.html">❱ llamapay</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/llamapay/CreateStream.sol/contract.LlamapayCreateStream.html">LlamapayCreateStream</a></li><li class="chapter-item "><a href="src/contracts/actions/llamapay/Deposit.sol/contract.LlamapayDeposit.html">LlamapayDeposit</a></li><li class="chapter-item "><a href="src/contracts/actions/llamapay/LlamapayRouter.sol/contract.LlamapayRouter.html">LlamapayRouter</a></li><li class="chapter-item "><a href="src/contracts/actions/llamapay/Withdraw.sol/contract.LlamapayWithdraw.html">LlamapayWithdraw</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/nftx/index.html">❱ nftx</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/nftx/BuyNftsWithEth.sol/contract.NFTXBuyNftsWithEth.html">NFTXBuyNftsWithEth</a></li><li class="chapter-item "><a href="src/contracts/actions/nftx/SellNftsForEth.sol/error.NoTokensProvided.html">NoTokensProvided</a></li><li class="chapter-item "><a href="src/contracts/actions/nftx/SellNftsForEth.sol/contract.NFTXSellNftsForEth.html">NFTXSellNftsForEth</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/sudoswap/index.html">❱ sudoswap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/sudoswap/BuyNftsWithEth.sol/contract.SudoswapBuyNftsWithEth.html">SudoswapBuyNftsWithEth</a></li><li class="chapter-item "><a href="src/contracts/actions/sudoswap/CreatePair.sol/contract.SudoswapCreatePair.html">SudoswapCreatePair</a></li><li class="chapter-item "><a href="src/contracts/actions/sudoswap/SellNftsForEth.sol/contract.SudoswapSellNftsForEth.html">SudoswapSellNftsForEth</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/sushiswap/index.html">❱ sushiswap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/sushiswap/AddLiquidity.sol/contract.SushiswapAddLiquidity.html">SushiswapAddLiquidity</a></li><li class="chapter-item "><a href="src/contracts/actions/sushiswap/RemoveLiquidity.sol/contract.SushiswapRemoveLiquidity.html">SushiswapRemoveLiquidity</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/uniswap/index.html">❱ uniswap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/uniswap/AddLiquidity.sol/contract.UniswapAddLiquidity.html">UniswapAddLiquidity</a></li><li class="chapter-item "><a href="src/contracts/actions/uniswap/ClaimPoolRewards.sol/contract.UniswapClaimPoolRewards.html">UniswapClaimPoolRewards</a></li><li class="chapter-item "><a href="src/contracts/actions/uniswap/CreatePool.sol/contract.UniswapCreatePool.html">UniswapCreatePool</a></li><li class="chapter-item "><a href="src/contracts/actions/uniswap/MintPosition.sol/contract.UniswapMintPosition.html">UniswapMintPosition</a></li><li class="chapter-item "><a href="src/contracts/actions/uniswap/RemoveLiquidity.sol/contract.UniswapRemoveLiquidity.html">UniswapRemoveLiquidity</a></li><li class="chapter-item "><a href="src/contracts/actions/uniswap/SellTokensForETH.sol/contract.UniswapSellTokensForETH.html">UniswapSellTokensForETH</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/utils/index.html">❱ utils</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/actions/utils/Multicall.sol/contract.ActionMulticall.html">ActionMulticall</a></li><li class="chapter-item "><a href="src/contracts/actions/utils/RawTx.sol/contract.RawTx.html">RawTx</a></li><li class="chapter-item "><a href="src/contracts/actions/utils/SendEth.sol/contract.SendEth.html">SendEth</a></li><li class="chapter-item "><a href="src/contracts/actions/utils/UniswapActionBase.sol/contract.UniswapActionBase.html">UniswapActionBase</a></li><li class="chapter-item "><a href="src/contracts/actions/utils/UnwrapWeth.sol/contract.UnwrapWeth.html">UnwrapWeth</a></li><li class="chapter-item "><a href="src/contracts/actions/utils/WrapEth.sol/contract.WrapEth.html">WrapEth</a></li></ol></li><li class="chapter-item "><a href="src/contracts/actions/Action.sol/contract.Action.html">Action</a></li></ol></li><li class="chapter-item "><a href="src/contracts/authorities/index.html">❱ authorities</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/authorities/AuthorityControl.sol/error.AccountDoesNotHaveRole.html">AccountDoesNotHaveRole</a></li><li class="chapter-item "><a href="src/contracts/authorities/AuthorityControl.sol/error.AccountDoesNotHaveAdminRole.html">AccountDoesNotHaveAdminRole</a></li><li class="chapter-item "><a href="src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a></li><li class="chapter-item "><a href="src/contracts/authorities/AuthorityRegistry.sol/error.UserDoesNotAnAdminRole.html">UserDoesNotAnAdminRole</a></li><li class="chapter-item "><a href="src/contracts/authorities/AuthorityRegistry.sol/error.UserDoesNotHaveGovernorRole.html">UserDoesNotHaveGovernorRole</a></li><li class="chapter-item "><a href="src/contracts/authorities/AuthorityRegistry.sol/error.CannotGrantGovernorRoleToSelf.html">CannotGrantGovernorRoleToSelf</a></li><li class="chapter-item "><a href="src/contracts/authorities/AuthorityRegistry.sol/error.CannotRevokeGovernorRole.html">CannotRevokeGovernorRole</a></li><li class="chapter-item "><a href="src/contracts/authorities/AuthorityRegistry.sol/contract.AuthorityRegistry.html">AuthorityRegistry</a></li></ol></li><li class="chapter-item "><a href="src/contracts/bribes/index.html">❱ bribes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/bribes/VoteMarket.sol/contract.VoteMarket.html">VoteMarket</a></li></ol></li><li class="chapter-item "><a href="src/contracts/collections/index.html">❱ collections</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/collections/CollectionRegistry.sol/error.CannotApproveNullCollection.html">CannotApproveNullCollection</a></li><li class="chapter-item "><a href="src/contracts/collections/CollectionRegistry.sol/contract.CollectionRegistry.html">CollectionRegistry</a></li></ol></li><li class="chapter-item "><a href="src/contracts/forks/index.html">❱ forks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/forks/ABDKMath64x64.sol/contract.ABDKMath64x64.html">ABDKMath64x64</a></li><li class="chapter-item "><a href="src/contracts/forks/GATOrder.sol/contract.GATOrder.html">GATOrder</a></li></ol></li><li class="chapter-item "><a href="src/contracts/migrations/index.html">❱ migrations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/migrations/MigrateFloorToken.sol/error.NoTokensAvailableToMigrate.html">NoTokensAvailableToMigrate</a></li><li class="chapter-item "><a href="src/contracts/migrations/MigrateFloorToken.sol/contract.MigrateFloorToken.html">MigrateFloorToken</a></li><li class="chapter-item "><a href="src/contracts/migrations/VestingClaim.sol/contract.VestingClaim.html">VestingClaim</a></li></ol></li><li class="chapter-item "><a href="src/contracts/pricing/index.html">❱ pricing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/error.UnknownUniswapPool.html">UnknownUniswapPool</a></li><li class="chapter-item "><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/contract.IUniswapV3Factory.html">IUniswapV3Factory</a></li><li class="chapter-item "><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/contract.IUniswapV3Pool.html">IUniswapV3Pool</a></li><li class="chapter-item "><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/contract.UniswapV3PricingExecutor.html">UniswapV3PricingExecutor</a></li></ol></li><li class="chapter-item "><a href="src/contracts/staking/index.html">❱ staking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/staking/calculators/index.html">❱ calculators</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/staking/calculators/NftStakingBoostCalculator.sol/contract.NftStakingBoostCalculator.html">NftStakingBoostCalculator</a></li></ol></li><li class="chapter-item "><a href="src/contracts/staking/strategies/index.html">❱ strategies</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/staking/strategies/NftStakingLocker.sol/contract.NftStakingLocker.html">NftStakingLocker</a></li><li class="chapter-item "><a href="src/contracts/staking/strategies/NftStakingNFTXV2.sol/contract.NftStakingNFTXV2.html">NftStakingNFTXV2</a></li></ol></li><li class="chapter-item "><a href="src/contracts/staking/NftStaking.sol/contract.NftStaking.html">NftStaking</a></li><li class="chapter-item "><a href="src/contracts/staking/VeFloorStaking.sol/contract.VeFloorStaking.html">VeFloorStaking</a></li></ol></li><li class="chapter-item "><a href="src/contracts/strategies/index.html">❱ strategies</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/strategies/BaseStrategy.sol/error.ZeroAmountReceivedFromDeposit.html">ZeroAmountReceivedFromDeposit</a></li><li class="chapter-item "><a href="src/contracts/strategies/BaseStrategy.sol/error.ZeroAmountReceivedFromWithdraw.html">ZeroAmountReceivedFromWithdraw</a></li><li class="chapter-item "><a href="src/contracts/strategies/BaseStrategy.sol/error.InsufficientPosition.html">InsufficientPosition</a></li><li class="chapter-item "><a href="src/contracts/strategies/BaseStrategy.sol/contract.BaseStrategy.html">BaseStrategy</a></li><li class="chapter-item "><a href="src/contracts/strategies/NFTXInventoryStakingStrategy.sol/contract.NFTXInventoryStakingStrategy.html">NFTXInventoryStakingStrategy</a></li><li class="chapter-item "><a href="src/contracts/strategies/NFTXLiquidityPoolStakingStrategy.sol/contract.NFTXLiquidityPoolStakingStrategy.html">NFTXLiquidityPoolStakingStrategy</a></li><li class="chapter-item "><a href="src/contracts/strategies/RevenueStakingStrategy.sol/contract.RevenueStakingStrategy.html">RevenueStakingStrategy</a></li><li class="chapter-item "><a href="src/contracts/strategies/StrategyFactory.sol/error.StrategyNameCannotBeEmpty.html">StrategyNameCannotBeEmpty</a></li><li class="chapter-item "><a href="src/contracts/strategies/StrategyFactory.sol/contract.StrategyFactory.html">StrategyFactory</a></li><li class="chapter-item "><a href="src/contracts/strategies/UniswapV3Strategy.sol/contract.UniswapV3Strategy.html">UniswapV3Strategy</a></li></ol></li><li class="chapter-item "><a href="src/contracts/sweepers/index.html">❱ sweepers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/sweepers/CowSwap.sol/contract.CowSwapSweeper.html">CowSwapSweeper</a></li><li class="chapter-item "><a href="src/contracts/sweepers/Gem.sol/contract.GemSweeper.html">GemSweeper</a></li><li class="chapter-item "><a href="src/contracts/sweepers/Manual.sol/contract.ManualSweeper.html">ManualSweeper</a></li><li class="chapter-item "><a href="src/contracts/sweepers/Mercenary.sol/contract.MercenarySweeper.html">MercenarySweeper</a></li></ol></li><li class="chapter-item "><a href="src/contracts/tokens/index.html">❱ tokens</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/tokens/extensions/index.html">❱ extensions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/tokens/extensions/ERC721Lockable.sol/contract.ERC721Lockable.html">ERC721Lockable</a></li></ol></li><li class="chapter-item "><a href="src/contracts/tokens/Floor.sol/contract.FLOOR.html">FLOOR</a></li><li class="chapter-item "><a href="src/contracts/tokens/FloorNft.sol/contract.FloorNft.html">FloorNft</a></li></ol></li><li class="chapter-item "><a href="src/contracts/triggers/index.html">❱ triggers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/triggers/RegisterSweep.sol/contract.RegisterSweepTrigger.html">RegisterSweepTrigger</a></li><li class="chapter-item "><a href="src/contracts/triggers/StoreEpochCollectionVotes.sol/contract.StoreEpochCollectionVotesTrigger.html">StoreEpochCollectionVotesTrigger</a></li></ol></li><li class="chapter-item "><a href="src/contracts/utils/index.html">❱ utils</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.CannotSetNullAddress.html">CannotSetNullAddress</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.InsufficientAmount.html">InsufficientAmount</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.PercentageTooHigh.html">PercentageTooHigh</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.TransferFailed.html">TransferFailed</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.CannotDepositZeroAmount.html">CannotDepositZeroAmount</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.CannotWithdrawZeroAmount.html">CannotWithdrawZeroAmount</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.NoRewardsAvailableToClaim.html">NoRewardsAvailableToClaim</a></li><li class="chapter-item "><a href="src/contracts/utils/Errors.sol/error.CollectionNotApproved.html">CollectionNotApproved</a></li><li class="chapter-item "><a href="src/contracts/utils/TokenUtils.sol/contract.TokenUtils.html">TokenUtils</a></li></ol></li><li class="chapter-item "><a href="src/contracts/voting/index.html">❱ voting</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/voting/calculators/index.html">❱ calculators</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol/contract.INftVotingPowerCalculator.html">INftVotingPowerCalculator</a></li><li class="chapter-item "><a href="src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol/contract.NewCollectionNftOptionVotingPowerCalculator.html">NewCollectionNftOptionVotingPowerCalculator</a></li></ol></li><li class="chapter-item "><a href="src/contracts/voting/NewCollectionWarOptions.sol/contract.NewCollectionWarOptions.html">NewCollectionWarOptions</a></li><li class="chapter-item "><a href="src/contracts/voting/NewCollectionWars.sol/contract.NewCollectionWars.html">NewCollectionWars</a></li><li class="chapter-item "><a href="src/contracts/voting/SweepWars.sol/error.CannotVoteWithZeroAmount.html">CannotVoteWithZeroAmount</a></li><li class="chapter-item "><a href="src/contracts/voting/SweepWars.sol/error.InsufficientVotesAvailable.html">InsufficientVotesAvailable</a></li><li class="chapter-item "><a href="src/contracts/voting/SweepWars.sol/error.InvalidCollectionsAndAmounts.html">InvalidCollectionsAndAmounts</a></li><li class="chapter-item "><a href="src/contracts/voting/SweepWars.sol/error.InsufficientVotesToRevoke.html">InsufficientVotesToRevoke</a></li><li class="chapter-item "><a href="src/contracts/voting/SweepWars.sol/error.SampleSizeCannotBeZero.html">SampleSizeCannotBeZero</a></li><li class="chapter-item "><a href="src/contracts/voting/SweepWars.sol/contract.SweepWars.html">SweepWars</a></li></ol></li><li class="chapter-item "><a href="src/contracts/EpochManager.sol/error.EpochTimelocked.html">EpochTimelocked</a></li><li class="chapter-item "><a href="src/contracts/EpochManager.sol/error.NoPricingExecutorSet.html">NoPricingExecutorSet</a></li><li class="chapter-item "><a href="src/contracts/EpochManager.sol/contract.EpochManager.html">EpochManager</a></li><li class="chapter-item "><a href="src/contracts/Treasury.sol/contract.Treasury.html">Treasury</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/actions/index.html">❱ actions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/actions/Action.sol/contract.IAction.html">IAction</a></li><li class="chapter-item "><a href="src/interfaces/actions/Sweeper.sol/contract.ISweeper.html">ISweeper</a></li><li class="chapter-item "><a href="src/interfaces/actions/Sweeper.sol/contract.IMercenarySweeper.html">IMercenarySweeper</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/authorities/index.html">❱ authorities</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/authorities/AuthorityControl.sol/contract.IAuthorityControl.html">IAuthorityControl</a></li><li class="chapter-item "><a href="src/interfaces/authorities/AuthorityRegistry.sol/contract.IAuthorityRegistry.html">IAuthorityRegistry</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/bribes/index.html">❱ bribes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/bribes/VoteMarket.sol/contract.IVoteMarket.html">IVoteMarket</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/collections/index.html">❱ collections</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/collections/CollectionRegistry.sol/contract.ICollectionRegistry.html">ICollectionRegistry</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/cowswap/index.html">❱ cowswap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/cowswap/CoWSwapOnchainOrders.sol/contract.ICoWSwapOnchainOrders.html">ICoWSwapOnchainOrders</a></li><li class="chapter-item "><a href="src/interfaces/cowswap/CoWSwapSettlement.sol/contract.ICoWSwapSettlement.html">ICoWSwapSettlement</a></li><li class="chapter-item "><a href="src/interfaces/cowswap/GPv2Order.sol/contract.GPv2Order.html">GPv2Order</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/legacy/index.html">❱ legacy</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/legacy/IgFLOOR.sol/contract.IgFLOOR.html">IgFLOOR</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/llamapay/index.html">❱ llamapay</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/llamapay/LlamaPay.sol/contract.ILlamaPay.html">ILlamaPay</a></li><li class="chapter-item "><a href="src/interfaces/llamapay/LlamaPayFactory.sol/contract.ILlamaPayFactory.html">ILlamaPayFactory</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/migrations/index.html">❱ migrations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/migrations/MigrateFloorToken.sol/contract.IMigrateFloorToken.html">IMigrateFloorToken</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/nftx/index.html">❱ nftx</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/nftx/NFTXInventoryStaking.sol/contract.INFTXInventoryStaking.html">INFTXInventoryStaking</a></li><li class="chapter-item "><a href="src/interfaces/nftx/NFTXLiquidityStaking.sol/contract.INFTXLiquidityStaking.html">INFTXLiquidityStaking</a></li><li class="chapter-item "><a href="src/interfaces/nftx/NFTXMarketplaceZap.sol/contract.INFTXMarketplaceZap.html">INFTXMarketplaceZap</a></li><li class="chapter-item "><a href="src/interfaces/nftx/NFTXStakingZap.sol/contract.INFTXStakingZap.html">INFTXStakingZap</a></li><li class="chapter-item "><a href="src/interfaces/nftx/NFTXUnstakingInventoryZap.sol/contract.INFTXUnstakingInventoryZap.html">INFTXUnstakingInventoryZap</a></li><li class="chapter-item "><a href="src/interfaces/nftx/NFTXVault.sol/contract.INFTXVault.html">INFTXVault</a></li><li class="chapter-item "><a href="src/interfaces/nftx/NFTXVaultFactory.sol/contract.INFTXVaultFactory.html">INFTXVaultFactory</a></li><li class="chapter-item "><a href="src/interfaces/nftx/TimelockRewardDistributionToken.sol/contract.ITimelockRewardDistributionToken.html">ITimelockRewardDistributionToken</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/pricing/index.html">❱ pricing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/pricing/BasePricingExecutor.sol/contract.IBasePricingExecutor.html">IBasePricingExecutor</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/staking/index.html">❱ staking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/staking/calculators/index.html">❱ calculators</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/staking/calculators/NftStakingBoostCalculator.sol/contract.INftStakingBoostCalculator.html">INftStakingBoostCalculator</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/staking/strategies/index.html">❱ strategies</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/staking/strategies/NftStakingStrategy.sol/contract.INftStakingStrategy.html">INftStakingStrategy</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/staking/NftStaking.sol/contract.INftStaking.html">INftStaking</a></li><li class="chapter-item "><a href="src/interfaces/staking/VeFloorStaking.sol/struct.Depositor.html">Depositor</a></li><li class="chapter-item "><a href="src/interfaces/staking/VeFloorStaking.sol/contract.IVeFloorStaking.html">IVeFloorStaking</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/strategies/index.html">❱ strategies</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/strategies/BaseStrategy.sol/contract.IBaseStrategy.html">IBaseStrategy</a></li><li class="chapter-item "><a href="src/interfaces/strategies/StrategyFactory.sol/contract.IStrategyFactory.html">IStrategyFactory</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/tokens/index.html">❱ tokens</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/tokens/Floor.sol/contract.IFLOOR.html">IFLOOR</a></li><li class="chapter-item "><a href="src/interfaces/tokens/Votable.sol/contract.IVotable.html">IVotable</a></li><li class="chapter-item "><a href="src/interfaces/tokens/WETH.sol/contract.IWETH.html">IWETH</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/uniswap/index.html">❱ uniswap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/uniswap/IUniswapV2Factory.sol/contract.IUniswapV2Factory.html">IUniswapV2Factory</a></li><li class="chapter-item "><a href="src/interfaces/uniswap/IUniswapV2Router01.sol/contract.IUniswapV2Router01.html">IUniswapV2Router01</a></li><li class="chapter-item "><a href="src/interfaces/uniswap/IUniswapV3NonfungiblePositionManager.sol/contract.IUniswapV3NonfungiblePositionManager.html">IUniswapV3NonfungiblePositionManager</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/utils/index.html">❱ utils</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/utils/EpochEndTriggered.sol/contract.IEpochEndTriggered.html">IEpochEndTriggered</a></li><li class="chapter-item "><a href="src/interfaces/utils/EpochManaged.sol/contract.IEpochManaged.html">IEpochManaged</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/voting/index.html">❱ voting</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/voting/NewCollectionWarOptions.sol/contract.INewCollectionWarOptions.html">INewCollectionWarOptions</a></li><li class="chapter-item "><a href="src/interfaces/voting/NewCollectionWars.sol/contract.INewCollectionWars.html">INewCollectionWars</a></li><li class="chapter-item "><a href="src/interfaces/voting/SweepWars.sol/contract.ISweepWars.html">ISweepWars</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/EpochManager.sol/contract.IEpochManager.html">IEpochManager</a></li><li class="chapter-item "><a href="src/interfaces/Treasury.sol/contract.TreasuryEnums.html">TreasuryEnums</a></li><li class="chapter-item "><a href="src/interfaces/Treasury.sol/contract.ITreasury.html">ITreasury</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Floor</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/FloorDAO/floor-v2" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/contracts//src/contracts/actions">actions</a></li>
<li><a href="src/contracts//src/contracts/authorities">authorities</a></li>
<li><a href="src/contracts//src/contracts/bribes">bribes</a></li>
<li><a href="src/contracts//src/contracts/collections">collections</a></li>
<li><a href="src/contracts//src/contracts/forks">forks</a></li>
<li><a href="src/contracts//src/contracts/migrations">migrations</a></li>
<li><a href="src/contracts//src/contracts/pricing">pricing</a></li>
<li><a href="src/contracts//src/contracts/staking">staking</a></li>
<li><a href="src/contracts//src/contracts/strategies">strategies</a></li>
<li><a href="src/contracts//src/contracts/sweepers">sweepers</a></li>
<li><a href="src/contracts//src/contracts/tokens">tokens</a></li>
<li><a href="src/contracts//src/contracts/triggers">triggers</a></li>
<li><a href="src/contracts//src/contracts/utils">utils</a></li>
<li><a href="src/contracts//src/contracts/voting">voting</a></li>
<li><a href="src/contracts/EpochManager.sol/error.EpochTimelocked.html">EpochTimelocked</a></li>
<li><a href="src/contracts/EpochManager.sol/error.NoPricingExecutorSet.html">NoPricingExecutorSet</a></li>
<li><a href="src/contracts/EpochManager.sol/contract.EpochManager.html">EpochManager</a></li>
<li><a href="src/contracts/Treasury.sol/contract.Treasury.html">Treasury</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions//src/contracts/actions/0x">0x</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/charmfi">charmfi</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/cowswap">cowswap</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/gem">gem</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/llamapay">llamapay</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/nftx">nftx</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/sudoswap">sudoswap</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/sushiswap">sushiswap</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/uniswap">uniswap</a></li>
<li><a href="src/contracts/actions//src/contracts/actions/utils">utils</a></li>
<li><a href="src/contracts/actions/Action.sol/contract.Action.html">Action</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/0x/BuyTokensWithTokens.sol/contract.BuyTokensWithTokens.html">BuyTokensWithTokens</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="buytokenswithtokens"><a class="header" href="#buytokenswithtokens">BuyTokensWithTokens</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/0x/BuyTokensWithTokens.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/0x/BuyTokensWithTokens.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Buy tokens on 0x using another token.</p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="eth"><a class="header" href="#eth">ETH</a></h3>
<pre><code class="language-solidity">address internal constant ETH = 0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE;
</code></pre>
<h3 id="weth"><a class="header" href="#weth">WETH</a></h3>
<pre><code class="language-solidity">address internal constant WETH = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h3 id="swaptarget"><a class="header" href="#swaptarget">swapTarget</a></h3>
<p>Internal store of desired 0x contract</p>
<pre><code class="language-solidity">address public immutable swapTarget;
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(address _swapTarget);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_swapTarget</code></td><td><code>address</code></td><td>Address of the 0x swap contract</td></tr>
</tbody></table>
</div>
<h3 id="execute"><a class="header" href="#execute">execute</a></h3>
<p>Buys tokens on 0x using another token.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint received_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Bytes to be cast to the <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>received_</code></td><td><code>uint256</code></td><td>The amount of tokens bought</td></tr>
</tbody></table>
</div>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="actionrequest"><a class="header" href="#actionrequest">ActionRequest</a></h3>
<p>Store our required information to action a swap.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address sellToken;
    address buyToken;
    bytes swapCallData;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/charmfi/CreateVault.sol/contract.CharmCreateVault.html">CharmCreateVault</a></li>
<li><a href="src/contracts/actions/charmfi/Deposit.sol/contract.CharmDeposit.html">CharmDeposit</a></li>
<li><a href="src/contracts/actions/charmfi/Rebalance.sol/contract.CharmRebalance.html">CharmRebalance</a></li>
<li><a href="src/contracts/actions/charmfi/Withdraw.sol/contract.CharmWithdraw.html">CharmWithdraw</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="charmcreatevault"><a class="header" href="#charmcreatevault">CharmCreateVault</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/charmfi/CreateVault.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/charmfi/CreateVault.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Creates a Charm liquidity vault for 2 tokens.</p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="execute-1"><a class="header" href="#execute-1">execute</a></h3>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="actionrequest-1"><a class="header" href="#actionrequest-1">ActionRequest</a></h3>
<p>This large struct will use 3 storage slots.</p>
<pre><code class="language-solidity">struct ActionRequest {
    uint maxTotalSupply;
    address uniswapPool;
    uint24 protocolFee;
    int24 baseThreshold;
    int24 limitThreshold;
    int24 minTickMove;
    uint40 period;
    int24 maxTwapDeviation;
    uint32 twapDuration;
    address keeper;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="charmdeposit"><a class="header" href="#charmdeposit">CharmDeposit</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/charmfi/Deposit.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/charmfi/Deposit.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Deposits tokens in proportion to the vault's current holdings.</p>
<p><em>These tokens sit in the vault and are not used for liquidity on
Uniswap until the next rebalance. Also note it's not necessary to check
if user manipulated price to deposit cheaper, as the value of range
orders can only by manipulated higher.</em></p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="execute-2"><a class="header" href="#execute-2">execute</a></h3>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="actionrequest-2"><a class="header" href="#actionrequest-2">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    uint amount0Desired;
    uint amount1Desired;
    uint amount0Min;
    uint amount1Min;
    address vault;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="charmrebalance"><a class="header" href="#charmrebalance">CharmRebalance</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/charmfi/Rebalance.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/charmfi/Rebalance.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Updates vault's positions. Can only be called by the strategy keeper.</p>
<p><em>Two orders are placed - a base order and a limit order. The base
order is placed first with as much liquidity as possible. This order
should use up all of one token, leaving only the other one. This excess
amount is then placed as a single-sided bid or ask order.</em></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="execute-3"><a class="header" href="#execute-3">execute</a></h3>
<p>Calculates new ranges for orders and calls <code>vault.rebalance()</code> so that vault can
update its positions.</p>
<p><em>Can only be called by keeper.</em></p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="actionrequest-3"><a class="header" href="#actionrequest-3">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    address strategy;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="charmwithdraw"><a class="header" href="#charmwithdraw">CharmWithdraw</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/charmfi/Withdraw.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/charmfi/Withdraw.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Withdraws tokens in proportion to the vault's holdings.</p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="execute-4"><a class="header" href="#execute-4">execute</a></h3>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="actionrequest-4"><a class="header" href="#actionrequest-4">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    uint shares;
    uint amount0Min;
    uint amount1Min;
    address vault;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/cowswap/CreateOrder.sol/contract.CowSwapCreateOrder.html">CowSwapCreateOrder</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cowswapcreateorder"><a class="header" href="#cowswapcreateorder">CowSwapCreateOrder</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/cowswap/CreateOrder.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/cowswap/CreateOrder.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a>, <a href="src/contracts/actions/cowswap/CreateOrder.sol//src/interfaces/cowswap/CoWSwapOnchainOrders.sol/contract.ICoWSwapOnchainOrders.html">ICoWSwapOnchainOrders</a></p>
<p>Interacts with the CowSwap protocol to create an order.
Based on codebase:
https://github.com/nlordell/dappcon-2022-smart-orders</p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="app_data"><a class="header" href="#app_data">APP_DATA</a></h3>
<p>Encoded app data to recognise our transactions</p>
<pre><code class="language-solidity">bytes32 public constant APP_DATA = keccak256('floordao');
</code></pre>
<h3 id="settlement"><a class="header" href="#settlement">settlement</a></h3>
<p>Stores the external {CowSwapSettlement} contract reference</p>
<p><em>Mainnet implementation: 0x9008d19f58aabd9ed0d60971565aa8510560ab41</em></p>
<pre><code class="language-solidity">ICoWSwapSettlement public immutable settlement;
</code></pre>
<h3 id="domainseparator"><a class="header" href="#domainseparator">domainSeparator</a></h3>
<p>Domain separator taked from the settlement contract</p>
<pre><code class="language-solidity">bytes32 public immutable domainSeparator;
</code></pre>
<h3 id="weth-1"><a class="header" href="#weth-1">weth</a></h3>
<p>Constant address of the WETH token</p>
<pre><code class="language-solidity">address public constant weth = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<p>Sets up our {CowSwapSettlement} contract reference</p>
<pre><code class="language-solidity">constructor(address settlement_);
</code></pre>
<h3 id="execute-5"><a class="header" href="#execute-5">execute</a></h3>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-5"><a class="header" href="#structs-5">Structs</a></h2>
<h3 id="actionrequest-5"><a class="header" href="#actionrequest-5">ActionRequest</a></h3>
<p><em>The complete data for a Gnosis Protocol order. This struct contains
all order parameters that are signed for submitting to GP.</em></p>
<pre><code class="language-solidity">struct ActionRequest {
    address sellToken;
    address buyToken;
    address receiver;
    uint sellAmount;
    uint buyAmount;
    uint feeAmount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-5"><a class="header" href="#contents-5">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/gem/Sweep.sol/error.UnableToSweepGem.html">UnableToSweepGem</a></li>
<li><a href="src/contracts/actions/gem/Sweep.sol/contract.GemSweep.html">GemSweep</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unabletosweepgem"><a class="header" href="#unabletosweepgem">UnableToSweepGem</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/gem/Sweep.sol">Git Source</a></p>
<p>If Gem prevents our sweep from being successful</p>
<pre><code class="language-solidity">error UnableToSweepGem();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gemsweep"><a class="header" href="#gemsweep">GemSweep</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/gem/Sweep.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/gem/Sweep.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a>, IERC721Receiver</p>
<p><strong>Author:</strong>
Twade</p>
<p>Allows sweeping from Gem.xyz to facilitate the purchasing and immediate
staking of ERC721s.</p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="gem_swap"><a class="header" href="#gem_swap">GEM_SWAP</a></h3>
<p>Internal store of GemSwap contract</p>
<pre><code class="language-solidity">address GEM_SWAP;
</code></pre>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="execute-6"><a class="header" href="#execute-6">execute</a></h3>
<p>Executes a Gem.xyz sweep to facilitate the purchase of ERC721s.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint spent);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>GemSwap transaction bytes</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spent</code></td><td><code>uint256</code></td><td>The amount of ETH spent on the call</td></tr>
</tbody></table>
</div>
<h3 id="setgemswap"><a class="header" href="#setgemswap">setGemSwap</a></h3>
<p>Allows the owner to add a whitelisted address that can be passed as a
<code>target</code> in the <code>sweepAndStake</code> function. This can be either activated
or deactivated based on the <code>_value</code> passed.</p>
<pre><code class="language-solidity">function setGemSwap(address _gemSwap) external onlyOwner;
</code></pre>
<h3 id="onerc721received"><a class="header" href="#onerc721received">onERC721Received</a></h3>
<p>Allows the contract to receive ERC721 tokens.</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint, bytes calldata) external pure returns (bytes4);
</code></pre>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<p>Allows our contract to receive dust ETH back from our Gem sweep.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="sweep"><a class="header" href="#sweep">Sweep</a></h3>
<p>Emitted when a successful sweep takes place, showing the amount of
ETH spent on the sweep.</p>
<pre><code class="language-solidity">event Sweep(uint ethAmount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-6"><a class="header" href="#contents-6">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/llamapay/CreateStream.sol/contract.LlamapayCreateStream.html">LlamapayCreateStream</a></li>
<li><a href="src/contracts/actions/llamapay/Deposit.sol/contract.LlamapayDeposit.html">LlamapayDeposit</a></li>
<li><a href="src/contracts/actions/llamapay/LlamapayRouter.sol/contract.LlamapayRouter.html">LlamapayRouter</a></li>
<li><a href="src/contracts/actions/llamapay/Withdraw.sol/contract.LlamapayWithdraw.html">LlamapayWithdraw</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="llamapaycreatestream"><a class="header" href="#llamapaycreatestream">LlamapayCreateStream</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/llamapay/CreateStream.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/llamapay/CreateStream.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Creates and funds a stream on the Llamapay platform.</p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="llamapayrouter"><a class="header" href="#llamapayrouter">llamapayRouter</a></h3>
<p>Our internally deployed Llamapay router</p>
<pre><code class="language-solidity">LlamapayRouter public immutable llamapayRouter;
</code></pre>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(LlamapayRouter _llamapayRouter);
</code></pre>
<h3 id="execute-7"><a class="header" href="#execute-7">execute</a></h3>
<p>Executes our request to create and fund a stream.</p>
<p><em>If the Llamapay token contract does not yet exist, then additional gas will
be required to create it. For common tokens like USDC, this won't occur.</em></p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Bytes to be cast to the <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint Total balance currently held by the stream</td></tr>
</tbody></table>
</div>
<h2 id="structs-6"><a class="header" href="#structs-6">Structs</a></h2>
<h3 id="actionrequest-6"><a class="header" href="#actionrequest-6">ActionRequest</a></h3>
<p>Store our required information to action a stream creation.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address to;
    address token;
    uint216 amountPerSec;
    uint amountToDeposit;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="llamapaydeposit"><a class="header" href="#llamapaydeposit">LlamapayDeposit</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/llamapay/Deposit.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/llamapay/Deposit.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Makes a deposit into a Llamapay pool. This subsidises salary and other outgoing
payments to the team and external third parties.</p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="llamapayrouter-1"><a class="header" href="#llamapayrouter-1">llamapayRouter</a></h3>
<p>Our internally deployed Llamapay router</p>
<pre><code class="language-solidity">LlamapayRouter public immutable llamapayRouter;
</code></pre>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(LlamapayRouter _llamapayRouter);
</code></pre>
<h3 id="execute-8"><a class="header" href="#execute-8">execute</a></h3>
<p>Executes our token deposit against our Llamapay router.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-7"><a class="header" href="#structs-7">Structs</a></h2>
<h3 id="actionrequest-7"><a class="header" href="#actionrequest-7">ActionRequest</a></h3>
<p>Store our required information to action a deposit.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address token;
    uint amountToDeposit;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="llamapayrouter-2"><a class="header" href="#llamapayrouter-2">LlamapayRouter</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/llamapay/LlamapayRouter.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Pausable</p>
<p>The Llamapay router acts as an intermediary contract that our Llamapay actions
make their calls through. This groups common logic and handles our edge cases.</p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="llamapayfactory"><a class="header" href="#llamapayfactory">llamaPayFactory</a></h3>
<p>Interface for the externally deployed {LlamaPayFactory} contract.</p>
<pre><code class="language-solidity">ILlamaPayFactory public immutable llamaPayFactory;
</code></pre>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(address _llamaPayFactory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_llamaPayFactory</code></td><td><code>address</code></td><td>Address of the LlamaPay Factory contract</td></tr>
</tbody></table>
</div>
<h3 id="createstream"><a class="header" href="#createstream">createStream</a></h3>
<p>Create and funds a token stream to a recipient.</p>
<pre><code class="language-solidity">function createStream(address from, address to, address token, uint amount, uint216 amountPerSec) public returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>to</code></td><td><code>address</code></td><td>Recipient of the stream</td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td>The token used to fund the stream</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of token funding the stream</td></tr>
<tr><td><code>amountPerSec</code></td><td><code>uint216</code></td><td>The amount given to the recipient per second</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The closing balance of the stream</td></tr>
</tbody></table>
</div>
<h3 id="deposit"><a class="header" href="#deposit">deposit</a></h3>
<p>Deposits tokens into a Llamapay pool to provide additional stream funding.</p>
<pre><code class="language-solidity">function deposit(address from, address token, uint amount) public returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td>The token used to fund the stream</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of token funding the stream</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The closing balance of the stream</td></tr>
</tbody></table>
</div>
<h3 id="withdraw"><a class="header" href="#withdraw">withdraw</a></h3>
<p>Withdraws tokens from a Llamapay pool.</p>
<pre><code class="language-solidity">function withdraw(address to, address token, uint amount) public returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td>The token used to fund the stream</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of token funding the stream</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The closing balance of the stream</td></tr>
</tbody></table>
</div>
<h3 id="_getllamapaypool"><a class="header" href="#_getllamapaypool">_getLlamapayPool</a></h3>
<p>Determines the Llamapay pool based on the token and returns the interface of
the LlamaPay pool for further calls.</p>
<pre><code class="language-solidity">function _getLlamapayPool(address token) internal view returns (ILlamaPay);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="llamapaywithdraw"><a class="header" href="#llamapaywithdraw">LlamapayWithdraw</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/llamapay/Withdraw.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/llamapay/Withdraw.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Withdraws tokens from a Llamapay pool.</p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="llamapayrouter-3"><a class="header" href="#llamapayrouter-3">llamapayRouter</a></h3>
<p>Our internally deployed Llamapay router</p>
<pre><code class="language-solidity">LlamapayRouter public immutable llamapayRouter;
</code></pre>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(LlamapayRouter _llamapayRouter);
</code></pre>
<h3 id="execute-9"><a class="header" href="#execute-9">execute</a></h3>
<p>Executes our token withdrawal against our Llamapay router.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-8"><a class="header" href="#structs-8">Structs</a></h2>
<h3 id="actionrequest-8"><a class="header" href="#actionrequest-8">ActionRequest</a></h3>
<p>Store our required information to action a withdrawal.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address token;
    uint amount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-7"><a class="header" href="#contents-7">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/nftx/BuyNftsWithEth.sol/contract.NFTXBuyNftsWithEth.html">NFTXBuyNftsWithEth</a></li>
<li><a href="src/contracts/actions/nftx/SellNftsForEth.sol/error.NoTokensProvided.html">NoTokensProvided</a></li>
<li><a href="src/contracts/actions/nftx/SellNftsForEth.sol/contract.NFTXSellNftsForEth.html">NFTXSellNftsForEth</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nftxbuynftswitheth"><a class="header" href="#nftxbuynftswitheth">NFTXBuyNftsWithEth</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/nftx/BuyNftsWithEth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/nftx/BuyNftsWithEth.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>This action allows us to batch sell ERC721 NFT tokens from the {Treasury}
into a specific NFTX vault.
This uses the NFTX Marketplace Zap to facilitate the trade, allowing us to
specify a minimum amount of ETH to receive in return.</p>
<h2 id="state-variables-7"><a class="header" href="#state-variables-7">State Variables</a></h2>
<h3 id="marketplacezap"><a class="header" href="#marketplacezap">marketplaceZap</a></h3>
<p>The NFTX Marketplace Zap contract</p>
<pre><code class="language-solidity">INFTXMarketplaceZap public immutable marketplaceZap;
</code></pre>
<h3 id="_nftreceiver"><a class="header" href="#_nftreceiver">_nftReceiver</a></h3>
<p>Stores our NFT recipient so that we can hook into safe transfer callbacks</p>
<pre><code class="language-solidity">address private _nftReceiver;
</code></pre>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="constructor-6"><a class="header" href="#constructor-6">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(address _marketplaceZap);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_marketplaceZap</code></td><td><code>address</code></td><td>Address of the NFTX Marketplace Zap</td></tr>
</tbody></table>
</div>
<h3 id="execute-10"><a class="header" href="#execute-10">execute</a></h3>
<p>Buys an <code>amount</code> of ERC721 tokens from the NFTX vault collection.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of ETH spent on the execution</td></tr>
</tbody></table>
</div>
<h3 id="onerc721received-1"><a class="header" href="#onerc721received-1">onERC721Received</a></h3>
<p>Allows the contract to receive ERC721 tokens from our {Treasury}.</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint tokenId, bytes memory) public virtual returns (bytes4);
</code></pre>
<h2 id="structs-9"><a class="header" href="#structs-9">Structs</a></h2>
<h3 id="actionrequest-9"><a class="header" href="#actionrequest-9">ActionRequest</a></h3>
<p>Store our required information to action a buy.</p>
<pre><code class="language-solidity">struct ActionRequest {
    uint vaultId;
    uint amount;
    uint[] specificIds;
    address[] path;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notokensprovided"><a class="header" href="#notokensprovided">NoTokensProvided</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/nftx/SellNftsForEth.sol">Git Source</a></p>
<p>If no tokens are claimable for the caller</p>
<pre><code class="language-solidity">error NoTokensProvided();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nftxsellnftsforeth"><a class="header" href="#nftxsellnftsforeth">NFTXSellNftsForEth</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/nftx/SellNftsForEth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/nftx/SellNftsForEth.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>This action allows us to batch sell ERC721 NFT tokens from the {Treasury}
into a specific NFTX vault.
This uses the NFTX Marketplace Zap to facilitate the trade, allowing us to
specify a minimum amount of ETH to receive in return.</p>
<h2 id="state-variables-8"><a class="header" href="#state-variables-8">State Variables</a></h2>
<h3 id="marketplacezap-1"><a class="header" href="#marketplacezap-1">marketplaceZap</a></h3>
<p>The NFTX Marketplace Zap contract</p>
<pre><code class="language-solidity">INFTXMarketplaceZap public immutable marketplaceZap;
</code></pre>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="constructor-7"><a class="header" href="#constructor-7">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(address _marketplaceZap);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_marketplaceZap</code></td><td><code>address</code></td><td>Address of the NFTX Marketplace Zap</td></tr>
</tbody></table>
</div>
<h3 id="execute-11"><a class="header" href="#execute-11">execute</a></h3>
<p>Sells our specified <code>tokenIds</code> from the NFTX vault collection to gain instant
ETH liquidity. If the transaction doesn't provide the specified required <code>minEthOut</code>
then the transaction will be reverted by NFTX.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of ETH generated by the execution</td></tr>
</tbody></table>
</div>
<h3 id="onerc721received-2"><a class="header" href="#onerc721received-2">onERC721Received</a></h3>
<p>Allows the contract to receive ERC721 tokens from our {Treasury}.</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint, bytes memory) public virtual returns (bytes4);
</code></pre>
<h2 id="structs-10"><a class="header" href="#structs-10">Structs</a></h2>
<h3 id="actionrequest-10"><a class="header" href="#actionrequest-10">ActionRequest</a></h3>
<p>Store our required information to action a swap.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address asset;
    uint vaultId;
    uint[] tokenIds;
    uint minEthOut;
    address[] path;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-8"><a class="header" href="#contents-8">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/sudoswap/BuyNftsWithEth.sol/contract.SudoswapBuyNftsWithEth.html">SudoswapBuyNftsWithEth</a></li>
<li><a href="src/contracts/actions/sudoswap/CreatePair.sol/contract.SudoswapCreatePair.html">SudoswapCreatePair</a></li>
<li><a href="src/contracts/actions/sudoswap/SellNftsForEth.sol/contract.SudoswapSellNftsForEth.html">SudoswapSellNftsForEth</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sudoswapbuynftswitheth"><a class="header" href="#sudoswapbuynftswitheth">SudoswapBuyNftsWithEth</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/sudoswap/BuyNftsWithEth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/sudoswap/BuyNftsWithEth.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Sends token to the pair in exchange for any <code>numNFTs</code> NFTs.</p>
<h2 id="state-variables-9"><a class="header" href="#state-variables-9">State Variables</a></h2>
<h3 id="ethrecipient"><a class="header" href="#ethrecipient">ethRecipient</a></h3>
<p>Temporary store for a fallback ETH recipient</p>
<pre><code class="language-solidity">address ethRecipient;
</code></pre>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="execute-12"><a class="header" href="#execute-12">execute</a></h3>
<p>Buys one or more NFTs from a Sudoswap pool using the paired token.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint spent);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spent</code></td><td><code>uint256</code></td><td>The amount of ETH or ERC20 spent on the execution</td></tr>
</tbody></table>
</div>
<h3 id="receive-1"><a class="header" href="#receive-1">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="structs-11"><a class="header" href="#structs-11">Structs</a></h2>
<h3 id="actionrequest-11"><a class="header" href="#actionrequest-11">ActionRequest</a></h3>
<p>Store our required information to action a buy.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address pair;
    uint numNFTs;
    uint maxExpectedTokenInput;
    address nftRecipient;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sudoswapcreatepair"><a class="header" href="#sudoswapcreatepair">SudoswapCreatePair</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/sudoswap/CreatePair.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/sudoswap/CreatePair.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>New pairs for the sudoswap AMM are created with the LSSVMPairFactory. LPs will call
either createPairETH or createPairERC20 depending on their token type (i.e. if they
wish to utilize ETH or an ERC20). This will deploy a new LSSVMPair contract.
Each pair has one owner (initially set to be the caller), and multiple pools for the
same token and NFT pair can exist, even for the same owner. This is due to each pair
having its own potentially different spot price and bonding curve.</p>
<p><em>https://docs.sudoswap.xyz/reference/pair-creation/</em></p>
<h2 id="state-variables-10"><a class="header" href="#state-variables-10">State Variables</a></h2>
<h3 id="pairfactory"><a class="header" href="#pairfactory">pairFactory</a></h3>
<p>Store our pair factory</p>
<pre><code class="language-solidity">LSSVMPairFactory public immutable pairFactory;
</code></pre>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="constructor-8"><a class="header" href="#constructor-8">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(address payable _pairFactory);
</code></pre>
<h3 id="execute-13"><a class="header" href="#execute-13">execute</a></h3>
<p>Creates a new Sudoswap pairing.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint Integer representation of the created pair address</td></tr>
</tbody></table>
</div>
<h2 id="structs-12"><a class="header" href="#structs-12">Structs</a></h2>
<h3 id="actionrequest-12"><a class="header" href="#actionrequest-12">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    address token;
    address nft;
    address bondingCurve;
    LSSVMPair.PoolType poolType;
    uint128 delta;
    uint96 fee;
    uint128 spotPrice;
    uint initialTokenBalance;
    uint[] initialNftIds;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sudoswapsellnftsforeth"><a class="header" href="#sudoswapsellnftsforeth">SudoswapSellNftsForEth</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/sudoswap/SellNftsForEth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/sudoswap/SellNftsForEth.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Sends a set of NFTs to the pair in exchange for token.</p>
<p><em>To compute the amount of token to that will be received, call
<code>bondingCurve.getSellInfo</code>.</em></p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="execute-14"><a class="header" href="#execute-14">execute</a></h3>
<p>Sells one or more NFTs into a Sudoswap pool for the paired token.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of ETH or ERC20 received in exchange for the NFTs</td></tr>
</tbody></table>
</div>
<h2 id="structs-13"><a class="header" href="#structs-13">Structs</a></h2>
<h3 id="actionrequest-13"><a class="header" href="#actionrequest-13">ActionRequest</a></h3>
<p>Store our required information to action a sell.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address pair;
    uint[] nftIds;
    uint minExpectedTokenOutput;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-9"><a class="header" href="#contents-9">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/sushiswap/AddLiquidity.sol/contract.SushiswapAddLiquidity.html">SushiswapAddLiquidity</a></li>
<li><a href="src/contracts/actions/sushiswap/RemoveLiquidity.sol/contract.SushiswapRemoveLiquidity.html">SushiswapRemoveLiquidity</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sushiswapaddliquidity"><a class="header" href="#sushiswapaddliquidity">SushiswapAddLiquidity</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/sushiswap/AddLiquidity.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/sushiswap/AddLiquidity.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Allows liquidity to be added to a Sushiswap position.</p>
<h2 id="state-variables-11"><a class="header" href="#state-variables-11">State Variables</a></h2>
<h3 id="eth_token"><a class="header" href="#eth_token">ETH_TOKEN</a></h3>
<p>ETH token address</p>
<pre><code class="language-solidity">address internal constant ETH_TOKEN = 0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE;
</code></pre>
<h3 id="uniswaprouter"><a class="header" href="#uniswaprouter">uniswapRouter</a></h3>
<p>Uniswap contract references</p>
<pre><code class="language-solidity">IUniswapV2Router01 public immutable uniswapRouter;
</code></pre>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="constructor-9"><a class="header" href="#constructor-9">constructor</a></h3>
<p>Sets up our immutable Sushiswap contract references.</p>
<pre><code class="language-solidity">constructor(address _uniswapRouter);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_uniswapRouter</code></td><td><code>address</code></td><td>The address of the external Uniswap router contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-15"><a class="header" href="#execute-15">execute</a></h3>
<p>Adds liquidity to the Sushiswap pool, with logic varying if one of the tokens
is specified to be ETH, rather than an ERC20.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h3 id="_addethliquidity"><a class="header" href="#_addethliquidity">_addEthLiquidity</a></h3>
<pre><code class="language-solidity">function _addEthLiquidity(ActionRequest memory request) internal returns (uint);
</code></pre>
<h3 id="_addtokenliquidity"><a class="header" href="#_addtokenliquidity">_addTokenLiquidity</a></h3>
<pre><code class="language-solidity">function _addTokenLiquidity(ActionRequest memory request) internal returns (uint);
</code></pre>
<h3 id="receive-2"><a class="header" href="#receive-2">receive</a></h3>
<p>Allows the contract to receive ETH as an intermediary.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="structs-14"><a class="header" href="#structs-14">Structs</a></h2>
<h3 id="actionrequest-14"><a class="header" href="#actionrequest-14">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    address tokenA;
    address tokenB;
    address to;
    uint amountADesired;
    uint amountBDesired;
    uint amountAMin;
    uint amountBMin;
    uint deadline;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sushiswapremoveliquidity"><a class="header" href="#sushiswapremoveliquidity">SushiswapRemoveLiquidity</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/sushiswap/RemoveLiquidity.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/sushiswap/RemoveLiquidity.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>Allows liquidity to be removed from a Sushiswap position.</p>
<h2 id="state-variables-12"><a class="header" href="#state-variables-12">State Variables</a></h2>
<h3 id="weth_token"><a class="header" href="#weth_token">WETH_TOKEN</a></h3>
<p>WETH token address</p>
<pre><code class="language-solidity">address internal constant WETH_TOKEN = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h3 id="uniswaprouter-1"><a class="header" href="#uniswaprouter-1">uniswapRouter</a></h3>
<p>Uniswap contract references</p>
<pre><code class="language-solidity">IUniswapV2Router01 public immutable uniswapRouter;
</code></pre>
<h3 id="uniswapfactory"><a class="header" href="#uniswapfactory">uniswapFactory</a></h3>
<pre><code class="language-solidity">IUniswapV2Factory public immutable uniswapFactory;
</code></pre>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="constructor-10"><a class="header" href="#constructor-10">constructor</a></h3>
<p>Sets up our immutable Sushiswap contract references.</p>
<pre><code class="language-solidity">constructor(address _uniswapRouter, address _uniswapFactory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_uniswapRouter</code></td><td><code>address</code></td><td>The address of the external Uniswap router contract</td></tr>
<tr><td><code>_uniswapFactory</code></td><td><code>address</code></td><td>The address of the external Uniswap factory contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-16"><a class="header" href="#execute-16">execute</a></h3>
<p>Removes liquidity to the Sushiswap pool.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-15"><a class="header" href="#structs-15">Structs</a></h2>
<h3 id="actionrequest-15"><a class="header" href="#actionrequest-15">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    address tokenA;
    address tokenB;
    address to;
    uint liquidity;
    uint amountAMin;
    uint amountBMin;
    uint deadline;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-10"><a class="header" href="#contents-10">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/uniswap/AddLiquidity.sol/contract.UniswapAddLiquidity.html">UniswapAddLiquidity</a></li>
<li><a href="src/contracts/actions/uniswap/ClaimPoolRewards.sol/contract.UniswapClaimPoolRewards.html">UniswapClaimPoolRewards</a></li>
<li><a href="src/contracts/actions/uniswap/CreatePool.sol/contract.UniswapCreatePool.html">UniswapCreatePool</a></li>
<li><a href="src/contracts/actions/uniswap/MintPosition.sol/contract.UniswapMintPosition.html">UniswapMintPosition</a></li>
<li><a href="src/contracts/actions/uniswap/RemoveLiquidity.sol/contract.UniswapRemoveLiquidity.html">UniswapRemoveLiquidity</a></li>
<li><a href="src/contracts/actions/uniswap/SellTokensForETH.sol/contract.UniswapSellTokensForETH.html">UniswapSellTokensForETH</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapaddliquidity"><a class="header" href="#uniswapaddliquidity">UniswapAddLiquidity</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/uniswap/AddLiquidity.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/uniswap/AddLiquidity.sol//src/contracts/actions/utils/UniswapActionBase.sol/contract.UniswapActionBase.html">UniswapActionBase</a></p>
<p><strong>Author:</strong>
Twade</p>
<p>Adds liquidity against an existing Uniswap ERC721 position.</p>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="constructor-11"><a class="header" href="#constructor-11">constructor</a></h3>
<p>Assigns our Uniswap V3 position manager contract that will be called at
various points to interact with the platform.</p>
<pre><code class="language-solidity">constructor(address _positionManager);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_positionManager</code></td><td><code>address</code></td><td>The address of the UV3 position manager contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-17"><a class="header" href="#execute-17">execute</a></h3>
<p>Adds liquidity to an existing ERC721 position.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h3 id="_execute"><a class="header" href="#_execute">_execute</a></h3>
<pre><code class="language-solidity">function _execute(ActionRequest memory request) internal requiresUniswapToken(request.tokenId) returns (uint);
</code></pre>
<h2 id="structs-16"><a class="header" href="#structs-16">Structs</a></h2>
<h3 id="actionrequest-16"><a class="header" href="#actionrequest-16">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    uint tokenId;
    address token0;
    address token1;
    uint amount0Desired;
    uint amount1Desired;
    uint amount0Min;
    uint amount1Min;
    uint deadline;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapclaimpoolrewards"><a class="header" href="#uniswapclaimpoolrewards">UniswapClaimPoolRewards</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/uniswap/ClaimPoolRewards.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/uniswap/ClaimPoolRewards.sol//src/contracts/actions/utils/UniswapActionBase.sol/contract.UniswapActionBase.html">UniswapActionBase</a></p>
<p><strong>Author:</strong>
Twade</p>
<p>Creates a Uniswap liquidity pool for 2 tokens if there is not currently a pool
already present with the fee amount specified.</p>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="constructor-12"><a class="header" href="#constructor-12">constructor</a></h3>
<p>Assigns our Uniswap V3 position manager contract that will be called at
various points to interact with the platform.</p>
<pre><code class="language-solidity">constructor(address _positionManager);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_positionManager</code></td><td><code>address</code></td><td>The address of the UV3 position manager contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-18"><a class="header" href="#execute-18">execute</a></h3>
<p>Collects the fees associated with provided liquidity.</p>
<p><em>The contract must hold the erc721 token before it can collect fees.</em></p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h3 id="_execute-1"><a class="header" href="#_execute-1">_execute</a></h3>
<pre><code class="language-solidity">function _execute(ActionRequest memory request) internal requiresUniswapToken(request.tokenId) returns (uint);
</code></pre>
<h2 id="structs-17"><a class="header" href="#structs-17">Structs</a></h2>
<h3 id="actionrequest-17"><a class="header" href="#actionrequest-17">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    uint tokenId;
    uint128 amount0;
    uint128 amount1;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapcreatepool"><a class="header" href="#uniswapcreatepool">UniswapCreatePool</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/uniswap/CreatePool.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/uniswap/CreatePool.sol//src/contracts/actions/utils/UniswapActionBase.sol/contract.UniswapActionBase.html">UniswapActionBase</a></p>
<p><strong>Author:</strong>
Twade</p>
<p>Creates a Uniswap liquidity pool for 2 tokens if there is not currently a pool
already present with the fee amount specified.</p>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="constructor-13"><a class="header" href="#constructor-13">constructor</a></h3>
<p>Assigns our Uniswap V3 position manager contract that will be called at
various points to interact with the platform.</p>
<pre><code class="language-solidity">constructor(address _positionManager);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_positionManager</code></td><td><code>address</code></td><td>The address of the UV3 position manager contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-19"><a class="header" href="#execute-19">execute</a></h3>
<p>Creates a Uniswap liquidity pool for 2 tokens if there is not currently a pool
already present with the fee amount specified. If the pool does already exist,
then the existing pool address will be returned in the call anyway.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-18"><a class="header" href="#structs-18">Structs</a></h2>
<h3 id="actionrequest-18"><a class="header" href="#actionrequest-18">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    address token0;
    address token1;
    uint24 fee;
    uint160 sqrtPriceX96;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapmintposition"><a class="header" href="#uniswapmintposition">UniswapMintPosition</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/uniswap/MintPosition.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/uniswap/MintPosition.sol//src/contracts/actions/utils/UniswapActionBase.sol/contract.UniswapActionBase.html">UniswapActionBase</a></p>
<p><strong>Author:</strong>
Twade</p>
<p>Mints a position against a Uniswap pool, minting an ERC721 that will be
passed to the sender. This ERC721 will referenced by subsequent Uniswap
actions to allow liquidity management and reward collection.</p>
<h2 id="functions-21"><a class="header" href="#functions-21">Functions</a></h2>
<h3 id="constructor-14"><a class="header" href="#constructor-14">constructor</a></h3>
<p>Assigns our Uniswap V3 position manager contract that will be called at
various points to interact with the platform.</p>
<pre><code class="language-solidity">constructor(address _positionManager);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_positionManager</code></td><td><code>address</code></td><td>The address of the UV3 position manager contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-20"><a class="header" href="#execute-20">execute</a></h3>
<p>Mints an ERC721 position against a pool and provides initial liquidity.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h2 id="structs-19"><a class="header" href="#structs-19">Structs</a></h2>
<h3 id="actionrequest-19"><a class="header" href="#actionrequest-19">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    address token0;
    address token1;
    uint24 fee;
    int24 tickLower;
    int24 tickUpper;
    uint amount0Desired;
    uint amount1Desired;
    uint amount0Min;
    uint amount1Min;
    uint deadline;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapremoveliquidity"><a class="header" href="#uniswapremoveliquidity">UniswapRemoveLiquidity</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/uniswap/RemoveLiquidity.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/uniswap/RemoveLiquidity.sol//src/contracts/actions/utils/UniswapActionBase.sol/contract.UniswapActionBase.html">UniswapActionBase</a></p>
<p>Decreases liquidity from a position represented by tokenID.</p>
<h2 id="functions-22"><a class="header" href="#functions-22">Functions</a></h2>
<h3 id="constructor-15"><a class="header" href="#constructor-15">constructor</a></h3>
<p>Assigns our Uniswap V3 position manager contract that will be called at
various points to interact with the platform.</p>
<pre><code class="language-solidity">constructor(address _positionManager);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_positionManager</code></td><td><code>address</code></td><td>The address of the UV3 position manager contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-21"><a class="header" href="#execute-21">execute</a></h3>
<p>Removes liquidity from an existing ERC721 position.</p>
<p><em>To collect the liquidity generated, we will need to subsequently call <code>collect</code>
on the pool using the {UniswapClaimPoolRewards} action.</em></p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<h3 id="_execute-2"><a class="header" href="#_execute-2">_execute</a></h3>
<pre><code class="language-solidity">function _execute(ActionRequest memory request) internal requiresUniswapToken(request.tokenId) returns (uint);
</code></pre>
<h2 id="structs-20"><a class="header" href="#structs-20">Structs</a></h2>
<h3 id="actionrequest-20"><a class="header" href="#actionrequest-20">ActionRequest</a></h3>
<pre><code class="language-solidity">struct ActionRequest {
    uint tokenId;
    uint128 liquidity;
    uint amount0Min;
    uint amount1Min;
    uint deadline;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapselltokensforeth"><a class="header" href="#uniswapselltokensforeth">UniswapSellTokensForETH</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/uniswap/SellTokensForETH.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/uniswap/SellTokensForETH.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>This action allows us to use the UniSwap platform to perform a Single Swap.
This will allow us to change an ERC20 in the {Treasury} to another, using dynamic
routing to accomplish this.
https://docs.uniswap.org/contracts/v3/guides/swaps/single-swaps</p>
<h2 id="state-variables-13"><a class="header" href="#state-variables-13">State Variables</a></h2>
<h3 id="swaprouter"><a class="header" href="#swaprouter">swapRouter</a></h3>
<p>The interface of the Uniswap router</p>
<pre><code class="language-solidity">ISwapRouter public immutable swapRouter;
</code></pre>
<h3 id="weth-2"><a class="header" href="#weth-2">WETH</a></h3>
<p>Mainnet WETH contract</p>
<pre><code class="language-solidity">address public immutable WETH = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h2 id="functions-23"><a class="header" href="#functions-23">Functions</a></h2>
<h3 id="constructor-16"><a class="header" href="#constructor-16">constructor</a></h3>
<p>We assign any variable contract addresses in our constructor, allowing us
to have multiple deployed actions if any parameters change.</p>
<pre><code class="language-solidity">constructor(address _swapRouter);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_swapRouter</code></td><td><code>address</code></td><td>The UniSwap {SwapRouter} contract</td></tr>
</tbody></table>
</div>
<h3 id="execute-22"><a class="header" href="#execute-22">execute</a></h3>
<p>Swaps a fixed amount of our <code>token0</code> for a maximum possible amount of WETH using the
USDC/WETH 0.05% pool, by calling <code>exactInputSingle</code> in the swap router.</p>
<p><em>The calling address must approve this contract to spend at least <code>amountIn</code> worth of its
<code>token0</code> for this function to succeed.</em></p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of ETH generated by the execution</td></tr>
</tbody></table>
</div>
<h2 id="structs-21"><a class="header" href="#structs-21">Structs</a></h2>
<h3 id="actionrequest-21"><a class="header" href="#actionrequest-21">ActionRequest</a></h3>
<p>Store our required information to action a swap.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address token0;
    uint24 fee;
    uint amountIn;
    uint amountOutMinimum;
    uint deadline;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-11"><a class="header" href="#contents-11">Contents</a></h1>
<ul>
<li><a href="src/contracts/actions/utils/Multicall.sol/contract.ActionMulticall.html">ActionMulticall</a></li>
<li><a href="src/contracts/actions/utils/RawTx.sol/contract.RawTx.html">RawTx</a></li>
<li><a href="src/contracts/actions/utils/SendEth.sol/contract.SendEth.html">SendEth</a></li>
<li><a href="src/contracts/actions/utils/UniswapActionBase.sol/contract.UniswapActionBase.html">UniswapActionBase</a></li>
<li><a href="src/contracts/actions/utils/UnwrapWeth.sol/contract.UnwrapWeth.html">UnwrapWeth</a></li>
<li><a href="src/contracts/actions/utils/WrapEth.sol/contract.WrapEth.html">WrapEth</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="actionmulticall"><a class="header" href="#actionmulticall">ActionMulticall</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/utils/Multicall.sol">Git Source</a></p>
<p>Provides a function to batch together multiple calls in a single external call.</p>
<h2 id="functions-24"><a class="header" href="#functions-24">Functions</a></h2>
<h3 id="multicall"><a class="header" href="#multicall">multicall</a></h3>
<p><em>Receives and executes a batch of function calls on this contract.</em></p>
<pre><code class="language-solidity">function multicall(address[] calldata actions, bytes[] calldata data) external virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rawtx"><a class="header" href="#rawtx">RawTx</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/utils/RawTx.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/utils/RawTx.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>This action allows us to send bytes to a recipient contract.</p>
<h2 id="functions-25"><a class="header" href="#functions-25">Functions</a></h2>
<h3 id="execute-23"><a class="header" href="#execute-23">execute</a></h3>
<p>Sends a specific amount of ETH to a recipient.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<h3 id="receive-3"><a class="header" href="#receive-3">receive</a></h3>
<p>Allow us to receive any refunds from the transaction back into our account.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="structs-22"><a class="header" href="#structs-22">Structs</a></h2>
<h3 id="actionrequest-22"><a class="header" href="#actionrequest-22">ActionRequest</a></h3>
<p>Store our required information to action a raw transaction.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address payable recipient;
    bytes data;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sendeth"><a class="header" href="#sendeth">SendEth</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/utils/SendEth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/utils/SendEth.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>This action allows us to send ETH.</p>
<h2 id="functions-26"><a class="header" href="#functions-26">Functions</a></h2>
<h3 id="execute-24"><a class="header" href="#execute-24">execute</a></h3>
<p>Sends a specific amount of ETH to a recipient.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of ETH sent by the execution</td></tr>
</tbody></table>
</div>
<h2 id="structs-23"><a class="header" href="#structs-23">Structs</a></h2>
<h3 id="actionrequest-23"><a class="header" href="#actionrequest-23">ActionRequest</a></h3>
<p>Store our required information to action a swap.</p>
<pre><code class="language-solidity">struct ActionRequest {
    address payable recipient;
    uint amount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapactionbase"><a class="header" href="#uniswapactionbase">UniswapActionBase</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/utils/UniswapActionBase.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/utils/UniswapActionBase.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a>, IERC721Receiver</p>
<p><strong>Author:</strong>
Twade</p>
<p>An abstract contract that provides helpers functions and logic for our UniSwap actions.</p>
<h2 id="state-variables-14"><a class="header" href="#state-variables-14">State Variables</a></h2>
<h3 id="positionmanager"><a class="header" href="#positionmanager">positionManager</a></h3>
<p>Stores our Uniswap position manager</p>
<pre><code class="language-solidity">IUniswapV3NonfungiblePositionManager public positionManager;
</code></pre>
<h2 id="functions-27"><a class="header" href="#functions-27">Functions</a></h2>
<h3 id="_setpositionmanager"><a class="header" href="#_setpositionmanager">_setPositionManager</a></h3>
<p>Assigns our Uniswap V3 position manager contract that will be called at
various points to interact with the platform.</p>
<pre><code class="language-solidity">function _setPositionManager(address _positionManager) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_positionManager</code></td><td><code>address</code></td><td>The address of the UV3 position manager contract</td></tr>
</tbody></table>
</div>
<h3 id="onerc721received-3"><a class="header" href="#onerc721received-3">onERC721Received</a></h3>
<p>Implementing <code>onERC721Received</code> so this contract can receive custody of erc721 tokens.</p>
<p><em>Note that the operator is recorded as the owner of the deposited NFT.</em></p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint, bytes calldata) external view override returns (bytes4);
</code></pre>
<h3 id="requiresuniswaptoken"><a class="header" href="#requiresuniswaptoken">requiresUniswapToken</a></h3>
<p>Flash loans a Uniswap ERC token, specified by the ID passed, to this contract so
that it can undertake additional logic. This is required as Uniswap checks that the
calling contract owns the token as a permissions system.</p>
<pre><code class="language-solidity">modifier requiresUniswapToken(uint tokenId);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID of the Uniswap token</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="unwrapweth"><a class="header" href="#unwrapweth">UnwrapWeth</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/utils/UnwrapWeth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/utils/UnwrapWeth.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>This action allows us to unwrap WETH in the {Treasury} into ETH.</p>
<h2 id="state-variables-15"><a class="header" href="#state-variables-15">State Variables</a></h2>
<h3 id="weth-3"><a class="header" href="#weth-3">WETH</a></h3>
<p>Mainnet WETH contract</p>
<pre><code class="language-solidity">address public immutable WETH = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h2 id="functions-28"><a class="header" href="#functions-28">Functions</a></h2>
<h3 id="execute-25"><a class="header" href="#execute-25">execute</a></h3>
<p>Unwraps a fixed amount of WETH into ETH.</p>
<pre><code class="language-solidity">function execute(bytes calldata _request) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_request</code></td><td><code>bytes</code></td><td>Packed bytes that will map to our <code>ActionRequest</code> struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of ETH unwrapped from the WETH by the execution</td></tr>
</tbody></table>
</div>
<h3 id="receive-4"><a class="header" href="#receive-4">receive</a></h3>
<p>To receive ETH from the WETH's withdraw function (it won't work without it).</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="structs-24"><a class="header" href="#structs-24">Structs</a></h2>
<h3 id="actionrequest-24"><a class="header" href="#actionrequest-24">ActionRequest</a></h3>
<p>Store our required information to action a swap.</p>
<pre><code class="language-solidity">struct ActionRequest {
    uint amount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrapeth"><a class="header" href="#wrapeth">WrapEth</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/utils/WrapEth.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/utils/WrapEth.sol//src/contracts/actions/Action.sol/contract.Action.html">Action</a></p>
<p>This action allows us to wrap ETH in the {Treasury} into WETH.</p>
<h2 id="state-variables-16"><a class="header" href="#state-variables-16">State Variables</a></h2>
<h3 id="weth-4"><a class="header" href="#weth-4">WETH</a></h3>
<p>Mainnet WETH contract</p>
<pre><code class="language-solidity">address public immutable WETH = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h2 id="functions-29"><a class="header" href="#functions-29">Functions</a></h2>
<h3 id="execute-26"><a class="header" href="#execute-26">execute</a></h3>
<p>Wraps a fixed amount of ETH into WETH.</p>
<pre><code class="language-solidity">function execute(bytes calldata) public payable override whenNotPaused returns (uint);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of ETH wrapped into WETH by the execution</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="action"><a class="header" href="#action">Action</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/actions/Action.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/actions/Action.sol//src/interfaces/actions/Action.sol/contract.IAction.html">IAction</a>, Ownable, Pausable</p>
<p>Handles our core action logic that each action should inherit.</p>
<h2 id="functions-30"><a class="header" href="#functions-30">Functions</a></h2>
<h3 id="execute-27"><a class="header" href="#execute-27">execute</a></h3>
<p>Stores the executed code for the action.</p>
<pre><code class="language-solidity">function execute(bytes calldata) public payable virtual whenNotPaused returns (uint);
</code></pre>
<h3 id="pause"><a class="header" href="#pause">pause</a></h3>
<p>Pauses execution functionality.</p>
<pre><code class="language-solidity">function pause(bool _p) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_p</code></td><td><code>bool</code></td><td>Boolean value for if the vault should be paused</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-12"><a class="header" href="#contents-12">Contents</a></h1>
<ul>
<li><a href="src/contracts/authorities/AuthorityControl.sol/error.AccountDoesNotHaveRole.html">AccountDoesNotHaveRole</a></li>
<li><a href="src/contracts/authorities/AuthorityControl.sol/error.AccountDoesNotHaveAdminRole.html">AccountDoesNotHaveAdminRole</a></li>
<li><a href="src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a></li>
<li><a href="src/contracts/authorities/AuthorityRegistry.sol/error.UserDoesNotAnAdminRole.html">UserDoesNotAnAdminRole</a></li>
<li><a href="src/contracts/authorities/AuthorityRegistry.sol/error.UserDoesNotHaveGovernorRole.html">UserDoesNotHaveGovernorRole</a></li>
<li><a href="src/contracts/authorities/AuthorityRegistry.sol/error.CannotGrantGovernorRoleToSelf.html">CannotGrantGovernorRoleToSelf</a></li>
<li><a href="src/contracts/authorities/AuthorityRegistry.sol/error.CannotRevokeGovernorRole.html">CannotRevokeGovernorRole</a></li>
<li><a href="src/contracts/authorities/AuthorityRegistry.sol/contract.AuthorityRegistry.html">AuthorityRegistry</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accountdoesnothaverole"><a class="header" href="#accountdoesnothaverole">AccountDoesNotHaveRole</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityControl.sol">Git Source</a></p>
<p>If the account does not have the required role for the call.</p>
<pre><code class="language-solidity">error AccountDoesNotHaveRole(address caller, bytes32 role);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accountdoesnothaveadminrole"><a class="header" href="#accountdoesnothaveadminrole">AccountDoesNotHaveAdminRole</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityControl.sol">Git Source</a></p>
<p>If the account does not have the required admin role for the call.</p>
<pre><code class="language-solidity">error AccountDoesNotHaveAdminRole(address caller);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="authoritycontrol"><a class="header" href="#authoritycontrol">AuthorityControl</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityControl.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Context, <a href="src/contracts/authorities/AuthorityControl.sol//src/interfaces/authorities/AuthorityControl.sol/contract.IAuthorityControl.html">IAuthorityControl</a></p>
<p>This contract is heavily based on the standardised OpenZeppelin <code>AccessControl</code> library.
This allows for the creation of role based access levels that can be assigned to 1-n
addresses.
Contracts will be able to implement the AuthorityControl to provide access to the <code>onlyRole</code> modifier or the
<code>hasRole</code> function. This will ensure that the <code>msg.sender</code> has is allowed to perform an action.
Roles are referred to by their <code>bytes32</code> identifier. These should be exposed in the external API and be
unique. The best way to achieve this is by using <code>public constant</code> hash digests:</p>
<pre><code>bytes32 public constant MY_ROLE = keccak256(&quot;TreasuryManager&quot;);
</code></pre>
<h2 id="state-variables-17"><a class="header" href="#state-variables-17">State Variables</a></h2>
<h3 id="collection_manager"><a class="header" href="#collection_manager">COLLECTION_MANAGER</a></h3>
<p>CollectionManager - Can approve token addresses to be allowed to be used in vaults</p>
<pre><code class="language-solidity">bytes32 public constant COLLECTION_MANAGER = keccak256('CollectionManager');
</code></pre>
<h3 id="floor_manager"><a class="header" href="#floor_manager">FLOOR_MANAGER</a></h3>
<p>FloorManager - Can mint and manage Floor and VeFloor tokens</p>
<pre><code class="language-solidity">bytes32 public constant FLOOR_MANAGER = keccak256('FloorManager');
</code></pre>
<h3 id="governor"><a class="header" href="#governor">GOVERNOR</a></h3>
<p>Governor - A likely DAO owned vote address to allow for wide scale decisions to
be made and implemented.</p>
<pre><code class="language-solidity">bytes32 public constant GOVERNOR = keccak256('Governor');
</code></pre>
<h3 id="guardian"><a class="header" href="#guardian">GUARDIAN</a></h3>
<p>Guardian - Wallet address that will allow for Governor based actions, except without
timeframe restrictions.</p>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN = keccak256('Guardian');
</code></pre>
<h3 id="treasury_manager"><a class="header" href="#treasury_manager">TREASURY_MANAGER</a></h3>
<p>TreasuryManager - Access to Treasury asset management</p>
<pre><code class="language-solidity">bytes32 public constant TREASURY_MANAGER = keccak256('TreasuryManager');
</code></pre>
<h3 id="vault_manager"><a class="header" href="#vault_manager">VAULT_MANAGER</a></h3>
<p>VaultManager - Can create new vaults against approved strategies and collections</p>
<pre><code class="language-solidity">bytes32 public constant VAULT_MANAGER = keccak256('VaultManager');
</code></pre>
<h3 id="vote_manager"><a class="header" href="#vote_manager">VOTE_MANAGER</a></h3>
<p>VoteManager - Can manage account votes</p>
<pre><code class="language-solidity">bytes32 public constant VOTE_MANAGER = keccak256('VoteManager');
</code></pre>
<h3 id="registry"><a class="header" href="#registry">registry</a></h3>
<p>Reference to the {AuthorityRegistry} contract that maintains role allocations</p>
<pre><code class="language-solidity">IAuthorityRegistry public immutable registry;
</code></pre>
<h2 id="functions-31"><a class="header" href="#functions-31">Functions</a></h2>
<h3 id="onlyrole"><a class="header" href="#onlyrole">onlyRole</a></h3>
<p>Modifier that checks that an account has a specific role. Reverts with a
standardized message if user does not have specified role.</p>
<pre><code class="language-solidity">modifier onlyRole(bytes32 role);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td>The keccak256 encoded role string</td></tr>
</tbody></table>
</div>
<h3 id="onlyadminrole"><a class="header" href="#onlyadminrole">onlyAdminRole</a></h3>
<p>Modifier that checks that an account has a governor or guardian role.
Reverts with a standardized message if sender does not have an admin role.</p>
<pre><code class="language-solidity">modifier onlyAdminRole();
</code></pre>
<h3 id="constructor-17"><a class="header" href="#constructor-17">constructor</a></h3>
<p>The address that deploys the {AuthorityControl} becomes the default controller. This
can only be overwritten by the existing.</p>
<pre><code class="language-solidity">constructor(address _registry);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_registry</code></td><td><code>address</code></td><td>The address of our deployed AuthorityRegistry contract</td></tr>
</tbody></table>
</div>
<h3 id="hasrole"><a class="header" href="#hasrole">hasRole</a></h3>
<p>Returns <code>true</code> if <code>account</code> has been granted <code>role</code>.</p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td>The keccak256 encoded role string</td></tr>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address to check ownership of role</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool If the address has the specified user role</td></tr>
</tbody></table>
</div>
<h3 id="hasadminrole"><a class="header" href="#hasadminrole">hasAdminRole</a></h3>
<p>Returns <code>true</code> if <code>account</code> has been granted either GOVERNOR or GUARDIAN role.</p>
<pre><code class="language-solidity">function hasAdminRole(address account) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address to check ownership of role</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool If the address has the GOVERNOR or GUARDIAN role</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="userdoesnotanadminrole"><a class="header" href="#userdoesnotanadminrole">UserDoesNotAnAdminRole</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityRegistry.sol">Git Source</a></p>
<p>require(hasAdminRole(_msgSender()), 'Only admin roles can grant roles');</p>
<pre><code class="language-solidity">error UserDoesNotAnAdminRole(address user);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="userdoesnothavegovernorrole"><a class="header" href="#userdoesnothavegovernorrole">UserDoesNotHaveGovernorRole</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityRegistry.sol">Git Source</a></p>
<p>require(_roles[GOVERNOR][_msgSender()]);</p>
<pre><code class="language-solidity">error UserDoesNotHaveGovernorRole(address user);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cannotgrantgovernorroletoself"><a class="header" href="#cannotgrantgovernorroletoself">CannotGrantGovernorRoleToSelf</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityRegistry.sol">Git Source</a></p>
<p>require(account != _msgSender());</p>
<pre><code class="language-solidity">error CannotGrantGovernorRoleToSelf();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cannotrevokegovernorrole"><a class="header" href="#cannotrevokegovernorrole">CannotRevokeGovernorRole</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityRegistry.sol">Git Source</a></p>
<p>require(role != GOVERNOR, 'Governor role cannot be revoked');</p>
<pre><code class="language-solidity">error CannotRevokeGovernorRole();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="authorityregistry"><a class="header" href="#authorityregistry">AuthorityRegistry</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/authorities/AuthorityRegistry.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Context, <a href="src/contracts/authorities/AuthorityRegistry.sol//src/interfaces/authorities/AuthorityRegistry.sol/contract.IAuthorityRegistry.html">IAuthorityRegistry</a></p>
<p>The {AuthorityRegistry} allows us to assign roles to wallet addresses that we can persist across
our various contracts. The roles will offer explicit permissions to perform actions within those
contracts.
Roles can be granted and revoked dynamically via the {grantRole} and {revokeRole} functions. Only
accounts that have an admin role can call {grantRole} and {revokeRole}.</p>
<h2 id="state-variables-18"><a class="header" href="#state-variables-18">State Variables</a></h2>
<h3 id="governor-1"><a class="header" href="#governor-1">GOVERNOR</a></h3>
<p>Explicit checks for admin roles required</p>
<pre><code class="language-solidity">bytes32 public constant GOVERNOR = keccak256('Governor');
</code></pre>
<h3 id="guardian-1"><a class="header" href="#guardian-1">GUARDIAN</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN = keccak256('Guardian');
</code></pre>
<h3 id="_roles"><a class="header" href="#_roles">_roles</a></h3>
<p>Role =&gt; Member =&gt; Access</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; mapping(address =&gt; bool)) private _roles;
</code></pre>
<h2 id="functions-32"><a class="header" href="#functions-32">Functions</a></h2>
<h3 id="constructor-18"><a class="header" href="#constructor-18">constructor</a></h3>
<p>The address that deploys the {AuthorityRegistry} becomes the default controller.</p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="hasrole-1"><a class="header" href="#hasrole-1">hasRole</a></h3>
<p>Returns <code>true</code> if <code>account</code> has been granted <code>role</code>.</p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) public view virtual override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td>The keccak256 encoded role string</td></tr>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address to check ownership of role</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool If the address has the specified user role</td></tr>
</tbody></table>
</div>
<h3 id="hasadminrole-1"><a class="header" href="#hasadminrole-1">hasAdminRole</a></h3>
<p>Returns <code>true</code> if <code>account</code> has been granted either GOVERNOR or GUARDIAN role.</p>
<pre><code class="language-solidity">function hasAdminRole(address account) public view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address to check ownership of role</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool If the address has the GOVERNOR or GUARDIAN role</td></tr>
</tbody></table>
</div>
<h3 id="grantrole"><a class="header" href="#grantrole">grantRole</a></h3>
<p>Grants <code>role</code> to <code>account</code>. If <code>account</code> had not been already granted <code>role</code>, emits
a {RoleGranted} event.
The caller <em>must</em> have an admin role, otherwise the call will be reverted.
May emit a {RoleGranted} event.</p>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) public virtual override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td>The keccak256 encoded role string</td></tr>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address to grant the role to</td></tr>
</tbody></table>
</div>
<h3 id="_grantrole"><a class="header" href="#_grantrole">_grantRole</a></h3>
<p>Handles the internal logic to grant an account a role, if they don't already hold
the role being granted.</p>
<pre><code class="language-solidity">function _grantRole(bytes32 role, address account) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td>The keccak256 encoded role string</td></tr>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address to grant the role to</td></tr>
</tbody></table>
</div>
<h3 id="revokerole"><a class="header" href="#revokerole">revokeRole</a></h3>
<p>Revokes <code>role</code> from <code>account</code>. If <code>account</code> had been granted <code>role</code>, emits a
{RoleRevoked} event.
The caller <em>must</em> have an admin role, otherwise the call will be reverted.
May emit a {RoleRevoked} event.</p>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) public virtual override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td>The keccak256 encoded role string</td></tr>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address to revoke role from</td></tr>
</tbody></table>
</div>
<h3 id="renouncerole"><a class="header" href="#renouncerole">renounceRole</a></h3>
<p>Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked <code>role</code>, emits a {RoleRevoked}
event.
May emit a {RoleRevoked} event.</p>
<p><em>The GOVERNOR role cannot be renounced.</em></p>
<pre><code class="language-solidity">function renounceRole(bytes32 role) public virtual override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td>The keccak256 encoded role string being revoked</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-13"><a class="header" href="#contents-13">Contents</a></h1>
<ul>
<li><a href="src/contracts/bribes/VoteMarket.sol/contract.VoteMarket.html">VoteMarket</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="votemarket"><a class="header" href="#votemarket">VoteMarket</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/bribes/VoteMarket.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/bribes/VoteMarket.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, <a href="src/contracts/bribes/VoteMarket.sol//src/interfaces/bribes/VoteMarket.sol/contract.IVoteMarket.html">IVoteMarket</a>, Pausable</p>
<h2 id="state-variables-19"><a class="header" href="#state-variables-19">State Variables</a></h2>
<h3 id="minimum_epochs"><a class="header" href="#minimum_epochs">MINIMUM_EPOCHS</a></h3>
<p>Minimum number of epochs for a Bribe</p>
<pre><code class="language-solidity">uint8 public constant MINIMUM_EPOCHS = 1;
</code></pre>
<h3 id="dao_fee"><a class="header" href="#dao_fee">DAO_FEE</a></h3>
<p>The percentage of bribes that will be sent to the DAO</p>
<pre><code class="language-solidity">uint8 public constant DAO_FEE = 2;
</code></pre>
<h3 id="claim_window_epochs"><a class="header" href="#claim_window_epochs">CLAIM_WINDOW_EPOCHS</a></h3>
<p>The number of epochs to claim generated rewards</p>
<pre><code class="language-solidity">uint public constant CLAIM_WINDOW_EPOCHS = 4;
</code></pre>
<h3 id="feecollector"><a class="header" href="#feecollector">feeCollector</a></h3>
<p>The recipient of any fees collected. This should be set to the {Treasury}, or
to a specialist fee collection contract.</p>
<pre><code class="language-solidity">address public immutable feeCollector;
</code></pre>
<h3 id="epochmerkles"><a class="header" href="#epochmerkles">epochMerkles</a></h3>
<p>Store our claim merkles that define the available rewards for each user across
all collections and bribes.</p>
<pre><code class="language-solidity">mapping(uint =&gt; bytes32) public epochMerkles;
</code></pre>
<h3 id="epochcollectionvotes"><a class="header" href="#epochcollectionvotes">epochCollectionVotes</a></h3>
<p>Store the total number of votes cast against each collection at each epoch</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public epochCollectionVotes;
</code></pre>
<h3 id="bribes"><a class="header" href="#bribes">bribes</a></h3>
<p>Stores a list of all bribes created, across past, live and future</p>
<pre><code class="language-solidity">Bribe[] public bribes;
</code></pre>
<h3 id="collectionbribes"><a class="header" href="#collectionbribes">collectionBribes</a></h3>
<p>A mapping of collection addresses to an array of bribe array indexes</p>
<pre><code class="language-solidity">mapping(address =&gt; uint[]) public collectionBribes;
</code></pre>
<h3 id="userclaimed"><a class="header" href="#userclaimed">userClaimed</a></h3>
<p>Store a list of users that have claimed. Each encoded bytes represents a user that
has claimed against a specific epoch and bribe ID.</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; bool) internal userClaimed;
</code></pre>
<h3 id="isblacklisted"><a class="header" href="#isblacklisted">isBlacklisted</a></h3>
<p>Blacklisted addresses per bribe that aren't counted for rewards arithmetics.</p>
<pre><code class="language-solidity">mapping(uint =&gt; mapping(address =&gt; bool)) public isBlacklisted;
</code></pre>
<h3 id="nextid"><a class="header" href="#nextid">nextID</a></h3>
<p>Track our bribe index iteration</p>
<pre><code class="language-solidity">uint internal nextID;
</code></pre>
<h3 id="oraclewallet"><a class="header" href="#oraclewallet">oracleWallet</a></h3>
<p>Oracle wallet that has permission to write merkles</p>
<pre><code class="language-solidity">address public oracleWallet;
</code></pre>
<h3 id="collectionregistry"><a class="header" href="#collectionregistry">collectionRegistry</a></h3>
<p>Store our collection registry</p>
<pre><code class="language-solidity">ICollectionRegistry public immutable collectionRegistry;
</code></pre>
<h2 id="functions-33"><a class="header" href="#functions-33">Functions</a></h2>
<h3 id="constructor-19"><a class="header" href="#constructor-19">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _collectionRegistry, address _oracleWallet, address _feeCollector);
</code></pre>
<h3 id="createbribe"><a class="header" href="#createbribe">createBribe</a></h3>
<p>Create a new bribe that can be applied to either a New Collection War or
Sweep War.</p>
<p><em>If a New Collection War bribe is being created, then the
<code>numberOfEpochs</code> value must be <code>1</code>.</em></p>
<pre><code class="language-solidity">function createBribe(
    address collection,
    address rewardToken,
    uint startEpoch,
    uint8 numberOfEpochs,
    uint maxRewardPerVote,
    uint totalRewardAmount,
    address[] calldata blacklist
) external whenNotPaused returns (uint newBribeID);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>collection</code></td><td><code>address</code></td><td>Address of the target collection.</td></tr>
<tr><td><code>rewardToken</code></td><td><code>address</code></td><td>Address of the ERC20 used or rewards.</td></tr>
<tr><td><code>startEpoch</code></td><td><code>uint256</code></td><td>The epoch to start offering the bribe.</td></tr>
<tr><td><code>numberOfEpochs</code></td><td><code>uint8</code></td><td>Number of periods.</td></tr>
<tr><td><code>maxRewardPerVote</code></td><td><code>uint256</code></td><td>Target Bias for the Gauge.</td></tr>
<tr><td><code>totalRewardAmount</code></td><td><code>uint256</code></td><td>Total Reward Added.</td></tr>
<tr><td><code>blacklist</code></td><td><code>address[]</code></td><td>Array of addresses to blacklist.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newBribeID</code></td><td><code>uint256</code></td><td>of the bribe created.</td></tr>
</tbody></table>
</div>
<h3 id="claim"><a class="header" href="#claim">claim</a></h3>
<p>Claims against any bribes for a user.</p>
<pre><code class="language-solidity">function claim(
    address account,
    uint[] calldata epoch,
    uint[] calldata bribeIds,
    address[] calldata collection,
    uint[] calldata votes,
    bytes32[][] calldata merkleProof
) external whenNotPaused;
</code></pre>
<h3 id="claimall"><a class="header" href="#claimall">claimAll</a></h3>
<p>Claims against all bribes in a collection for a user.</p>
<pre><code class="language-solidity">function claimAll(
    address account,
    uint[] calldata epoch,
    address[] calldata collection,
    uint[] calldata votes,
    bytes32[][] calldata merkleProof
) external whenNotPaused;
</code></pre>
<h3 id="reclaimexpiredfunds"><a class="header" href="#reclaimexpiredfunds">reclaimExpiredFunds</a></h3>
<p>Allows the bribe creator to withdraw unclaimed funds when the claim window has expired.</p>
<pre><code class="language-solidity">function reclaimExpiredFunds(uint bribeId) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>bribeId</code></td><td><code>uint256</code></td><td>The bribe ID to be reclaimed</td></tr>
</tbody></table>
</div>
<h3 id="_claim"><a class="header" href="#_claim">_claim</a></h3>
<p>Handles the internal logic to process a claim against a bribe.</p>
<pre><code class="language-solidity">function _claim(uint bribeId, address account, uint epoch, address collection, uint votes, bytes32[] calldata merkleProof) internal;
</code></pre>
<h3 id="extendbribes"><a class="header" href="#extendbribes">extendBribes</a></h3>
<p>Allows our platform to increase the length of any sweep war bribes.</p>
<p><em>This will be called by the {EpochManager} when a New Collection War is created
to extend the duration any Sweep War bribes that would be active at that epoch.</em></p>
<pre><code class="language-solidity">function extendBribes(uint epoch) external onlyEpochManager;
</code></pre>
<h3 id="hasuserclaimed"><a class="header" href="#hasuserclaimed">hasUserClaimed</a></h3>
<p>Checks if the user has already claimed against a bribe at an epoch.</p>
<pre><code class="language-solidity">function hasUserClaimed(uint bribeId, uint epoch) external view returns (bool);
</code></pre>
<h3 id="_claimhash"><a class="header" href="#_claimhash">_claimHash</a></h3>
<p>Calculates our claim has for a bribe at an epoch.</p>
<pre><code class="language-solidity">function _claimHash(uint bribeId, uint epoch) internal pure returns (bytes32);
</code></pre>
<h3 id="registerclaims"><a class="header" href="#registerclaims">registerClaims</a></h3>
<p>Allows our oracle wallet to upload a merkle root to define claims available against
a bribe when the epoch ends.</p>
<pre><code class="language-solidity">function registerClaims(uint epoch, bytes32 merkleRoot, address[] calldata collections, uint[] calldata collectionVotes)
    external
    onlyOracle;
</code></pre>
<h3 id="setoraclewallet"><a class="header" href="#setoraclewallet">setOracleWallet</a></h3>
<p>Sets our authorised oracle wallet that will upload bribe claims.</p>
<pre><code class="language-solidity">function setOracleWallet(address _oracleWallet) external onlyOwner;
</code></pre>
<h3 id="expirecollectionbribes"><a class="header" href="#expirecollectionbribes">expireCollectionBribes</a></h3>
<p>Allows our oracle wallet to expire collection bribes when they have expired.</p>
<pre><code class="language-solidity">function expireCollectionBribes(address[] calldata collection, uint[] calldata index) external onlyOracle;
</code></pre>
<h3 id="bribeclaimopen"><a class="header" href="#bribeclaimopen">bribeClaimOpen</a></h3>
<p>Checks if a bribe claim window is still open.</p>
<pre><code class="language-solidity">function bribeClaimOpen(uint bribeId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>bribeId</code></td><td><code>uint256</code></td><td>The bribe ID to be checked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool If the claim window is still open</td></tr>
</tbody></table>
</div>
<h3 id="onlyoracle"><a class="header" href="#onlyoracle">onlyOracle</a></h3>
<p>Ensure that only our oracle wallet can call this function.</p>
<pre><code class="language-solidity">modifier onlyOracle();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-14"><a class="header" href="#contents-14">Contents</a></h1>
<ul>
<li><a href="src/contracts/collections/CollectionRegistry.sol/error.CannotApproveNullCollection.html">CannotApproveNullCollection</a></li>
<li><a href="src/contracts/collections/CollectionRegistry.sol/contract.CollectionRegistry.html">CollectionRegistry</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cannotapprovenullcollection"><a class="header" href="#cannotapprovenullcollection">CannotApproveNullCollection</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/collections/CollectionRegistry.sol">Git Source</a></p>
<p>If a zero address strategy tries to be approved</p>
<pre><code class="language-solidity">error CannotApproveNullCollection();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collectionregistry-1"><a class="header" href="#collectionregistry-1">CollectionRegistry</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/collections/CollectionRegistry.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/collections/CollectionRegistry.sol//src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a>, <a href="src/contracts/collections/CollectionRegistry.sol//src/interfaces/collections/CollectionRegistry.sol/contract.ICollectionRegistry.html">ICollectionRegistry</a></p>
<p>Allows collection contracts to be approved and revoked by addresses holding the
{CollectionManager} role. Only once approved can these collections be applied to
new or existing vaults. They will only need to be stored as a mapping of address
to boolean.</p>
<h2 id="state-variables-20"><a class="header" href="#state-variables-20">State Variables</a></h2>
<h3 id="collections"><a class="header" href="#collections">collections</a></h3>
<p>Store a mapping of our approved collections</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) internal collections;
</code></pre>
<h3 id="_approvedcollections"><a class="header" href="#_approvedcollections">_approvedCollections</a></h3>
<p>Maintains an internal array of approved collections for iteration</p>
<pre><code class="language-solidity">address[] internal _approvedCollections;
</code></pre>
<h3 id="pricingexecutor"><a class="header" href="#pricingexecutor">pricingExecutor</a></h3>
<p>Store our pricing executor to validate liquidity before collection addition</p>
<pre><code class="language-solidity">IBasePricingExecutor public pricingExecutor;
</code></pre>
<h3 id="liquiditythreshold"><a class="header" href="#liquiditythreshold">liquidityThreshold</a></h3>
<p>Stores a minimum liquidity threshold that is enforced before a collection can
be approved.</p>
<pre><code class="language-solidity">uint public liquidityThreshold;
</code></pre>
<h2 id="functions-34"><a class="header" href="#functions-34">Functions</a></h2>
<h3 id="constructor-20"><a class="header" href="#constructor-20">constructor</a></h3>
<p>Sets up our contract with our authority control to restrict access to
protected functions.</p>
<pre><code class="language-solidity">constructor(address _authority) AuthorityControl(_authority);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_authority</code></td><td><code>address</code></td><td>{AuthorityRegistry} contract address</td></tr>
</tbody></table>
</div>
<h3 id="isapproved"><a class="header" href="#isapproved">isApproved</a></h3>
<p>Checks if a collection has previously been approved.</p>
<pre><code class="language-solidity">function isApproved(address contractAddr) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>contractAddr</code></td><td><code>address</code></td><td>The collection address to be checked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Returns <code>true</code> if the contract address is an approved collection, otherwise returns <code>false</code>.</td></tr>
</tbody></table>
</div>
<h3 id="approvedcollections"><a class="header" href="#approvedcollections">approvedCollections</a></h3>
<p>Returns an array of collection addresses that have been approved.</p>
<pre><code class="language-solidity">function approvedCollections() external view returns (address[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of collection addresses</td></tr>
</tbody></table>
</div>
<h3 id="approvecollection"><a class="header" href="#approvecollection">approveCollection</a></h3>
<p>Approves a collection contract to be used for vaults.
The collection address cannot be null, and if it is already approved then no changes
will be made.
The caller must have the <code>COLLECTION_MANAGER</code> role.</p>
<pre><code class="language-solidity">function approveCollection(address contractAddr, address underlyingToken) external onlyRole(COLLECTION_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>contractAddr</code></td><td><code>address</code></td><td>Address of unapproved collection to approve</td></tr>
<tr><td><code>underlyingToken</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="unapprovecollection"><a class="header" href="#unapprovecollection">unapproveCollection</a></h3>
<p>Unapproves a collection contract to be used for vaults.
This will prevent the collection from being used in any future strategies.
The caller must have the <code>COLLECTION_MANAGER</code> role.</p>
<pre><code class="language-solidity">function unapproveCollection(address contractAddr) external onlyRole(COLLECTION_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>contractAddr</code></td><td><code>address</code></td><td>Address of approved collection to unapprove</td></tr>
</tbody></table>
</div>
<h3 id="setpricingexecutor"><a class="header" href="#setpricingexecutor">setPricingExecutor</a></h3>
<p>Sets our {PricingExecutor} contract address.</p>
<pre><code class="language-solidity">function setPricingExecutor(address _pricingExecutor) external onlyRole(COLLECTION_MANAGER);
</code></pre>
<h3 id="setcollectionliquiditythreshold"><a class="header" href="#setcollectionliquiditythreshold">setCollectionLiquidityThreshold</a></h3>
<p>Sets our collection liqudity threshold value.</p>
<pre><code class="language-solidity">function setCollectionLiquidityThreshold(uint _liquidityThreshold) external onlyRole(COLLECTION_MANAGER);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-15"><a class="header" href="#contents-15">Contents</a></h1>
<ul>
<li><a href="src/contracts/forks/ABDKMath64x64.sol/contract.ABDKMath64x64.html">ABDKMath64x64</a></li>
<li><a href="src/contracts/forks/GATOrder.sol/contract.GATOrder.html">GATOrder</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abdkmath64x64"><a class="header" href="#abdkmath64x64">ABDKMath64x64</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/forks/ABDKMath64x64.sol">Git Source</a></p>
<p>Smart contract library of mathematical functions operating with signed
64.64-bit fixed point numbers.  Signed 64.64-bit fixed point number is
basically a simple fraction whose numerator is signed 128-bit integer and
denominator is 2^64.  As long as denominator is always the same, there is no
need to store it, thus in Solidity signed 64.64-bit fixed point numbers are
represented by int128 type holding only the numerator.</p>
<h2 id="state-variables-21"><a class="header" href="#state-variables-21">State Variables</a></h2>
<h3 id="min_64x64"><a class="header" href="#min_64x64">MIN_64x64</a></h3>
<pre><code class="language-solidity">int128 private constant MIN_64x64 = -0x80000000000000000000000000000000;
</code></pre>
<h3 id="max_64x64"><a class="header" href="#max_64x64">MAX_64x64</a></h3>
<pre><code class="language-solidity">int128 private constant MAX_64x64 = 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF;
</code></pre>
<h2 id="functions-35"><a class="header" href="#functions-35">Functions</a></h2>
<h3 id="fromint"><a class="header" href="#fromint">fromInt</a></h3>
<p>Convert signed 256-bit integer number into signed 64.64-bit fixed point
number.  Revert on overflow.</p>
<pre><code class="language-solidity">function fromInt(int x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int256</code></td><td>signed 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="toint"><a class="header" href="#toint">toInt</a></h3>
<p>Convert signed 64.64 fixed point number into signed 64-bit integer number
rounding down.</p>
<pre><code class="language-solidity">function toInt(int128 x) internal pure returns (int64);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int64</code></td><td>signed 64-bit integer number</td></tr>
</tbody></table>
</div>
<h3 id="fromuint"><a class="header" href="#fromuint">fromUInt</a></h3>
<p>Convert unsigned 256-bit integer number into signed 64.64-bit fixed point
number.  Revert on overflow.</p>
<pre><code class="language-solidity">function fromUInt(uint x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="touint"><a class="header" href="#touint">toUInt</a></h3>
<p>Convert signed 64.64 fixed point number into unsigned 64-bit integer
number rounding down.  Revert on underflow.</p>
<pre><code class="language-solidity">function toUInt(int128 x) internal pure returns (uint64);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint64</code></td><td>unsigned 64-bit integer number</td></tr>
</tbody></table>
</div>
<h3 id="from128x128"><a class="header" href="#from128x128">from128x128</a></h3>
<p>Convert signed 128.128 fixed point number into signed 64.64-bit fixed point
number rounding down.  Revert on overflow.</p>
<pre><code class="language-solidity">function from128x128(int x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int256</code></td><td>signed 128.128-bin fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="to128x128"><a class="header" href="#to128x128">to128x128</a></h3>
<p>Convert signed 64.64 fixed point number into signed 128.128 fixed point
number.</p>
<pre><code class="language-solidity">function to128x128(int128 x) internal pure returns (int);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int256</code></td><td>signed 128.128 fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="add"><a class="header" href="#add">add</a></h3>
<p>Calculate x + y.  Revert on overflow.</p>
<pre><code class="language-solidity">function add(int128 x, int128 y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="sub"><a class="header" href="#sub">sub</a></h3>
<p>Calculate x - y.  Revert on overflow.</p>
<pre><code class="language-solidity">function sub(int128 x, int128 y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="mul"><a class="header" href="#mul">mul</a></h3>
<p>Calculate x * y rounding down.  Revert on overflow.</p>
<pre><code class="language-solidity">function mul(int128 x, int128 y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="muli"><a class="header" href="#muli">muli</a></h3>
<p>Calculate x * y rounding towards zero, where x is signed 64.64 fixed point
number and y is signed 256-bit integer number.  Revert on overflow.</p>
<pre><code class="language-solidity">function muli(int128 x, int y) internal pure returns (int);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64 fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>int256</code></td><td>signed 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int256</code></td><td>signed 256-bit integer number</td></tr>
</tbody></table>
</div>
<h3 id="mulu"><a class="header" href="#mulu">mulu</a></h3>
<p>Calculate x * y rounding down, where x is signed 64.64 fixed point number
and y is unsigned 256-bit integer number.  Revert on overflow.</p>
<pre><code class="language-solidity">function mulu(int128 x, uint y) internal pure returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64 fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
</tbody></table>
</div>
<h3 id="div"><a class="header" href="#div">div</a></h3>
<p>Calculate x / y rounding towards zero.  Revert on overflow or when y is
zero.</p>
<pre><code class="language-solidity">function div(int128 x, int128 y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="divi"><a class="header" href="#divi">divi</a></h3>
<p>Calculate x / y rounding towards zero, where x and y are signed 256-bit
integer numbers.  Revert on overflow or when y is zero.</p>
<pre><code class="language-solidity">function divi(int x, int y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int256</code></td><td>signed 256-bit integer number</td></tr>
<tr><td><code>y</code></td><td><code>int256</code></td><td>signed 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="divu"><a class="header" href="#divu">divu</a></h3>
<p>Calculate x / y rounding towards zero, where x and y are unsigned 256-bit
integer numbers.  Revert on overflow or when y is zero.</p>
<pre><code class="language-solidity">function divu(uint x, uint y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
<tr><td><code>y</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="neg"><a class="header" href="#neg">neg</a></h3>
<p>Calculate -x.  Revert on overflow.</p>
<pre><code class="language-solidity">function neg(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="abs"><a class="header" href="#abs">abs</a></h3>
<p>Calculate |x|.  Revert on overflow.</p>
<pre><code class="language-solidity">function abs(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="inv"><a class="header" href="#inv">inv</a></h3>
<p>Calculate 1 / x rounding towards zero.  Revert on overflow or when x is
zero.</p>
<pre><code class="language-solidity">function inv(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="avg"><a class="header" href="#avg">avg</a></h3>
<p>Calculate arithmetics average of x and y, i.e. (x + y) / 2 rounding down.</p>
<pre><code class="language-solidity">function avg(int128 x, int128 y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="gavg"><a class="header" href="#gavg">gavg</a></h3>
<p>Calculate geometric average of x and y, i.e. sqrt (x * y) rounding down.
Revert on overflow or in case x * y is negative.</p>
<pre><code class="language-solidity">function gavg(int128 x, int128 y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="pow"><a class="header" href="#pow">pow</a></h3>
<p>Calculate x^y assuming 0^0 is 1, where x is signed 64.64 fixed point number
and y is unsigned 256-bit integer number.  Revert on overflow.</p>
<pre><code class="language-solidity">function pow(int128 x, uint y) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
<tr><td><code>y</code></td><td><code>uint256</code></td><td>uint256 value</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="sqrt"><a class="header" href="#sqrt">sqrt</a></h3>
<p>Calculate sqrt (x) rounding down.  Revert if x &lt; 0.</p>
<pre><code class="language-solidity">function sqrt(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="log_2"><a class="header" href="#log_2">log_2</a></h3>
<p>Calculate binary logarithm of x.  Revert if x &lt;= 0.</p>
<pre><code class="language-solidity">function log_2(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="ln"><a class="header" href="#ln">ln</a></h3>
<p>Calculate natural logarithm of x.  Revert if x &lt;= 0.</p>
<pre><code class="language-solidity">function ln(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="exp_2"><a class="header" href="#exp_2">exp_2</a></h3>
<p>Calculate binary exponent of x.  Revert on overflow.</p>
<pre><code class="language-solidity">function exp_2(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="exp"><a class="header" href="#exp">exp</a></h3>
<p>Calculate natural exponent of x.  Revert on overflow.</p>
<pre><code class="language-solidity">function exp(int128 x) internal pure returns (int128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>int128</code></td><td>signed 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="divuu"><a class="header" href="#divuu">divuu</a></h3>
<p>Calculate x / y rounding towards zero, where x and y are unsigned 256-bit
integer numbers.  Revert on overflow or when y is zero.</p>
<pre><code class="language-solidity">function divuu(uint x, uint y) private pure returns (uint128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
<tr><td><code>y</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint128</code></td><td>unsigned 64.64-bit fixed point number</td></tr>
</tbody></table>
</div>
<h3 id="sqrtu"><a class="header" href="#sqrtu">sqrtu</a></h3>
<p>Calculate sqrt (x) rounding down, where x is unsigned 256-bit integer
number.</p>
<pre><code class="language-solidity">function sqrtu(uint x) private pure returns (uint128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>uint256</code></td><td>unsigned 256-bit integer number</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint128</code></td><td>unsigned 128-bit integer number</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="gatorder"><a class="header" href="#gatorder">GATOrder</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/forks/GATOrder.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC1271</p>
<h2 id="state-variables-22"><a class="header" href="#state-variables-22">State Variables</a></h2>
<h3 id="owner"><a class="header" href="#owner">owner</a></h3>
<pre><code class="language-solidity">address public immutable owner;
</code></pre>
<h3 id="selltoken"><a class="header" href="#selltoken">sellToken</a></h3>
<pre><code class="language-solidity">IERC20 public immutable sellToken;
</code></pre>
<h3 id="validfrom"><a class="header" href="#validfrom">validFrom</a></h3>
<pre><code class="language-solidity">uint32 public immutable validFrom;
</code></pre>
<h3 id="orderhash"><a class="header" href="#orderhash">orderHash</a></h3>
<pre><code class="language-solidity">bytes32 public orderHash;
</code></pre>
<h2 id="functions-36"><a class="header" href="#functions-36">Functions</a></h2>
<h3 id="constructor-21"><a class="header" href="#constructor-21">constructor</a></h3>
<pre><code class="language-solidity">constructor(address owner_, IERC20 sellToken_, uint32 validFrom_, bytes32 orderHash_, ICoWSwapSettlement settlement);
</code></pre>
<h3 id="isvalidsignature"><a class="header" href="#isvalidsignature">isValidSignature</a></h3>
<pre><code class="language-solidity">function isValidSignature(bytes32 hash, bytes calldata) external view returns (bytes4 magicValue);
</code></pre>
<h3 id="cancel"><a class="header" href="#cancel">cancel</a></h3>
<pre><code class="language-solidity">function cancel() public;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-16"><a class="header" href="#contents-16">Contents</a></h1>
<ul>
<li><a href="src/contracts/migrations/MigrateFloorToken.sol/error.NoTokensAvailableToMigrate.html">NoTokensAvailableToMigrate</a></li>
<li><a href="src/contracts/migrations/MigrateFloorToken.sol/contract.MigrateFloorToken.html">MigrateFloorToken</a></li>
<li><a href="src/contracts/migrations/VestingClaim.sol/contract.VestingClaim.html">VestingClaim</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notokensavailabletomigrate"><a class="header" href="#notokensavailabletomigrate">NoTokensAvailableToMigrate</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/migrations/MigrateFloorToken.sol">Git Source</a></p>
<p>If there are no tokens available for the recipient</p>
<pre><code class="language-solidity">error NoTokensAvailableToMigrate();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="migratefloortoken"><a class="header" href="#migratefloortoken">MigrateFloorToken</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/migrations/MigrateFloorToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/migrations/MigrateFloorToken.sol//src/interfaces/migrations/MigrateFloorToken.sol/contract.IMigrateFloorToken.html">IMigrateFloorToken</a></p>
<p>Burns FLOOR v1 tokens for FLOOR v2 tokens. We have a list of the defined
V1 tokens in our test suites that should be accept. These include a, g and
s floor variants.
This should provide a 1:1 V1 burn -&gt; V2 mint of tokens.
The balance of all tokens will be attempted to be migrated, so 4 full approvals
should be made prior to calling this contract function.</p>
<h2 id="state-variables-23"><a class="header" href="#state-variables-23">State Variables</a></h2>
<h3 id="migrated_tokens"><a class="header" href="#migrated_tokens">MIGRATED_TOKENS</a></h3>
<p>List of FLOOR V1 token contract addresses on mainnet</p>
<pre><code class="language-solidity">address[] private MIGRATED_TOKENS = [
    0xf59257E961883636290411c11ec5Ae622d19455e,
    0x0C3983165E9BcE0a9Bb43184CC4eEBb26dce48fA,
    0xb1Cc59Fc717b8D4783D41F952725177298B5619d,
    0x164AFe96912099543BC2c48bb9358a095Db8e784
];
</code></pre>
<h3 id="newfloor"><a class="header" href="#newfloor">newFloor</a></h3>
<p>Contract address of new FLOOR V2 token</p>
<pre><code class="language-solidity">address public immutable newFloor;
</code></pre>
<h2 id="functions-37"><a class="header" href="#functions-37">Functions</a></h2>
<h3 id="constructor-22"><a class="header" href="#constructor-22">constructor</a></h3>
<p>Stores the deployed V2 FLOOR token contract address.</p>
<pre><code class="language-solidity">constructor(address _newFloor);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newFloor</code></td><td><code>address</code></td><td>Address of our deployed FLOOR V2 token</td></tr>
</tbody></table>
</div>
<h3 id="upgradefloortoken"><a class="header" href="#upgradefloortoken">upgradeFloorToken</a></h3>
<p>Iterates through existing V1 FLOOR tokens and mints them into FLOOR V2 tokens. The existing
V1 tokens aren't burnt, but are just left in the existing wallet.</p>
<p><em>For the gFloor token, we need to update the decimal accuracy from 9 to 18.</em></p>
<pre><code class="language-solidity">function upgradeFloorToken() external override;
</code></pre>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="floormigrated"><a class="header" href="#floormigrated">FloorMigrated</a></h3>
<p>Emitted when tokens have been migrated to a user</p>
<pre><code class="language-solidity">event FloorMigrated(address caller, uint amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vestingclaim"><a class="header" href="#vestingclaim">VestingClaim</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/migrations/VestingClaim.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable</p>
<p>Handles the migration of remaining claimable FLOOR tokens. This will be a
slightly manual process as it requires the {RemainingVestingFloor} report
to be run before time to determine the amount of FLOOR tokens that should
be allocated, and to which addresses.</p>
<h2 id="state-variables-24"><a class="header" href="#state-variables-24">State Variables</a></h2>
<h3 id="floor"><a class="header" href="#floor">FLOOR</a></h3>
<pre><code class="language-solidity">IFLOOR public immutable FLOOR;
</code></pre>
<h3 id="weth-5"><a class="header" href="#weth-5">WETH</a></h3>
<pre><code class="language-solidity">IERC20 public immutable WETH;
</code></pre>
<h3 id="treasury"><a class="header" href="#treasury">treasury</a></h3>
<pre><code class="language-solidity">ITreasury private immutable treasury;
</code></pre>
<h3 id="allocation"><a class="header" href="#allocation">allocation</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint) internal allocation;
</code></pre>
<h2 id="functions-38"><a class="header" href="#functions-38">Functions</a></h2>
<h3 id="constructor-23"><a class="header" href="#constructor-23">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _floor, address _weth, address _treasury);
</code></pre>
<h3 id="claim-1"><a class="header" href="#claim-1">claim</a></h3>
<p>Allows wallet to claim FLOOR. We multiply by 1e6 as we convert the FLOOR from
a WETH finney.</p>
<pre><code class="language-solidity">function claim(address _to, uint _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address The address that is claiming</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint256 The amount being claimed in FLOOR (18 decimals)</td></tr>
</tbody></table>
</div>
<h3 id="redeemablefor"><a class="header" href="#redeemablefor">redeemableFor</a></h3>
<p>View FLOOR claimable for address.</p>
<pre><code class="language-solidity">function redeemableFor(address _address) public view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_address</code></td><td><code>address</code></td><td>The wallet address to check allocation of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The amount of FLOOR tokens allocated and available to claim</td></tr>
</tbody></table>
</div>
<h3 id="setallocation"><a class="header" href="#setallocation">setAllocation</a></h3>
<p>Assign a range of FLOOR allocation to addresses.</p>
<p><em>The token does not need to be transferred with this call as it is minted
at point of claim.</em></p>
<pre><code class="language-solidity">function setAllocation(address[] calldata _address, uint[] calldata _amount) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_address</code></td><td><code>address[]</code></td><td>The address made available for allocation claims</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256[]</code></td><td>The amount of tokens allocated to the corresponding address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-17"><a class="header" href="#contents-17">Contents</a></h1>
<ul>
<li><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/error.UnknownUniswapPool.html">UnknownUniswapPool</a></li>
<li><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/contract.IUniswapV3Factory.html">IUniswapV3Factory</a></li>
<li><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/contract.IUniswapV3Pool.html">IUniswapV3Pool</a></li>
<li><a href="src/contracts/pricing/UniswapV3PricingExecutor.sol/contract.UniswapV3PricingExecutor.html">UniswapV3PricingExecutor</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unknownuniswappool"><a class="header" href="#unknownuniswappool">UnknownUniswapPool</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/pricing/UniswapV3PricingExecutor.sol">Git Source</a></p>
<p>If we are unable to find a pool for the Uniswap token combination</p>
<pre><code class="language-solidity">error UnknownUniswapPool();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv3factory"><a class="header" href="#iuniswapv3factory">IUniswapV3Factory</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/pricing/UniswapV3PricingExecutor.sol">Git Source</a></p>
<p>Partial interface for the {IUniswapV3Factory} contract. The full interface can be found here:
https://github.com/Uniswap/v3-core/blob/main/contracts/interfaces/IUniswapV3Factory.sol</p>
<h2 id="functions-39"><a class="header" href="#functions-39">Functions</a></h2>
<h3 id="getpool"><a class="header" href="#getpool">getPool</a></h3>
<pre><code class="language-solidity">function getPool(address tokenA, address tokenB, uint24 fee) external view returns (address pool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv3pool"><a class="header" href="#iuniswapv3pool">IUniswapV3Pool</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/pricing/UniswapV3PricingExecutor.sol">Git Source</a></p>
<p>Partial interface for the {IUniswapV3Pool}. The full interface can be found here:
https://github.com/Uniswap/v3-core/blob/main/contracts/interfaces/IUniswapV3Pool.sol</p>
<h2 id="functions-40"><a class="header" href="#functions-40">Functions</a></h2>
<h3 id="slot0"><a class="header" href="#slot0">slot0</a></h3>
<pre><code class="language-solidity">function slot0()
    external
    view
    returns (
        uint160 sqrtPriceX96,
        int24 tick,
        uint16 observationIndex,
        uint16 observationCardinality,
        uint16 observationCardinalityNext,
        uint8 feeProtocol,
        bool unlocked
    );
</code></pre>
<h3 id="liquidity"><a class="header" href="#liquidity">liquidity</a></h3>
<pre><code class="language-solidity">function liquidity() external view returns (uint128);
</code></pre>
<h3 id="observe"><a class="header" href="#observe">observe</a></h3>
<pre><code class="language-solidity">function observe(uint32[] calldata secondsAgos)
    external
    view
    returns (int56[] memory tickCumulatives, uint160[] memory liquidityCumulatives);
</code></pre>
<h3 id="observations"><a class="header" href="#observations">observations</a></h3>
<pre><code class="language-solidity">function observations(uint index)
    external
    view
    returns (uint32 blockTimestamp, int56 tickCumulative, uint160 liquidityCumulative, bool initialized);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapv3pricingexecutor"><a class="header" href="#uniswapv3pricingexecutor">UniswapV3PricingExecutor</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/pricing/UniswapV3PricingExecutor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/pricing/UniswapV3PricingExecutor.sol//src/interfaces/pricing/BasePricingExecutor.sol/contract.IBasePricingExecutor.html">IBasePricingExecutor</a></p>
<p>The Uniswap pricing executor will query either a singular token or multiple
tokens in a peripheral multicall to return a price of TOKEN -&gt; ETH. We will
need to calculate the pool address for TOKEN:ETH and then find the spot
price.
Multicall documentation can be found here:
https://github.com/Uniswap/v3-periphery/blob/main/contracts/base/Multicall.sol
We will also find the spot price of the FLOOR:ETH pool so that we can calculate
TOKEN -&gt; FLOOR via ETH as an interim.</p>
<h2 id="state-variables-25"><a class="header" href="#state-variables-25">State Variables</a></h2>
<h3 id="uniswapv3poolfactory"><a class="header" href="#uniswapv3poolfactory">uniswapV3PoolFactory</a></h3>
<p>Maintain an immutable address of the Uniswap V3 Pool Factory contract</p>
<pre><code class="language-solidity">IUniswapV3Factory public immutable uniswapV3PoolFactory;
</code></pre>
<h3 id="floor-1"><a class="header" href="#floor-1">floor</a></h3>
<p>The contract address of the Floor token</p>
<pre><code class="language-solidity">address public immutable floor;
</code></pre>
<h3 id="weth-6"><a class="header" href="#weth-6">WETH</a></h3>
<p>The WETH contract address used for price mappings</p>
<pre><code class="language-solidity">address public constant WETH = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h3 id="pooladdresses"><a class="header" href="#pooladdresses">poolAddresses</a></h3>
<p>Keep a cache of our pool addresses for gas optimisation</p>
<pre><code class="language-solidity">mapping(address =&gt; address) internal poolAddresses;
</code></pre>
<h3 id="floorpricecache"><a class="header" href="#floorpricecache">floorPriceCache</a></h3>
<p>Keep a cache of our latest price mappings</p>
<pre><code class="language-solidity">mapping(address =&gt; uint) internal floorPriceCache;
</code></pre>
<h2 id="functions-41"><a class="header" href="#functions-41">Functions</a></h2>
<h3 id="constructor-24"><a class="header" href="#constructor-24">constructor</a></h3>
<p>Set our immutable contract addresses.</p>
<p><em>Mainnet Factory: 0x1F98431c8aD98523631AE4a59f267346ea31F984</em></p>
<pre><code class="language-solidity">constructor(address _poolFactory, address _floor);
</code></pre>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<p>Name of the pricing executor; this should be unique from other pricing executors.</p>
<pre><code class="language-solidity">function name() external pure returns (string memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>string Pricing Executor name</td></tr>
</tbody></table>
</div>
<h3 id="getethprice"><a class="header" href="#getethprice">getETHPrice</a></h3>
<p>Gets our live price of a token to ETH.</p>
<pre><code class="language-solidity">function getETHPrice(address token) external returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>Token to find price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The ETH value of a singular token</td></tr>
</tbody></table>
</div>
<h3 id="getethprices"><a class="header" href="#getethprices">getETHPrices</a></h3>
<p>Gets our live prices of multiple tokens to ETH.</p>
<pre><code class="language-solidity">function getETHPrices(address[] memory tokens) external returns (uint[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>uint[] The ETH values of a singular token, mapping to passed token index</td></tr>
</tbody></table>
</div>
<h3 id="getfloorprice"><a class="header" href="#getfloorprice">getFloorPrice</a></h3>
<p>Gets a live mapped price of a token to FLOOR, returned in the correct decimal
count for the target token.
We get the latest price of not only the requested token, but also for the
FLOOR token. We can then determine the amount of returned token based on
live price values from Token -&gt; ETH -&gt; FLOOR.</p>
<pre><code class="language-solidity">function getFloorPrice(address token) external returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>Token to find price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The FLOOR value of a singular token</td></tr>
</tbody></table>
</div>
<h3 id="getfloorprices"><a class="header" href="#getfloorprices">getFloorPrices</a></h3>
<p>Gets a live mapped price of multiple tokens to FLOOR.</p>
<pre><code class="language-solidity">function getFloorPrices(address[] memory tokens) external returns (uint[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>uint[] The FLOOR values of tokens passed</td></tr>
</tbody></table>
</div>
<h3 id="getlatestfloorprice"><a class="header" href="#getlatestfloorprice">getLatestFloorPrice</a></h3>
<p>Gets the latest Floor price returned. This won't make an external call and should
only be used in reference when live data is not required.</p>
<pre><code class="language-solidity">function getLatestFloorPrice(address token) external view returns (uint);
</code></pre>
<h3 id="getliquidity"><a class="header" href="#getliquidity">getLiquidity</a></h3>
<p>Retrieves the amount of WETH held in the Uniswap pool.</p>
<pre><code class="language-solidity">function getLiquidity(address token) external returns (uint);
</code></pre>
<h3 id="_calculatefloorprice"><a class="header" href="#_calculatefloorprice">_calculateFloorPrice</a></h3>
<p>This helper function allows us to return the amount of FLOOR a user would receive
for 1 token, returned in the decimal accuracy of the FLOOR token.</p>
<pre><code class="language-solidity">function _calculateFloorPrice(uint tokenPrice, uint floorPrice) internal pure returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenPrice</code></td><td><code>uint256</code></td><td>Spot price of passed token contract for 1 token</td></tr>
<tr><td><code>floorPrice</code></td><td><code>uint256</code></td><td>Spot price of FLOOR for 1 token</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The amount of FLOOR returned if one token sold</td></tr>
</tbody></table>
</div>
<h3 id="_pooladdress"><a class="header" href="#_pooladdress">_poolAddress</a></h3>
<p>Returns the pool address for a given pair of tokens and a fee, or address 0 if
it does not exist. The secondary token will always be WETH for our requirements,
so this is just passed in from our contract constant.
For gas optimisation, we cache the pool address that is calculated, to prevent
subsequent external calls being required.</p>
<pre><code class="language-solidity">function _poolAddress(address token) internal returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The token contract to find the ETH pool of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>address The UniSwap ETH:token pool</td></tr>
</tbody></table>
</div>
<h3 id="_getprice"><a class="header" href="#_getprice">_getPrice</a></h3>
<p>Retrieves the token price in WETH from a Uniswap pool.</p>
<pre><code class="language-solidity">function _getPrice(address token) internal returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The token contract to find the ETH price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Price of the token in ETH</td></tr>
</tbody></table>
</div>
<h3 id="decodesqrtpricex96"><a class="header" href="#decodesqrtpricex96">decodeSqrtPriceX96</a></h3>
<p>Decodes the <code>SqrtPriceX96</code> value.</p>
<pre><code class="language-solidity">function decodeSqrtPriceX96(address underlying, uint underlyingDecimalsScaler, uint sqrtPriceX96) private pure returns (uint price);
</code></pre>
<h3 id="_getprices"><a class="header" href="#_getprices">_getPrices</a></h3>
<p>This means that this function essentially acts as an intermediary function that just
subsequently calls <code>_getPrice</code> for each token passed. Not really gas efficient, but
unfortunately the best we can do with what we have.</p>
<pre><code class="language-solidity">function _getPrices(address[] memory tokens) internal returns (uint[] memory);
</code></pre>
<h3 id="revertbytes"><a class="header" href="#revertbytes">revertBytes</a></h3>
<p>Gas efficient revert.</p>
<pre><code class="language-solidity">function revertBytes(bytes memory errMsg) internal pure;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-18"><a class="header" href="#contents-18">Contents</a></h1>
<ul>
<li><a href="src/contracts/staking//src/contracts/staking/calculators">calculators</a></li>
<li><a href="src/contracts/staking//src/contracts/staking/strategies">strategies</a></li>
<li><a href="src/contracts/staking/NftStaking.sol/contract.NftStaking.html">NftStaking</a></li>
<li><a href="src/contracts/staking/VeFloorStaking.sol/contract.VeFloorStaking.html">VeFloorStaking</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-19"><a class="header" href="#contents-19">Contents</a></h1>
<ul>
<li><a href="src/contracts/staking/calculators/NftStakingBoostCalculator.sol/contract.NftStakingBoostCalculator.html">NftStakingBoostCalculator</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nftstakingboostcalculator"><a class="header" href="#nftstakingboostcalculator">NftStakingBoostCalculator</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/staking/calculators/NftStakingBoostCalculator.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/staking/calculators/NftStakingBoostCalculator.sol//src/interfaces/staking/calculators/NftStakingBoostCalculator.sol/contract.INftStakingBoostCalculator.html">INftStakingBoostCalculator</a></p>
<p>Calculates the boost power generated from staked NFTs, factoring in the total
number of NFTs staked to give declining power when more tokens are staked.
The formula for this is documented against the <code>calculate</code> function.</p>
<h2 id="functions-42"><a class="header" href="#functions-42">Functions</a></h2>
<h3 id="calculate"><a class="header" href="#calculate">calculate</a></h3>
<p>Performs the calculation to return the boost amount generated by the
staked tokens.
In Excel / Sheets terms, this formula roughly equates to:</p>
<pre><code>(LOG(sweepPower, sweepTotal) * (SQRT(sweepTotal) - 1)) / sweepModifier
</code></pre>
<p><em>If a value of uint56 is passed, then we may get overflow results</em></p>
<pre><code class="language-solidity">function calculate(uint sweepPower, uint sweepTotal, uint sweepModifier) external pure returns (uint boost_);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-20"><a class="header" href="#contents-20">Contents</a></h1>
<ul>
<li><a href="src/contracts/staking/strategies/NftStakingLocker.sol/contract.NftStakingLocker.html">NftStakingLocker</a></li>
<li><a href="src/contracts/staking/strategies/NftStakingNFTXV2.sol/contract.NftStakingNFTXV2.html">NftStakingNFTXV2</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nftstakinglocker"><a class="header" href="#nftstakinglocker">NftStakingLocker</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/staking/strategies/NftStakingLocker.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/staking/strategies/NftStakingLocker.sol//src/interfaces/staking/strategies/NftStakingStrategy.sol/contract.INftStakingStrategy.html">INftStakingStrategy</a>, Ownable</p>
<p>This contract allows approved collection NFTs to be depoited into it to generate
additional vote reward boosting through the calculation of a multiplier.
Unlike other staking strategies, this simply locks them without external
interaction. This means that it generates no yield or benefit other that vote
locking.</p>
<h2 id="state-variables-26"><a class="header" href="#state-variables-26">State Variables</a></h2>
<h3 id="nftstaking"><a class="header" href="#nftstaking">nftStaking</a></h3>
<p>Our {NftStakingStrategy} contract that will be used for staked tokens</p>
<pre><code class="language-solidity">address internal immutable nftStaking;
</code></pre>
<h3 id="tokenids"><a class="header" href="#tokenids">tokenIds</a></h3>
<p>Map collection =&gt; user =&gt; boolean</p>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint[])) public tokenIds;
</code></pre>
<h3 id="tokenamounts"><a class="header" href="#tokenamounts">tokenAmounts</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint[])) public tokenAmounts;
</code></pre>
<h3 id="underlyingtokenmapping"><a class="header" href="#underlyingtokenmapping">underlyingTokenMapping</a></h3>
<p>Stores the equivalent ERC20 of the ERC721</p>
<pre><code class="language-solidity">mapping(address =&gt; address) public underlyingTokenMapping;
</code></pre>
<h2 id="functions-43"><a class="header" href="#functions-43">Functions</a></h2>
<h3 id="constructor-25"><a class="header" href="#constructor-25">constructor</a></h3>
<p>Sets up our immutable contract addresses.</p>
<pre><code class="language-solidity">constructor(address _nftStaking);
</code></pre>
<h3 id="approvaladdress"><a class="header" href="#approvaladdress">approvalAddress</a></h3>
<p>Shows the address that should be approved by a staking user.</p>
<pre><code class="language-solidity">function approvalAddress() external view returns (address);
</code></pre>
<h3 id="stake"><a class="header" href="#stake">stake</a></h3>
<p>Stakes an approved collection NFT into the contract and provides a boost based on
the price of the underlying ERC20.</p>
<p><em>This can only be called when the contract is not paused.</em></p>
<pre><code class="language-solidity">function stake(address _user, address _collection, uint[] calldata _tokenId, uint[] calldata _amount, bool _is1155)
    external
    onlyNftStaking;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>Address of the user staking their tokens</td></tr>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>Approved collection contract</td></tr>
<tr><td><code>_tokenId</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>_is1155</code></td><td><code>bool</code></td><td>If the collection is an ERC1155 standard</td></tr>
</tbody></table>
</div>
<h3 id="unstake"><a class="header" href="#unstake">unstake</a></h3>
<p>Unstakes an approved NFT from the contract and reduced the user's boost based on
the relevant metadata on the NFT.</p>
<pre><code class="language-solidity">function unstake(address recipient, address _collection, uint numNfts, uint, uint remainingPortionToUnstake, bool _is1155)
    external
    onlyNftStaking;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the unstaked NFT</td></tr>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The collection to unstake</td></tr>
<tr><td><code>numNfts</code></td><td><code>uint256</code></td><td>The number of NFTs to unstake</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>remainingPortionToUnstake</code></td><td><code>uint256</code></td><td>The dust of NFT to unstake</td></tr>
<tr><td><code>_is1155</code></td><td><code>bool</code></td><td>If the collection matches the EIP-1155 standard</td></tr>
</tbody></table>
</div>
<h3 id="rewardsavailable"><a class="header" href="#rewardsavailable">rewardsAvailable</a></h3>
<p>We don't have any rewards as we only deposit and withdraw a 1:1 mapping
of tokens and their amounts. No rewards are generated.</p>
<pre><code class="language-solidity">function rewardsAvailable(address) external pure returns (uint);
</code></pre>
<h3 id="claimrewards"><a class="header" href="#claimrewards">claimRewards</a></h3>
<p>We don't have any rewards as we only deposit and withdraw a 1:1 mapping
of tokens and their amounts. No rewards are generated.</p>
<pre><code class="language-solidity">function claimRewards(address) external pure returns (uint);
</code></pre>
<h3 id="underlyingtoken"><a class="header" href="#underlyingtoken">underlyingToken</a></h3>
<p>Gets the underlying token for a collection.</p>
<pre><code class="language-solidity">function underlyingToken(address _collection) external view returns (address);
</code></pre>
<h3 id="setunderlyingtoken"><a class="header" href="#setunderlyingtoken">setUnderlyingToken</a></h3>
<p>Maps a collection address to an underlying NFTX token address. This will allow us to generate
a price calculation against the collection</p>
<pre><code class="language-solidity">function setUnderlyingToken(address _collection, address _token, address) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>Our approved collection address</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>The underlying token (the NFTX vault contract address)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="onerc721received-4"><a class="header" href="#onerc721received-4">onERC721Received</a></h3>
<p>Allows the contract to receive ERC721 tokens.</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint, bytes memory) public virtual returns (bytes4);
</code></pre>
<h3 id="onerc1155received"><a class="header" href="#onerc1155received">onERC1155Received</a></h3>
<p>Allows the contract to receive ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155Received(address, address, uint, uint, bytes calldata) public virtual returns (bytes4);
</code></pre>
<h3 id="onerc1155batchreceived"><a class="header" href="#onerc1155batchreceived">onERC1155BatchReceived</a></h3>
<p>Allows the contract to receive batch ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155BatchReceived(address, address, uint[] calldata, uint[] calldata, bytes calldata) external pure returns (bytes4);
</code></pre>
<h3 id="onlynftstaking"><a class="header" href="#onlynftstaking">onlyNftStaking</a></h3>
<p>Ensures that only the {NftStaking} contract can call the function.</p>
<pre><code class="language-solidity">modifier onlyNftStaking();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nftstakingnftxv2"><a class="header" href="#nftstakingnftxv2">NftStakingNFTXV2</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/staking/strategies/NftStakingNFTXV2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/staking/strategies/NftStakingNFTXV2.sol//src/interfaces/staking/strategies/NftStakingStrategy.sol/contract.INftStakingStrategy.html">INftStakingStrategy</a>, Ownable</p>
<p>This contract allows approved collection NFTs to be depoited into it to generate
additional vote reward boosting through the calculation of a multiplier.</p>
<h2 id="state-variables-27"><a class="header" href="#state-variables-27">State Variables</a></h2>
<h3 id="underlyingtokenmapping-1"><a class="header" href="#underlyingtokenmapping-1">underlyingTokenMapping</a></h3>
<p>Stores the equivalent ERC20 of the ERC721</p>
<pre><code class="language-solidity">mapping(address =&gt; address) public underlyingTokenMapping;
</code></pre>
<h3 id="underlyingxtokenmapping"><a class="header" href="#underlyingxtokenmapping">underlyingXTokenMapping</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public underlyingXTokenMapping;
</code></pre>
<h3 id="cachednftxvaultid"><a class="header" href="#cachednftxvaultid">cachedNftxVaultId</a></h3>
<p>Store a mapping of NFTX vault address to vault ID for gas savings</p>
<pre><code class="language-solidity">mapping(address =&gt; uint) internal cachedNftxVaultId;
</code></pre>
<h3 id="stakingzap"><a class="header" href="#stakingzap">stakingZap</a></h3>
<p>Store our NFTX staking zaps</p>
<pre><code class="language-solidity">INFTXStakingZap public stakingZap;
</code></pre>
<h3 id="unstakingzap"><a class="header" href="#unstakingzap">unstakingZap</a></h3>
<pre><code class="language-solidity">INFTXUnstakingInventoryZap public unstakingZap;
</code></pre>
<h3 id="_nftreceiver-1"><a class="header" href="#_nftreceiver-1">_nftReceiver</a></h3>
<p>Temp. user store for ERC721 receipt</p>
<pre><code class="language-solidity">address private _nftReceiver;
</code></pre>
<h3 id="inventorystaking"><a class="header" href="#inventorystaking">inventoryStaking</a></h3>
<p>Allows NFTX references for when receiving rewards</p>
<pre><code class="language-solidity">address internal inventoryStaking;
</code></pre>
<h3 id="treasury-1"><a class="header" href="#treasury-1">treasury</a></h3>
<pre><code class="language-solidity">address internal treasury;
</code></pre>
<h3 id="nftstaking-1"><a class="header" href="#nftstaking-1">nftStaking</a></h3>
<pre><code class="language-solidity">address internal immutable nftStaking;
</code></pre>
<h3 id="tokensstaked"><a class="header" href="#tokensstaked">tokensStaked</a></h3>
<p>Keep track of the number of token deposits to calculate rewards available</p>
<pre><code class="language-solidity">uint internal tokensStaked;
</code></pre>
<h2 id="functions-44"><a class="header" href="#functions-44">Functions</a></h2>
<h3 id="constructor-26"><a class="header" href="#constructor-26">constructor</a></h3>
<p>Sets up our immutable contract addresses.</p>
<pre><code class="language-solidity">constructor(address _nftStaking);
</code></pre>
<h3 id="approvaladdress-1"><a class="header" href="#approvaladdress-1">approvalAddress</a></h3>
<p>Shows the address that should be approved by a staking user.</p>
<p><em>NFTX zap does not allow tokens to be sent from anyone other than caller.</em></p>
<pre><code class="language-solidity">function approvalAddress() external view returns (address);
</code></pre>
<h3 id="stake-1"><a class="header" href="#stake-1">stake</a></h3>
<p>Stakes an approved collection NFT into the contract and provides a boost based on
the price of the underlying ERC20.</p>
<p><em>This can only be called when the contract is not paused.</em></p>
<pre><code class="language-solidity">function stake(address _user, address _collection, uint[] calldata _tokenId, uint[] calldata _amount, bool _is1155)
    external
    onlyNftStaking;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>Address of the user staking their tokens</td></tr>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>Approved collection contract</td></tr>
<tr><td><code>_tokenId</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>_is1155</code></td><td><code>bool</code></td><td>If the collection is an ERC1155 standard</td></tr>
</tbody></table>
</div>
<h3 id="unstake-1"><a class="header" href="#unstake-1">unstake</a></h3>
<p>Unstakes an approved NFT from the contract and reduced the user's boost based on
the relevant metadata on the NFT.</p>
<pre><code class="language-solidity">function unstake(address recipient, address _collection, uint numNfts, uint baseNfts, uint remainingPortionToUnstake, bool)
    external
    onlyNftStaking;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the unstaked NFT</td></tr>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The collection to unstake</td></tr>
<tr><td><code>numNfts</code></td><td><code>uint256</code></td><td>The number of NFTs to unstake for the recipient</td></tr>
<tr><td><code>baseNfts</code></td><td><code>uint256</code></td><td>The number of NFTs that this unstaking represents</td></tr>
<tr><td><code>remainingPortionToUnstake</code></td><td><code>uint256</code></td><td>The dust of NFT to unstake</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="rewardsavailable-1"><a class="header" href="#rewardsavailable-1">rewardsAvailable</a></h3>
<p>Determines the amount of rewards available to be collected.</p>
<pre><code class="language-solidity">function rewardsAvailable(address _collection) external returns (uint);
</code></pre>
<h3 id="claimrewards-1"><a class="header" href="#claimrewards-1">claimRewards</a></h3>
<p>Allows rewards to be claimed from the staked NFT inventory positions.</p>
<pre><code class="language-solidity">function claimRewards(address _collection) external returns (uint rewardsAvailable_);
</code></pre>
<h3 id="underlyingtoken-1"><a class="header" href="#underlyingtoken-1">underlyingToken</a></h3>
<p>Gets the underlying token for a collection.</p>
<pre><code class="language-solidity">function underlyingToken(address _collection) external view returns (address);
</code></pre>
<h3 id="setstakingzaps"><a class="header" href="#setstakingzaps">setStakingZaps</a></h3>
<p>Sets the NFTX staking zaps that we will be interacting with.</p>
<pre><code class="language-solidity">function setStakingZaps(address _stakingZap, address _unstakingZap) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_stakingZap</code></td><td><code>address</code></td><td>The {NFTXStakingZap} contract address</td></tr>
<tr><td><code>_unstakingZap</code></td><td><code>address</code></td><td>The {NFTXUnstakingInventoryZap} contract address</td></tr>
</tbody></table>
</div>
<h3 id="setcontracts"><a class="header" href="#setcontracts">setContracts</a></h3>
<p>Allows us to set internal contracts that are used when claiming rewards.</p>
<pre><code class="language-solidity">function setContracts(address _inventoryStaking, address _treasury) external onlyOwner;
</code></pre>
<h3 id="setunderlyingtoken-1"><a class="header" href="#setunderlyingtoken-1">setUnderlyingToken</a></h3>
<p>Maps a collection address to an underlying NFTX token address. This will allow us to assign
a corresponding NFTX vault against our collection.</p>
<pre><code class="language-solidity">function setUnderlyingToken(address _collection, address _token, address _xToken) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>Our approved collection address</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>The underlying token (the NFTX vault contract address)</td></tr>
<tr><td><code>_xToken</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_getvaultid"><a class="header" href="#_getvaultid">_getVaultId</a></h3>
<p>Calculates the NFTX vault ID of a collection address and then stores it to a local cache
as this value will not change.</p>
<pre><code class="language-solidity">function _getVaultId(address _collection) internal returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The address of the collection being checked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Numeric NFTX vault ID</td></tr>
</tbody></table>
</div>
<h3 id="onerc721received-5"><a class="header" href="#onerc721received-5">onERC721Received</a></h3>
<p>Allows the contract to receive ERC721 tokens.</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint tokenId, bytes memory) public virtual returns (bytes4);
</code></pre>
<h3 id="onerc1155received-1"><a class="header" href="#onerc1155received-1">onERC1155Received</a></h3>
<p>Allows the contract to receive ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155Received(address, address, uint tokenId, uint amount, bytes calldata) public virtual returns (bytes4);
</code></pre>
<h3 id="onerc1155batchreceived-1"><a class="header" href="#onerc1155batchreceived-1">onERC1155BatchReceived</a></h3>
<p>Allows the contract to receive batch ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155BatchReceived(address, address, uint[] calldata tokenIds, uint[] calldata amounts, bytes calldata)
    public
    virtual
    returns (bytes4);
</code></pre>
<h3 id="onlynftstaking-1"><a class="header" href="#onlynftstaking-1">onlyNftStaking</a></h3>
<p>Ensures that only the {NftStaking} contract can call the function.</p>
<pre><code class="language-solidity">modifier onlyNftStaking();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nftstaking-2"><a class="header" href="#nftstaking-2">NftStaking</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/staking/NftStaking.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/staking/NftStaking.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, <a href="src/contracts/staking/NftStaking.sol//src/interfaces/staking/NftStaking.sol/contract.INftStaking.html">INftStaking</a>, Pausable</p>
<p>This contract allows approved collection NFTs to be depoited into it to generate
additional vote reward boosting through the calculation of a multiplier.</p>
<h2 id="state-variables-28"><a class="header" href="#state-variables-28">State Variables</a></h2>
<h3 id="nftstakingstrategy"><a class="header" href="#nftstakingstrategy">nftStakingStrategy</a></h3>
<p>Stores our modular NFT staking strategy.</p>
<p><em>When tokens are approved to be staked, it should call the <code>approvalAddress</code>
on this contract to show the address to be approved.</em></p>
<pre><code class="language-solidity">INftStakingStrategy public nftStakingStrategy;
</code></pre>
<h3 id="previousstrategies"><a class="header" href="#previousstrategies">previousStrategies</a></h3>
<p>Stores a list of all strategies that have been used</p>
<pre><code class="language-solidity">address[] public previousStrategies;
</code></pre>
<h3 id="stakednfts"><a class="header" href="#stakednfts">stakedNfts</a></h3>
<p>Stores the boosted number of votes available to a user</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; StakedNft) public stakedNfts;
</code></pre>
<h3 id="collectionstakers"><a class="header" href="#collectionstakers">collectionStakers</a></h3>
<p>Stores an array of collections the user has currently staked NFTs for</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; address[]) internal collectionStakers;
</code></pre>
<h3 id="collectionstakerindex"><a class="header" href="#collectionstakerindex">collectionStakerIndex</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public collectionStakerIndex;
</code></pre>
<h3 id="votediscount"><a class="header" href="#votediscount">voteDiscount</a></h3>
<p>Store the amount of discount applied to voting power of staked NFT</p>
<pre><code class="language-solidity">uint16 public voteDiscount;
</code></pre>
<h3 id="sweepmodifier"><a class="header" href="#sweepmodifier">sweepModifier</a></h3>
<pre><code class="language-solidity">uint64 public sweepModifier;
</code></pre>
<h3 id="pricingexecutor-1"><a class="header" href="#pricingexecutor-1">pricingExecutor</a></h3>
<p>Store our pricing executor that will determine the vote power of our NFT</p>
<pre><code class="language-solidity">IBasePricingExecutor public pricingExecutor;
</code></pre>
<h3 id="boostcalculator"><a class="header" href="#boostcalculator">boostCalculator</a></h3>
<p>Store our boost calculator contract that will calculate our modifier</p>
<pre><code class="language-solidity">INftStakingBoostCalculator public boostCalculator;
</code></pre>
<h3 id="waiveunstakefees"><a class="header" href="#waiveunstakefees">waiveUnstakeFees</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public waiveUnstakeFees;
</code></pre>
<h3 id="lock_periods"><a class="header" href="#lock_periods">LOCK_PERIODS</a></h3>
<p>Set a list of locking periods that the user can lock for</p>
<pre><code class="language-solidity">uint8[] public LOCK_PERIODS = [uint8(0), 4, 13, 26, 52, 78, 104];
</code></pre>
<h2 id="functions-45"><a class="header" href="#functions-45">Functions</a></h2>
<h3 id="constructor-27"><a class="header" href="#constructor-27">constructor</a></h3>
<p>Sets up our immutable contract addresses.</p>
<pre><code class="language-solidity">constructor(address _pricingExecutor, uint16 _voteDiscount);
</code></pre>
<h3 id="collectionboost"><a class="header" href="#collectionboost">collectionBoost</a></h3>
<p>Gets the total boost value for collection, based on the amount of NFTs that have been
staked, as well as the value and duration at which they staked at.</p>
<pre><code class="language-solidity">function collectionBoost(address _collection) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The address of the collection we are checking the boost multiplier of</td></tr>
</tbody></table>
</div>
<h3 id="collectionboost-1"><a class="header" href="#collectionboost-1">collectionBoost</a></h3>
<p>Gets the total boost value for collection, based on the amount of NFTs that have been
staked, as well as the value and duration at which they staked at.</p>
<pre><code class="language-solidity">function collectionBoost(address _collection, uint _epoch) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The address of the collection we are checking the boost multiplier of</td></tr>
<tr><td><code>_epoch</code></td><td><code>uint256</code></td><td>The epoch to get the value at</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The boost multiplier for the collection to 9 decimal places</td></tr>
</tbody></table>
</div>
<h3 id="_calculatestakepower"><a class="header" href="#_calculatestakepower">_calculateStakePower</a></h3>
<pre><code class="language-solidity">function _calculateStakePower(address _user, address _collection, uint cachedFloorPrice, uint currentEpoch, uint targetEpoch)
    internal
    view
    returns (uint sweepPower, uint sweepTotal);
</code></pre>
<h3 id="stake-2"><a class="header" href="#stake-2">stake</a></h3>
<p>Stakes an approved collection NFT into the contract and provides a boost based on
the price of the underlying ERC20.</p>
<p><em>This can only be called when the contract is not paused.</em></p>
<pre><code class="language-solidity">function stake(address _collection, uint[] calldata _tokenId, uint[] calldata _amount, uint8 _epochCount, bool _is1155)
    external
    whenNotPaused;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>Approved collection contract</td></tr>
<tr><td><code>_tokenId</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>_epochCount</code></td><td><code>uint8</code></td><td>The number of epochs to stake for</td></tr>
<tr><td><code>_is1155</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="unstake-2"><a class="header" href="#unstake-2">unstake</a></h3>
<p>Unstakes an approved NFT from the contract and reduced the user's boost based on
the relevant metadata on the NFT.</p>
<pre><code class="language-solidity">function unstake(address _collection, bool _is1155) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The collection to unstake</td></tr>
<tr><td><code>_is1155</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="unstake-3"><a class="header" href="#unstake-3">unstake</a></h3>
<pre><code class="language-solidity">function unstake(address _collection, address _nftStakingStrategy, bool _is1155) external;
</code></pre>
<h3 id="_unstake"><a class="header" href="#_unstake">_unstake</a></h3>
<pre><code class="language-solidity">function _unstake(address _collection, address _nftStakingStrategy, bool _is1155) internal;
</code></pre>
<h3 id="unstakefees"><a class="header" href="#unstakefees">unstakeFees</a></h3>
<p>Calculates the amount in fees it would cost the calling user to unstake.</p>
<pre><code class="language-solidity">function unstakeFees(address _collection) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The collection being unstaked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The amount in fees to unstake</td></tr>
</tbody></table>
</div>
<h3 id="_unstakefees"><a class="header" href="#_unstakefees">_unstakeFees</a></h3>
<p>Calculates the amount in fees for a specific address to unstake from a collection.</p>
<pre><code class="language-solidity">function _unstakeFees(address _strategy, address _collection, address _sender) internal view returns (uint fees);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategy</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The collection being unstaked</td></tr>
<tr><td><code>_sender</code></td><td><code>address</code></td><td>The caller that is unstaking</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256</code></td><td>The amount in fees to unstake</td></tr>
</tbody></table>
</div>
<h3 id="claimrewards-2"><a class="header" href="#claimrewards-2">claimRewards</a></h3>
<p>Allows rewards to be claimed from the staked NFT inventory positions.</p>
<pre><code class="language-solidity">function claimRewards(address _collection) external;
</code></pre>
<h3 id="setvotediscount"><a class="header" href="#setvotediscount">setVoteDiscount</a></h3>
<p>Set our Vote Discount value to increase or decrease the amount of base value that
an NFT has.</p>
<p><em>The value is passed to 2 decimal place accuracy</em></p>
<pre><code class="language-solidity">function setVoteDiscount(uint16 _voteDiscount) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_voteDiscount</code></td><td><code>uint16</code></td><td>The amount of vote discount to apply</td></tr>
</tbody></table>
</div>
<h3 id="setsweepmodifier"><a class="header" href="#setsweepmodifier">setSweepModifier</a></h3>
<p>In addition to the {setVoteDiscount} function, our sweep modifier allows us to
modify our resulting modifier calculation. A higher value will reduced the output
modifier, whilst reducing the value will increase it.</p>
<pre><code class="language-solidity">function setSweepModifier(uint64 _sweepModifier) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sweepModifier</code></td><td><code>uint64</code></td><td>The amount to modify our multiplier</td></tr>
</tbody></table>
</div>
<h3 id="setpricingexecutor-1"><a class="header" href="#setpricingexecutor-1">setPricingExecutor</a></h3>
<p>Sets an updated pricing executor (needs to confirm an implementation function).</p>
<pre><code class="language-solidity">function setPricingExecutor(address _pricingExecutor) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_pricingExecutor</code></td><td><code>address</code></td><td>Address of new {IBasePricingExecutor} contract</td></tr>
</tbody></table>
</div>
<h3 id="setwaiveunstakefees"><a class="header" href="#setwaiveunstakefees">setWaiveUnstakeFees</a></h3>
<p>Allows the contract to waive early unstaking fees.</p>
<pre><code class="language-solidity">function setWaiveUnstakeFees(address _strategy, bool _waiveUnstakeFees) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategy</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_waiveUnstakeFees</code></td><td><code>bool</code></td><td>New value</td></tr>
</tbody></table>
</div>
<h3 id="setboostcalculator"><a class="header" href="#setboostcalculator">setBoostCalculator</a></h3>
<p>Allows a new boost calculator to be set.</p>
<pre><code class="language-solidity">function setBoostCalculator(address _boostCalculator) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_boostCalculator</code></td><td><code>address</code></td><td>The new boost calculator contract address</td></tr>
</tbody></table>
</div>
<h3 id="setstakingstrategy"><a class="header" href="#setstakingstrategy">setStakingStrategy</a></h3>
<p>Allows our staking strategy to be updated.</p>
<pre><code class="language-solidity">function setStakingStrategy(address _nftStakingStrategy) external onlyOwner;
</code></pre>
<h3 id="hash"><a class="header" href="#hash">hash</a></h3>
<p>Creates a hash for the user collection referencing the current NFT staking strategy.</p>
<pre><code class="language-solidity">function hash(address _user, address _collection) external view returns (bytes32);
</code></pre>
<h3 id="hash-1"><a class="header" href="#hash-1">hash</a></h3>
<p>Creates a hash for the user collection referencing a custom NFT staking strategy.</p>
<pre><code class="language-solidity">function hash(address _user, address _collection, address _strategy) external pure returns (bytes32);
</code></pre>
<h3 id="collectionhash"><a class="header" href="#collectionhash">collectionHash</a></h3>
<p>Calculates the hash for a collection and the current strategy.</p>
<pre><code class="language-solidity">function collectionHash(address _collection) internal view returns (bytes32);
</code></pre>
<h3 id="collectionhash-1"><a class="header" href="#collectionhash-1">collectionHash</a></h3>
<p>Calculates the has for a collection and a specific strategy.</p>
<pre><code class="language-solidity">function collectionHash(address _collection, address _strategy) internal pure returns (bytes32);
</code></pre>
<h2 id="structs-25"><a class="header" href="#structs-25">Structs</a></h2>
<h3 id="stakednft"><a class="header" href="#stakednft">StakedNft</a></h3>
<pre><code class="language-solidity">struct StakedNft {
    uint epochStart;
    uint128 epochCount;
    uint128 tokensStaked;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vefloorstaking"><a class="header" href="#vefloorstaking">VeFloorStaking</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/staking/VeFloorStaking.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/staking/VeFloorStaking.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, ERC20, ERC20Permit, ERC20Votes, <a href="src/contracts/staking/VeFloorStaking.sol//src/interfaces/staking/VeFloorStaking.sol/contract.IVeFloorStaking.html">IVeFloorStaking</a>, <a href="src/contracts/staking/VeFloorStaking.sol//src/interfaces/tokens/Votable.sol/contract.IVotable.html">IVotable</a></p>
<p>The contract provides the following features: staking, delegation, farming
How lock period works:</p>
<ul>
<li>balances and voting power</li>
<li>Lock min and max</li>
<li>Add lock</li>
<li>earlyWithdrawal</li>
<li>penalty math</li>
</ul>
<p><em>Based on staked 1inch (St1inch :: 0x9A0C8Ff858d273f57072D714bca7411D717501D7)</em></p>
<h2 id="state-variables-29"><a class="header" href="#state-variables-29">State Variables</a></h2>
<h3 id="lock_periods-1"><a class="header" href="#lock_periods-1">LOCK_PERIODS</a></h3>
<p>Set a list of locking periods that the user can lock for</p>
<pre><code class="language-solidity">uint8[] public LOCK_PERIODS = [uint8(0), 4, 13, 26, 52, 78, 104];
</code></pre>
<h3 id="floor-2"><a class="header" href="#floor-2">floor</a></h3>
<p>Our FLOOR token</p>
<pre><code class="language-solidity">IERC20 public immutable floor;
</code></pre>
<h3 id="treasury-2"><a class="header" href="#treasury-2">treasury</a></h3>
<p>Our internal contracts</p>
<pre><code class="language-solidity">ITreasury public immutable treasury;
</code></pre>
<h3 id="newcollectionwars"><a class="header" href="#newcollectionwars">newCollectionWars</a></h3>
<pre><code class="language-solidity">INewCollectionWars public newCollectionWars;
</code></pre>
<h3 id="sweepwars"><a class="header" href="#sweepwars">sweepWars</a></h3>
<pre><code class="language-solidity">ISweepWars public sweepWars;
</code></pre>
<h3 id="earlywithdrawfeeexemptions"><a class="header" href="#earlywithdrawfeeexemptions">earlyWithdrawFeeExemptions</a></h3>
<p>Allow some addresses to be exempt from early withdraw fees</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) public earlyWithdrawFeeExemptions;
</code></pre>
<h3 id="depositors"><a class="header" href="#depositors">depositors</a></h3>
<p>Map our Depositor index against a user</p>
<pre><code class="language-solidity">mapping(address =&gt; Depositor) public depositors;
</code></pre>
<h3 id="_one_e9"><a class="header" href="#_one_e9">_ONE_E9</a></h3>
<pre><code class="language-solidity">uint internal constant _ONE_E9 = 1e9;
</code></pre>
<h3 id="totaldeposits"><a class="header" href="#totaldeposits">totalDeposits</a></h3>
<pre><code class="language-solidity">uint public totalDeposits;
</code></pre>
<h3 id="emergencyexit"><a class="header" href="#emergencyexit">emergencyExit</a></h3>
<pre><code class="language-solidity">bool public emergencyExit;
</code></pre>
<h3 id="maxlossratio"><a class="header" href="#maxlossratio">maxLossRatio</a></h3>
<pre><code class="language-solidity">uint public maxLossRatio;
</code></pre>
<h3 id="minlockperiodratio"><a class="header" href="#minlockperiodratio">minLockPeriodRatio</a></h3>
<pre><code class="language-solidity">uint public minLockPeriodRatio;
</code></pre>
<h3 id="feereceiver"><a class="header" href="#feereceiver">feeReceiver</a></h3>
<pre><code class="language-solidity">address public feeReceiver;
</code></pre>
<h2 id="functions-46"><a class="header" href="#functions-46">Functions</a></h2>
<h3 id="constructor-28"><a class="header" href="#constructor-28">constructor</a></h3>
<p>Initializes the contract</p>
<pre><code class="language-solidity">constructor(IERC20 floor_, address treasury_) ERC20('veFLOOR', 'veFLOOR') ERC20Permit('veFLOOR');
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>floor_</code></td><td><code>IERC20</code></td><td>The token to be staked</td></tr>
<tr><td><code>treasury_</code></td><td><code>address</code></td><td>The treasury contract address</td></tr>
</tbody></table>
</div>
<h3 id="setfeereceiver"><a class="header" href="#setfeereceiver">setFeeReceiver</a></h3>
<p>Sets the new contract that would recieve early withdrawal fees</p>
<pre><code class="language-solidity">function setFeeReceiver(address feeReceiver_) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feeReceiver_</code></td><td><code>address</code></td><td>The receiver contract address</td></tr>
</tbody></table>
</div>
<h3 id="setmaxlossratio"><a class="header" href="#setmaxlossratio">setMaxLossRatio</a></h3>
<p>Sets the maximum allowed loss ratio for early withdrawal. If the ratio is not met, actual is more than allowed,
then early withdrawal will revert.
Example: maxLossRatio = 90% and 1000 staked 1inch tokens means that a user can execute early withdrawal only
if his loss is less than or equals 90% of his stake, which is 900 tokens. Thus, if a user loses 900 tokens he is allowed
to do early withdrawal and not if the loss is greater.</p>
<pre><code class="language-solidity">function setMaxLossRatio(uint maxLossRatio_) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maxLossRatio_</code></td><td><code>uint256</code></td><td>The maximum loss allowed (9 decimals).</td></tr>
</tbody></table>
</div>
<h3 id="setminlockperiodratio"><a class="header" href="#setminlockperiodratio">setMinLockPeriodRatio</a></h3>
<p>Sets the minimum allowed lock period ratio for early withdrawal. If the ratio is not met, actual is more than allowed,
then early withdrawal will revert.</p>
<pre><code class="language-solidity">function setMinLockPeriodRatio(uint minLockPeriodRatio_) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minLockPeriodRatio_</code></td><td><code>uint256</code></td><td>The maximum loss allowed (9 decimals).</td></tr>
</tbody></table>
</div>
<h3 id="setemergencyexit"><a class="header" href="#setemergencyexit">setEmergencyExit</a></h3>
<p>Sets the emergency exit mode. In emergency mode any stake may withdraw its stake regardless of lock.
The mode is intended to use only for migration to a new version of staking contract.</p>
<pre><code class="language-solidity">function setEmergencyExit(bool emergencyExit_) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>emergencyExit_</code></td><td><code>bool</code></td><td>set <code>true</code> to enter emergency exit mode and <code>false</code> to return to normal operations</td></tr>
</tbody></table>
</div>
<h3 id="votingpowerof"><a class="header" href="#votingpowerof">votingPowerOf</a></h3>
<p>Gets the voting power of the provided account</p>
<pre><code class="language-solidity">function votingPowerOf(address account) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of an account to get voting power for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>votingPower The voting power available at the current epoch</td></tr>
</tbody></table>
</div>
<h3 id="votingpowerat"><a class="header" href="#votingpowerat">votingPowerAt</a></h3>
<p>Gets the voting power of the provided account at a specific epoch</p>
<pre><code class="language-solidity">function votingPowerAt(address account, uint epoch) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of an account to get voting power for</td></tr>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch at which to check the user's voting power</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>votingPower The voting power available at the epoch</td></tr>
</tbody></table>
</div>
<h3 id="votingpowerofat"><a class="header" href="#votingpowerofat">votingPowerOfAt</a></h3>
<p>Gets the voting power of the provided account at a specific epoch</p>
<pre><code class="language-solidity">function votingPowerOfAt(address account, uint88 amount, uint epoch) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of an account to get voting power for</td></tr>
<tr><td><code>amount</code></td><td><code>uint88</code></td><td>The amount of voting power the account has</td></tr>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch at which to check the user's voting power</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>votingPower The voting power available at the epoch</td></tr>
</tbody></table>
</div>
<h3 id="deposit-1"><a class="header" href="#deposit-1">deposit</a></h3>
<p>Stakes given amount and locks it for the given duration</p>
<pre><code class="language-solidity">function deposit(uint amount, uint epochs) external;
</code></pre>
<h3 id="depositwithpermit"><a class="header" href="#depositwithpermit">depositWithPermit</a></h3>
<p>Stakes given amount and locks it for the given duration with permit</p>
<pre><code class="language-solidity">function depositWithPermit(uint amount, uint epochs, bytes calldata permit) external;
</code></pre>
<h3 id="depositfor"><a class="header" href="#depositfor">depositFor</a></h3>
<p>Stakes given amount on behalf of provided account without locking or extending lock</p>
<pre><code class="language-solidity">function depositFor(address account, uint amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to stake for</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to stake</td></tr>
</tbody></table>
</div>
<h3 id="depositforwithpermit"><a class="header" href="#depositforwithpermit">depositForWithPermit</a></h3>
<p>Stakes given amount on behalf of provided account without locking or extending
lock with permit.</p>
<pre><code class="language-solidity">function depositForWithPermit(address account, uint amount, bytes calldata permit) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to stake for</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to stake</td></tr>
<tr><td><code>permit</code></td><td><code>bytes</code></td><td>Permit given by the caller</td></tr>
</tbody></table>
</div>
<h3 id="_deposit"><a class="header" href="#_deposit">_deposit</a></h3>
<pre><code class="language-solidity">function _deposit(address account, uint amount, uint epochs) private;
</code></pre>
<h3 id="earlywithdraw"><a class="header" href="#earlywithdraw">earlyWithdraw</a></h3>
<p>Withdraw stake before lock period expires at the cost of losing part of a stake.
The stake loss is proportional to the time passed from the maximum lock period to the lock expiration and voting power.
The more time is passed the less would be the loss.
Formula to calculate return amount = (deposit - voting power)) / 0.95</p>
<pre><code class="language-solidity">function earlyWithdraw(uint minReturn, uint maxLoss) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minReturn</code></td><td><code>uint256</code></td><td>The minumum amount of stake acceptable for return. If actual amount is less then the transaction is reverted</td></tr>
<tr><td><code>maxLoss</code></td><td><code>uint256</code></td><td>The maximum amount of loss acceptable. If actual loss is bigger then the transaction is reverted</td></tr>
</tbody></table>
</div>
<h3 id="earlywithdrawto"><a class="header" href="#earlywithdrawto">earlyWithdrawTo</a></h3>
<p>Withdraw stake before lock period expires at the cost of losing part of a stake to the specified account
The stake loss is proportional to the time passed from the maximum lock period to the lock expiration and voting power.
The more time is passed the less would be the loss.
Formula to calculate return amount = (deposit - voting power)) / 0.95</p>
<pre><code class="language-solidity">function earlyWithdrawTo(address to, uint minReturn, uint maxLoss) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to</code></td><td><code>address</code></td><td>The account to withdraw the stake to</td></tr>
<tr><td><code>minReturn</code></td><td><code>uint256</code></td><td>The minumum amount of stake acceptable for return. If actual amount is less then the transaction is reverted</td></tr>
<tr><td><code>maxLoss</code></td><td><code>uint256</code></td><td>The maximum amount of loss acceptable. If actual loss is bigger then the transaction is reverted</td></tr>
</tbody></table>
</div>
<h3 id="earlywithdrawloss"><a class="header" href="#earlywithdrawloss">earlyWithdrawLoss</a></h3>
<p>Gets the loss amount if the staker do early withdrawal at the current block</p>
<pre><code class="language-solidity">function earlyWithdrawLoss(address account) external view returns (uint loss, uint ret, bool canWithdraw);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to calculate early withdrawal loss for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>loss</code></td><td><code>uint256</code></td><td>The loss amount</td></tr>
<tr><td><code>ret</code></td><td><code>uint256</code></td><td>The return amount</td></tr>
<tr><td><code>canWithdraw</code></td><td><code>bool</code></td><td>True if the staker can withdraw without penalty, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_earlywithdrawloss"><a class="header" href="#_earlywithdrawloss">_earlyWithdrawLoss</a></h3>
<pre><code class="language-solidity">function _earlyWithdrawLoss(address, uint depAmount, uint stBalance) private pure returns (uint loss, uint ret);
</code></pre>
<h3 id="withdraw-1"><a class="header" href="#withdraw-1">withdraw</a></h3>
<p>Withdraws stake if lock period expired</p>
<pre><code class="language-solidity">function withdraw() external;
</code></pre>
<h3 id="withdrawto"><a class="header" href="#withdrawto">withdrawTo</a></h3>
<p>Withdraws stake if lock period expired to the given address</p>
<pre><code class="language-solidity">function withdrawTo(address to) public;
</code></pre>
<h3 id="_withdraw"><a class="header" href="#_withdraw">_withdraw</a></h3>
<p>Handles our internal logic to process a withdrawal for a depositor.</p>
<pre><code class="language-solidity">function _withdraw(Depositor memory depositor, uint balance) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>depositor</code></td><td><code>Depositor</code></td><td>The structure for the user making the withdrawal</td></tr>
<tr><td><code>balance</code></td><td><code>uint256</code></td><td>The amount that the user is trying to withdraw</td></tr>
</tbody></table>
</div>
<h3 id="setvotingcontracts"><a class="header" href="#setvotingcontracts">setVotingContracts</a></h3>
<p>Allows our voting contract addresses to be updated.</p>
<pre><code class="language-solidity">function setVotingContracts(address _newCollectionWars, address _sweepWars) external onlyOwner;
</code></pre>
<h3 id="rescuefunds"><a class="header" href="#rescuefunds">rescueFunds</a></h3>
<p>Retrieves funds from the contract in emergency situations</p>
<pre><code class="language-solidity">function rescueFunds(IERC20 token, uint amount) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20</code></td><td>The token to retrieve</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of funds to transfer</td></tr>
</tbody></table>
</div>
<h3 id="isexemptfromearlywithdrawfees"><a class="header" href="#isexemptfromearlywithdrawfees">isExemptFromEarlyWithdrawFees</a></h3>
<p>Checks if an address is exempt from having to pay early withdrawal fees.</p>
<pre><code class="language-solidity">function isExemptFromEarlyWithdrawFees(address account) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>Address of the account to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool True if the user is exempt from early fees, false if not</td></tr>
</tbody></table>
</div>
<h3 id="addearlywithdrawfeeexemption"><a class="header" href="#addearlywithdrawfeeexemption">addEarlyWithdrawFeeExemption</a></h3>
<p>Allows an account to be exempted from paying early withdraw fees.</p>
<pre><code class="language-solidity">function addEarlyWithdrawFeeExemption(address account, bool exempt) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to update</td></tr>
<tr><td><code>exempt</code></td><td><code>bool</code></td><td>If the account is to be exempt from fees</td></tr>
</tbody></table>
</div>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<pre><code class="language-solidity">function approve(address, uint) public pure override (IERC20, ERC20) returns (bool);
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address, uint) public pure override (IERC20, ERC20) returns (bool);
</code></pre>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address, address, uint) public pure override (IERC20, ERC20) returns (bool);
</code></pre>
<h3 id="increaseallowance"><a class="header" href="#increaseallowance">increaseAllowance</a></h3>
<pre><code class="language-solidity">function increaseAllowance(address, uint) public pure override returns (bool);
</code></pre>
<h3 id="decreaseallowance"><a class="header" href="#decreaseallowance">decreaseAllowance</a></h3>
<pre><code class="language-solidity">function decreaseAllowance(address, uint) public pure override returns (bool);
</code></pre>
<h3 id="_aftertokentransfer"><a class="header" href="#_aftertokentransfer">_afterTokenTransfer</a></h3>
<pre><code class="language-solidity">function _afterTokenTransfer(address from, address to, uint amount) internal override (ERC20, ERC20Votes);
</code></pre>
<h3 id="_mint"><a class="header" href="#_mint">_mint</a></h3>
<pre><code class="language-solidity">function _mint(address to, uint amount) internal override (ERC20, ERC20Votes);
</code></pre>
<h3 id="_burn"><a class="header" href="#_burn">_burn</a></h3>
<pre><code class="language-solidity">function _burn(address account, uint amount) internal override (ERC20, ERC20Votes);
</code></pre>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="emergencyexitset"><a class="header" href="#emergencyexitset">EmergencyExitSet</a></h3>
<pre><code class="language-solidity">event EmergencyExitSet(bool status);
</code></pre>
<h3 id="maxlossratioset"><a class="header" href="#maxlossratioset">MaxLossRatioSet</a></h3>
<pre><code class="language-solidity">event MaxLossRatioSet(uint ratio);
</code></pre>
<h3 id="minlockperiodratioset"><a class="header" href="#minlockperiodratioset">MinLockPeriodRatioSet</a></h3>
<pre><code class="language-solidity">event MinLockPeriodRatioSet(uint ratio);
</code></pre>
<h3 id="feereceiverset"><a class="header" href="#feereceiverset">FeeReceiverSet</a></h3>
<pre><code class="language-solidity">event FeeReceiverSet(address receiver);
</code></pre>
<h3 id="deposit-2"><a class="header" href="#deposit-2">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address account, uint amount);
</code></pre>
<h3 id="withdraw-2"><a class="header" href="#withdraw-2">Withdraw</a></h3>
<pre><code class="language-solidity">event Withdraw(address sender, uint amount);
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="approvedisabled"><a class="header" href="#approvedisabled">ApproveDisabled</a></h3>
<pre><code class="language-solidity">error ApproveDisabled();
</code></pre>
<h3 id="transferdisabled"><a class="header" href="#transferdisabled">TransferDisabled</a></h3>
<pre><code class="language-solidity">error TransferDisabled();
</code></pre>
<h3 id="unlocktimehasnotcome"><a class="header" href="#unlocktimehasnotcome">UnlockTimeHasNotCome</a></h3>
<pre><code class="language-solidity">error UnlockTimeHasNotCome();
</code></pre>
<h3 id="stakeunlocked"><a class="header" href="#stakeunlocked">StakeUnlocked</a></h3>
<pre><code class="language-solidity">error StakeUnlocked();
</code></pre>
<h3 id="minlockperiodrationotreached"><a class="header" href="#minlockperiodrationotreached">MinLockPeriodRatioNotReached</a></h3>
<pre><code class="language-solidity">error MinLockPeriodRatioNotReached();
</code></pre>
<h3 id="minreturnisnotmet"><a class="header" href="#minreturnisnotmet">MinReturnIsNotMet</a></h3>
<pre><code class="language-solidity">error MinReturnIsNotMet();
</code></pre>
<h3 id="maxlossisnotmet"><a class="header" href="#maxlossisnotmet">MaxLossIsNotMet</a></h3>
<pre><code class="language-solidity">error MaxLossIsNotMet();
</code></pre>
<h3 id="maxlossoverflow"><a class="header" href="#maxlossoverflow">MaxLossOverflow</a></h3>
<pre><code class="language-solidity">error MaxLossOverflow();
</code></pre>
<h3 id="lossistoobig"><a class="header" href="#lossistoobig">LossIsTooBig</a></h3>
<pre><code class="language-solidity">error LossIsTooBig();
</code></pre>
<h3 id="rescueamountistoolarge"><a class="header" href="#rescueamountistoolarge">RescueAmountIsTooLarge</a></h3>
<pre><code class="language-solidity">error RescueAmountIsTooLarge();
</code></pre>
<h3 id="expbasetoobig"><a class="header" href="#expbasetoobig">ExpBaseTooBig</a></h3>
<pre><code class="language-solidity">error ExpBaseTooBig();
</code></pre>
<h3 id="expbasetoosmall"><a class="header" href="#expbasetoosmall">ExpBaseTooSmall</a></h3>
<pre><code class="language-solidity">error ExpBaseTooSmall();
</code></pre>
<h3 id="depositsdisabled"><a class="header" href="#depositsdisabled">DepositsDisabled</a></h3>
<pre><code class="language-solidity">error DepositsDisabled();
</code></pre>
<h3 id="zeroaddress"><a class="header" href="#zeroaddress">ZeroAddress</a></h3>
<pre><code class="language-solidity">error ZeroAddress();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-21"><a class="header" href="#contents-21">Contents</a></h1>
<ul>
<li><a href="src/contracts/strategies/BaseStrategy.sol/error.ZeroAmountReceivedFromDeposit.html">ZeroAmountReceivedFromDeposit</a></li>
<li><a href="src/contracts/strategies/BaseStrategy.sol/error.ZeroAmountReceivedFromWithdraw.html">ZeroAmountReceivedFromWithdraw</a></li>
<li><a href="src/contracts/strategies/BaseStrategy.sol/error.InsufficientPosition.html">InsufficientPosition</a></li>
<li><a href="src/contracts/strategies/BaseStrategy.sol/contract.BaseStrategy.html">BaseStrategy</a></li>
<li><a href="src/contracts/strategies/NFTXInventoryStakingStrategy.sol/contract.NFTXInventoryStakingStrategy.html">NFTXInventoryStakingStrategy</a></li>
<li><a href="src/contracts/strategies/NFTXLiquidityPoolStakingStrategy.sol/contract.NFTXLiquidityPoolStakingStrategy.html">NFTXLiquidityPoolStakingStrategy</a></li>
<li><a href="src/contracts/strategies/RevenueStakingStrategy.sol/contract.RevenueStakingStrategy.html">RevenueStakingStrategy</a></li>
<li><a href="src/contracts/strategies/StrategyFactory.sol/error.StrategyNameCannotBeEmpty.html">StrategyNameCannotBeEmpty</a></li>
<li><a href="src/contracts/strategies/StrategyFactory.sol/contract.StrategyFactory.html">StrategyFactory</a></li>
<li><a href="src/contracts/strategies/UniswapV3Strategy.sol/contract.UniswapV3Strategy.html">UniswapV3Strategy</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zeroamountreceivedfromdeposit"><a class="header" href="#zeroamountreceivedfromdeposit">ZeroAmountReceivedFromDeposit</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/BaseStrategy.sol">Git Source</a></p>
<p>If a zero amount is sent to be deposited</p>
<pre><code class="language-solidity">error ZeroAmountReceivedFromDeposit();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zeroamountreceivedfromwithdraw"><a class="header" href="#zeroamountreceivedfromwithdraw">ZeroAmountReceivedFromWithdraw</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/BaseStrategy.sol">Git Source</a></p>
<p>If a zero amount is sent to be withdrawn</p>
<pre><code class="language-solidity">error ZeroAmountReceivedFromWithdraw();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="insufficientposition"><a class="header" href="#insufficientposition">InsufficientPosition</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/BaseStrategy.sol">Git Source</a></p>
<p>If the caller has an insufficient position to withdraw from</p>
<pre><code class="language-solidity">error InsufficientPosition(address token, uint amount, uint position);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basestrategy"><a class="header" href="#basestrategy">BaseStrategy</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/BaseStrategy.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/strategies/BaseStrategy.sol//src/interfaces/strategies/BaseStrategy.sol/contract.IBaseStrategy.html">IBaseStrategy</a>, Initializable, Ownable, Pausable, ReentrancyGuard</p>
<p>Provides underlying logic for all strategies that handles common logic. This includes
storing the total pending rewards and taking snapshots to maintain epoch earned yield.</p>
<h2 id="state-variables-30"><a class="header" href="#state-variables-30">State Variables</a></h2>
<h3 id="name-1"><a class="header" href="#name-1">name</a></h3>
<p>The human-readable name of the strategy.</p>
<pre><code class="language-solidity">bytes32 public name;
</code></pre>
<h3 id="strategyid"><a class="header" href="#strategyid">strategyId</a></h3>
<p>The numerical ID of the vault that acts as an index for the {StrategyFactory}.</p>
<p><em>This must be set in the initializer function call.</em></p>
<pre><code class="language-solidity">uint public strategyId;
</code></pre>
<h3 id="lastepochrewards"><a class="header" href="#lastepochrewards">lastEpochRewards</a></h3>
<p>The amount of rewards claimed in the last claim call.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint) public lastEpochRewards;
</code></pre>
<h3 id="lifetimerewards"><a class="header" href="#lifetimerewards">lifetimeRewards</a></h3>
<p>This will return the internally tracked value of tokens that have been harvested
by the strategy.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint) public lifetimeRewards;
</code></pre>
<h3 id="position"><a class="header" href="#position">position</a></h3>
<p>Maintain a list of active positions held by depositing users.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint) public position;
</code></pre>
<h3 id="_validtokens"><a class="header" href="#_validtokens">_validTokens</a></h3>
<p>Stores a list of tokens that the strategy supports.</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) internal _validTokens;
</code></pre>
<h2 id="functions-47"><a class="header" href="#functions-47">Functions</a></h2>
<h3 id="snapshot"><a class="header" href="#snapshot">snapshot</a></h3>
<p>Gets a read of new yield since the last call. This is what can be called when
the epoch ends to determine the amount generated within the epoch.</p>
<pre><code class="language-solidity">function snapshot() external onlyOwner returns (address[] memory tokens_, uint[] memory amounts_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens_</code></td><td><code>address[]</code></td><td>Tokens that have been generated as yield</td></tr>
<tr><td><code>amounts_</code></td><td><code>uint256[]</code></td><td>The amount of yield generated for the corresponding token</td></tr>
</tbody></table>
</div>
<h3 id="totalrewards"><a class="header" href="#totalrewards">totalRewards</a></h3>
<p>The total amount of rewards generated by the strategy.</p>
<pre><code class="language-solidity">function totalRewards() external view returns (address[] memory tokens_, uint[] memory amounts_);
</code></pre>
<h3 id="available"><a class="header" href="#available">available</a></h3>
<p>Gets rewards that are available to harvest.</p>
<pre><code class="language-solidity">function available() external view virtual returns (address[] memory, uint[] memory);
</code></pre>
<h3 id="harvest"><a class="header" href="#harvest">harvest</a></h3>
<p>Extracts all rewards from third party and moves it to a recipient. This should
only be called by a specific action.</p>
<p><em>The recipient <em>should</em> always be set to the {Treasury} by the {StrategyFactory}.</em></p>
<pre><code class="language-solidity">function harvest(address) external virtual onlyOwner;
</code></pre>
<h3 id="validtokens"><a class="header" href="#validtokens">validTokens</a></h3>
<p>Returns an array of tokens that the strategy supports.</p>
<pre><code class="language-solidity">function validTokens() external view virtual returns (address[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] The address of valid tokens</td></tr>
</tbody></table>
</div>
<h3 id="pause-1"><a class="header" href="#pause-1">pause</a></h3>
<p>Pauses deposits from being made into the strategy.</p>
<p><em>This should only be called by a guardian or governor.</em></p>
<pre><code class="language-solidity">function pause(bool _p) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_p</code></td><td><code>bool</code></td><td>Boolean value for if the vault should be paused</td></tr>
</tbody></table>
</div>
<h3 id="onlyvalidtoken"><a class="header" href="#onlyvalidtoken">onlyValidToken</a></h3>
<p>Confirms that the requested single token is valid before processing a function.</p>
<pre><code class="language-solidity">modifier onlyValidToken(address token);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>A token address that must be valid</td></tr>
</tbody></table>
</div>
<h3 id="onlyvalidtokens"><a class="header" href="#onlyvalidtokens">onlyValidTokens</a></h3>
<p>Confirms that the requested tokens are all valid before processing a function.</p>
<pre><code class="language-solidity">modifier onlyValidTokens(address[] memory tokens);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td>An array of tokens that must all be valid</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="nftxinventorystakingstrategy"><a class="header" href="#nftxinventorystakingstrategy">NFTXInventoryStakingStrategy</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/NFTXInventoryStakingStrategy.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/strategies/NFTXInventoryStakingStrategy.sol//src/contracts/strategies/BaseStrategy.sol/contract.BaseStrategy.html">BaseStrategy</a></p>
<p>Supports an Inventory Staking position against a single NFTX vault. This strategy
will hold the corresponding xToken against deposits.
The contract will extend the {BaseStrategy} to ensure it conforms to the required
logic and functionality. Only functions that have varied internal logic have been
included in this interface with function documentation to explain.</p>
<p><em>This contract does not support PUNK tokens. If a strategy needs to be established
then it should be done through another, bespoke contract.
https://etherscan.io/address/0x3E135c3E981fAe3383A5aE0d323860a34CfAB893#readProxyContract</em></p>
<h2 id="state-variables-31"><a class="header" href="#state-variables-31">State Variables</a></h2>
<h3 id="vaultid"><a class="header" href="#vaultid">vaultId</a></h3>
<p>The NFTX vault ID that the strategy is attached to</p>
<pre><code class="language-solidity">uint public vaultId;
</code></pre>
<h3 id="underlyingtoken-2"><a class="header" href="#underlyingtoken-2">underlyingToken</a></h3>
<p>The underlying token will be the same as the address of the NFTX vault.</p>
<pre><code class="language-solidity">address public underlyingToken;
</code></pre>
<h3 id="yieldtoken"><a class="header" href="#yieldtoken">yieldToken</a></h3>
<p>The reward yield will be a vault xToken as defined by the InventoryStaking contract.</p>
<pre><code class="language-solidity">address public yieldToken;
</code></pre>
<h3 id="assetaddress"><a class="header" href="#assetaddress">assetAddress</a></h3>
<p>The ERC721 / ERC1155 token asset for the NFTX vault</p>
<pre><code class="language-solidity">address public assetAddress;
</code></pre>
<h3 id="inventorystaking-1"><a class="header" href="#inventorystaking-1">inventoryStaking</a></h3>
<p>Address of the NFTX Inventory Staking contract</p>
<pre><code class="language-solidity">INFTXInventoryStaking public inventoryStaking;
</code></pre>
<h3 id="stakingzap-1"><a class="header" href="#stakingzap-1">stakingZap</a></h3>
<p>The NFTX zap addresses</p>
<pre><code class="language-solidity">INFTXStakingZap public stakingZap;
</code></pre>
<h3 id="unstakingzap-1"><a class="header" href="#unstakingzap-1">unstakingZap</a></h3>
<pre><code class="language-solidity">INFTXUnstakingInventoryZap public unstakingZap;
</code></pre>
<h3 id="deposits"><a class="header" href="#deposits">deposits</a></h3>
<p>Track the amount of deposit token</p>
<pre><code class="language-solidity">uint private deposits;
</code></pre>
<h3 id="_nftreceiver-2"><a class="header" href="#_nftreceiver-2">_nftReceiver</a></h3>
<p>Stores the temporary recipient of any ERC721 and ERC1155 tokens that are received
by the contract.</p>
<pre><code class="language-solidity">address private _nftReceiver;
</code></pre>
<h2 id="functions-48"><a class="header" href="#functions-48">Functions</a></h2>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<p>Sets up our contract variables.</p>
<pre><code class="language-solidity">function initialize(bytes32 _name, uint _strategyId, bytes calldata _initData) public initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>bytes32</code></td><td>The name of the strategy</td></tr>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>ID index of the strategy created</td></tr>
<tr><td><code>_initData</code></td><td><code>bytes</code></td><td>Encoded data to be decoded</td></tr>
</tbody></table>
</div>
<h3 id="depositerc20"><a class="header" href="#depositerc20">depositErc20</a></h3>
<p>Deposit underlying token or yield token to corresponding strategy.
Requirements:</p>
<ul>
<li>Caller should make sure the token is already transfered into the strategy contract.</li>
<li>Caller should make sure the deposit amount is greater than zero.</li>
<li>Get the vault ID from the underlying address (vault address)</li>
<li>InventoryStaking.deposit(uint256 vaultId, uint256 _amount)</li>
<li>This deposit will be timelocked</li>
<li>We receive xToken back to the strategy</li>
</ul>
<pre><code class="language-solidity">function depositErc20(uint amount) external nonReentrant whenNotPaused updatesPosition(yieldToken);
</code></pre>
<h3 id="depositerc721"><a class="header" href="#depositerc721">depositErc721</a></h3>
<pre><code class="language-solidity">function depositErc721(uint[] calldata tokenIds) external updatesPosition(yieldToken);
</code></pre>
<h3 id="depositerc1155"><a class="header" href="#depositerc1155">depositErc1155</a></h3>
<pre><code class="language-solidity">function depositErc1155(uint[] calldata tokenIds, uint[] calldata amounts) external updatesPosition(yieldToken);
</code></pre>
<h3 id="withdrawerc20"><a class="header" href="#withdrawerc20">withdrawErc20</a></h3>
<p>Withdraws an amount of our position from the NFTX strategy.</p>
<pre><code class="language-solidity">function withdrawErc20(address recipient, uint amount) external nonReentrant onlyOwner returns (uint amount_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of yield token to withdraw</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>Amount of the underlying token returned</td></tr>
</tbody></table>
</div>
<h3 id="withdrawerc721"><a class="header" href="#withdrawerc721">withdrawErc721</a></h3>
<pre><code class="language-solidity">function withdrawErc721(address _recipient, uint _numNfts, uint _partial) external nonReentrant onlyOwner;
</code></pre>
<h3 id="withdrawerc1155"><a class="header" href="#withdrawerc1155">withdrawErc1155</a></h3>
<pre><code class="language-solidity">function withdrawErc1155(address _recipient, uint _numNfts, uint _partial) external nonReentrant onlyOwner;
</code></pre>
<h3 id="_unstakeinventory"><a class="header" href="#_unstakeinventory">_unstakeInventory</a></h3>
<pre><code class="language-solidity">function _unstakeInventory(address _recipient, uint _numNfts, uint _partial) internal;
</code></pre>
<h3 id="available-1"><a class="header" href="#available-1">available</a></h3>
<p>Gets rewards that are available to harvest.</p>
<pre><code class="language-solidity">function available() external view override returns (address[] memory tokens_, uint[] memory amounts_);
</code></pre>
<h3 id="harvest-1"><a class="header" href="#harvest-1">harvest</a></h3>
<p>Extracts all rewards from third party and moves it to a recipient. This should
only be called by a specific action via the {StrategyFactory}.</p>
<pre><code class="language-solidity">function harvest(address _recipient) external override onlyOwner;
</code></pre>
<h3 id="validtokens-1"><a class="header" href="#validtokens-1">validTokens</a></h3>
<p>Returns an array of tokens that the strategy supports.</p>
<pre><code class="language-solidity">function validTokens() external view override returns (address[] memory);
</code></pre>
<h3 id="updatesposition"><a class="header" href="#updatesposition">updatesPosition</a></h3>
<p>Increases our yield token position based on the logic transacted in the call.</p>
<p><em>This should be called for any deposit calls made.</em></p>
<pre><code class="language-solidity">modifier updatesPosition(address token);
</code></pre>
<h3 id="onerc721received-6"><a class="header" href="#onerc721received-6">onERC721Received</a></h3>
<p>Allows the contract to receive ERC721 tokens.</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint _id, bytes memory) public returns (bytes4);
</code></pre>
<h3 id="onerc1155received-2"><a class="header" href="#onerc1155received-2">onERC1155Received</a></h3>
<p>Allows the contract to receive ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155Received(address, address, uint _id, uint _value, bytes calldata _data) public returns (bytes4);
</code></pre>
<h3 id="onerc1155batchreceived-2"><a class="header" href="#onerc1155batchreceived-2">onERC1155BatchReceived</a></h3>
<p>Allows the contract to receive batch ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155BatchReceived(address, address, uint[] calldata _ids, uint[] calldata _values, bytes calldata _data)
    external
    returns (bytes4);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nftxliquiditypoolstakingstrategy"><a class="header" href="#nftxliquiditypoolstakingstrategy">NFTXLiquidityPoolStakingStrategy</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/NFTXLiquidityPoolStakingStrategy.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/strategies/NFTXLiquidityPoolStakingStrategy.sol//src/contracts/strategies/BaseStrategy.sol/contract.BaseStrategy.html">BaseStrategy</a></p>
<p>Supports an Liquidity Staking position against a single NFTX vault. This strategy
will hold the corresponding xToken against deposits.
The contract will extend the {BaseStrategy} to ensure it conforms to the required
logic and functionality. Only functions that have varied internal logic have been
included in this interface with function documentation to explain.</p>
<p><em>This contract does not support PUNK tokens. If a strategy needs to be established
then it should be done through another, bespoke contract.</em></p>
<h2 id="state-variables-32"><a class="header" href="#state-variables-32">State Variables</a></h2>
<h3 id="vaultid-1"><a class="header" href="#vaultid-1">vaultId</a></h3>
<p>The NFTX vault ID that the strategy is attached to</p>
<pre><code class="language-solidity">uint public vaultId;
</code></pre>
<h3 id="underlyingtoken-3"><a class="header" href="#underlyingtoken-3">underlyingToken</a></h3>
<p>The underlying token will be the same as the address of the NFTX vault.</p>
<pre><code class="language-solidity">address public underlyingToken;
</code></pre>
<h3 id="yieldtoken-1"><a class="header" href="#yieldtoken-1">yieldToken</a></h3>
<p>The yield token will be a vault xToken as defined by the LP contract.</p>
<pre><code class="language-solidity">address public yieldToken;
</code></pre>
<h3 id="rewardtoken"><a class="header" href="#rewardtoken">rewardToken</a></h3>
<p>The reward token will be a vToken as defined by the LP contract.</p>
<pre><code class="language-solidity">address public rewardToken;
</code></pre>
<h3 id="assetaddress-1"><a class="header" href="#assetaddress-1">assetAddress</a></h3>
<p>The ERC721 / ERC1155 token asset for the NFTX vault</p>
<pre><code class="language-solidity">address public assetAddress;
</code></pre>
<h3 id="liquiditystaking"><a class="header" href="#liquiditystaking">liquidityStaking</a></h3>
<p>The NFTX zap addresses</p>
<pre><code class="language-solidity">INFTXLiquidityStaking public liquidityStaking;
</code></pre>
<h3 id="stakingzap-2"><a class="header" href="#stakingzap-2">stakingZap</a></h3>
<pre><code class="language-solidity">INFTXStakingZap public stakingZap;
</code></pre>
<h3 id="deposits-1"><a class="header" href="#deposits-1">deposits</a></h3>
<p>Track the amount of deposit token</p>
<pre><code class="language-solidity">uint private deposits;
</code></pre>
<h3 id="weth-7"><a class="header" href="#weth-7">WETH</a></h3>
<pre><code class="language-solidity">IWETH public WETH;
</code></pre>
<h2 id="functions-49"><a class="header" href="#functions-49">Functions</a></h2>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<p>Sets up our contract variables.</p>
<pre><code class="language-solidity">function initialize(bytes32 _name, uint _strategyId, bytes calldata _initData) public initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>bytes32</code></td><td>The name of the strategy</td></tr>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>ID index of the strategy created</td></tr>
<tr><td><code>_initData</code></td><td><code>bytes</code></td><td>Encoded data to be decoded</td></tr>
</tbody></table>
</div>
<h3 id="depositerc20-1"><a class="header" href="#depositerc20-1">depositErc20</a></h3>
<p>Deposit the underlying token into the LP staking pool.</p>
<pre><code class="language-solidity">function depositErc20(uint amount) external nonReentrant whenNotPaused updatesPosition(yieldToken) returns (uint amount_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>Amount of yield token returned from NFTX</td></tr>
</tbody></table>
</div>
<h3 id="depositerc721-1"><a class="header" href="#depositerc721-1">depositErc721</a></h3>
<pre><code class="language-solidity">function depositErc721(uint[] calldata tokenIds, uint minWethIn, uint wethIn) external updatesPosition(yieldToken) refundsWeth;
</code></pre>
<h3 id="depositerc1155-1"><a class="header" href="#depositerc1155-1">depositErc1155</a></h3>
<pre><code class="language-solidity">function depositErc1155(uint[] calldata tokenIds, uint[] calldata amounts, uint minWethIn, uint wethIn)
    external
    updatesPosition(yieldToken)
    refundsWeth;
</code></pre>
<h3 id="withdrawerc20-1"><a class="header" href="#withdrawerc20-1">withdrawErc20</a></h3>
<p>Withdraws an amount of our position from the NFTX strategy.</p>
<pre><code class="language-solidity">function withdrawErc20(address recipient, uint amount) external nonReentrant onlyOwner returns (uint amount_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of yield token to withdraw</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>Amount of the underlying token returned</td></tr>
</tbody></table>
</div>
<h3 id="available-2"><a class="header" href="#available-2">available</a></h3>
<p>Gets rewards that are available to harvest.</p>
<pre><code class="language-solidity">function available() external view override returns (address[] memory tokens_, uint[] memory amounts_);
</code></pre>
<h3 id="harvest-2"><a class="header" href="#harvest-2">harvest</a></h3>
<p>Extracts all rewards from third party and moves it to a recipient. This should
only be called by a specific action via the {StrategyFactory}.</p>
<pre><code class="language-solidity">function harvest(address _recipient) external override onlyOwner;
</code></pre>
<h3 id="validtokens-2"><a class="header" href="#validtokens-2">validTokens</a></h3>
<p>Returns an array of tokens that the strategy supports.</p>
<pre><code class="language-solidity">function validTokens() external view override returns (address[] memory);
</code></pre>
<h3 id="updatesposition-1"><a class="header" href="#updatesposition-1">updatesPosition</a></h3>
<p>Increases our yield token position based on the logic transacted in the call.</p>
<p><em>This should be called for any deposit calls made.</em></p>
<pre><code class="language-solidity">modifier updatesPosition(address token);
</code></pre>
<h3 id="refundsweth"><a class="header" href="#refundsweth">refundsWeth</a></h3>
<pre><code class="language-solidity">modifier refundsWeth();
</code></pre>
<h3 id="onerc1155received-3"><a class="header" href="#onerc1155received-3">onERC1155Received</a></h3>
<p>Allows the contract to receive ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155Received(address, address, uint, uint, bytes calldata) public view returns (bytes4);
</code></pre>
<h3 id="onerc1155batchreceived-3"><a class="header" href="#onerc1155batchreceived-3">onERC1155BatchReceived</a></h3>
<p>Allows the contract to receive batch ERC1155 tokens.</p>
<pre><code class="language-solidity">function onERC1155BatchReceived(address, address, uint[] calldata, uint[] calldata, bytes calldata) external view returns (bytes4);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="revenuestakingstrategy"><a class="header" href="#revenuestakingstrategy">RevenueStakingStrategy</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/RevenueStakingStrategy.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/strategies/RevenueStakingStrategy.sol//src/contracts/strategies/BaseStrategy.sol/contract.BaseStrategy.html">BaseStrategy</a></p>
<p>Supports manual staking of &quot;yield&quot; from an authorised sender. This allows manual
yield management from external sources and products that cannot be strictly enforced
on-chain otherwise.
The contract will extend the {BaseStrategy} to ensure it conforms to the required
logic and functionality.</p>
<p><em>This staking strategy will only accept ERC20 deposits and withdrawals.</em></p>
<h2 id="state-variables-33"><a class="header" href="#state-variables-33">State Variables</a></h2>
<h3 id="_tokens"><a class="header" href="#_tokens">_tokens</a></h3>
<p>An array of tokens supported by the strategy</p>
<pre><code class="language-solidity">address[] private _tokens;
</code></pre>
<h2 id="functions-50"><a class="header" href="#functions-50">Functions</a></h2>
<h3 id="initialize-2"><a class="header" href="#initialize-2">initialize</a></h3>
<p>Sets up our contract variables.</p>
<pre><code class="language-solidity">function initialize(bytes32 _name, uint _strategyId, bytes calldata _initData) public initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>bytes32</code></td><td>The name of the strategy</td></tr>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>ID index of the strategy created</td></tr>
<tr><td><code>_initData</code></td><td><code>bytes</code></td><td>Encoded data to be decoded</td></tr>
</tbody></table>
</div>
<h3 id="depositerc20-2"><a class="header" href="#depositerc20-2">depositErc20</a></h3>
<p>Deposit a token that will be stored as a reward.</p>
<pre><code class="language-solidity">function depositErc20(address token, uint amount) external nonReentrant whenNotPaused onlyValidToken(token) returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of token to deposit</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint Amount of token registered as rewards</td></tr>
</tbody></table>
</div>
<h3 id="withdrawerc20-2"><a class="header" href="#withdrawerc20-2">withdrawErc20</a></h3>
<p>Withdraws an amount of our position from the strategy.</p>
<pre><code class="language-solidity">function withdrawErc20(address recipient, address token, uint amount)
    external
    nonReentrant
    onlyOwner
    onlyValidToken(token)
    returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of token to withdraw</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint Amount of the token returned</td></tr>
</tbody></table>
</div>
<h3 id="available-3"><a class="header" href="#available-3">available</a></h3>
<p>Gets rewards that are available to harvest.</p>
<p><em>This will always return two empty arrays as we will never have
tokens available to harvest.</em></p>
<pre><code class="language-solidity">function available() external view override returns (address[] memory tokens_, uint[] memory amounts_);
</code></pre>
<h3 id="harvest-3"><a class="header" href="#harvest-3">harvest</a></h3>
<p>There will never be any rewards to harvest in this strategy.</p>
<pre><code class="language-solidity">function harvest(address _recipient) external override onlyOwner;
</code></pre>
<h3 id="validtokens-3"><a class="header" href="#validtokens-3">validTokens</a></h3>
<p>Returns an array of tokens that the strategy supports.</p>
<pre><code class="language-solidity">function validTokens() external view override returns (address[] memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strategynamecannotbeempty"><a class="header" href="#strategynamecannotbeempty">StrategyNameCannotBeEmpty</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/StrategyFactory.sol">Git Source</a></p>
<pre><code class="language-solidity">error StrategyNameCannotBeEmpty();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strategyfactory"><a class="header" href="#strategyfactory">StrategyFactory</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/StrategyFactory.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/strategies/StrategyFactory.sol//src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a>, <a href="src/contracts/strategies/StrategyFactory.sol//src/interfaces/strategies/StrategyFactory.sol/contract.IStrategyFactory.html">IStrategyFactory</a></p>
<p>Allows for vaults to be created, pairing them with an approved collection. The vault
creation script needs to be as highly optimised as possible to ensure that the gas
costs are kept down.
This factory will keep an index of created vaults and secondary information to ensure
that external applications can display and maintain a list of available vaults.</p>
<h2 id="state-variables-34"><a class="header" href="#state-variables-34">State Variables</a></h2>
<h3 id="_strategies"><a class="header" href="#_strategies">_strategies</a></h3>
<p>Maintains an array of all vaults created</p>
<pre><code class="language-solidity">address[] private _strategies;
</code></pre>
<h3 id="treasury-3"><a class="header" href="#treasury-3">treasury</a></h3>
<p>Store our Treasury address</p>
<pre><code class="language-solidity">address public treasury;
</code></pre>
<h3 id="collectionregistry-2"><a class="header" href="#collectionregistry-2">collectionRegistry</a></h3>
<p>Contract mappings to our internal registries</p>
<pre><code class="language-solidity">ICollectionRegistry public immutable collectionRegistry;
</code></pre>
<h3 id="strategyids"><a class="header" href="#strategyids">strategyIds</a></h3>
<p>Mappings to aide is discoverability</p>
<pre><code class="language-solidity">mapping(uint =&gt; address) private strategyIds;
</code></pre>
<h3 id="collectionstrategies"><a class="header" href="#collectionstrategies">collectionStrategies</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address[]) public collectionStrategies;
</code></pre>
<h2 id="functions-51"><a class="header" href="#functions-51">Functions</a></h2>
<h3 id="constructor-29"><a class="header" href="#constructor-29">constructor</a></h3>
<p>Store our registries, mapped to their interfaces.</p>
<pre><code class="language-solidity">constructor(address _authority, address _collectionRegistry) AuthorityControl(_authority);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_authority</code></td><td><code>address</code></td><td>{AuthorityRegistry} contract address</td></tr>
<tr><td><code>_collectionRegistry</code></td><td><code>address</code></td><td>Address of our {CollectionRegistry}</td></tr>
</tbody></table>
</div>
<h3 id="strategies"><a class="header" href="#strategies">strategies</a></h3>
<p>Provides a list of all strategies created.</p>
<pre><code class="language-solidity">function strategies() external view returns (address[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>Array of all strategies created by the {StrategyFactory}</td></tr>
</tbody></table>
</div>
<h3 id="strategy"><a class="header" href="#strategy">strategy</a></h3>
<p>Provides a strategy against the provided <code>strategyId</code> (index). If the index does not exist,
then address(0) will be returned.</p>
<pre><code class="language-solidity">function strategy(uint _strategyId) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>ID of the strategy to retrieve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>Address of the strategy</td></tr>
</tbody></table>
</div>
<h3 id="deploystrategy"><a class="header" href="#deploystrategy">deployStrategy</a></h3>
<p>Creates a vault with an approved collection.</p>
<p><em>The vault is not created using Clones as there are complications when allocated
roles and permissions.</em></p>
<pre><code class="language-solidity">function deployStrategy(bytes32 _name, address _strategy, bytes calldata _strategyInitData, address _collection)
    external
    onlyRole(VAULT_MANAGER)
    returns (uint strategyId_, address strategyAddr_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>bytes32</code></td><td>Human-readable name of the vault</td></tr>
<tr><td><code>_strategy</code></td><td><code>address</code></td><td>The strategy implemented by the vault</td></tr>
<tr><td><code>_strategyInitData</code></td><td><code>bytes</code></td><td>Bytes data required by the {Strategy} for initialization</td></tr>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The address of the collection attached to the vault</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>strategyId_</code></td><td><code>uint256</code></td><td>ID of the newly created vault</td></tr>
<tr><td><code>strategyAddr_</code></td><td><code>address</code></td><td>Address of the newly created vault</td></tr>
</tbody></table>
</div>
<h3 id="pause-2"><a class="header" href="#pause-2">pause</a></h3>
<p>Allows individual vaults to be paused, meaning that assets can no longer be deposited,
although staked assets can always be withdrawn.</p>
<p><em>Events are fired within the vault to allow listeners to update.</em></p>
<pre><code class="language-solidity">function pause(uint _strategyId, bool _paused) public onlyRole(VAULT_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
<tr><td><code>_paused</code></td><td><code>bool</code></td><td>If the vault should be paused or unpaused</td></tr>
</tbody></table>
</div>
<h3 id="snapshot-1"><a class="header" href="#snapshot-1">snapshot</a></h3>
<p>Reads the yield generated by a strategy since the last time that this function was called.</p>
<pre><code class="language-solidity">function snapshot(uint _strategyId) external onlyRole(VAULT_MANAGER) returns (address[] memory tokens, uint[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td>Tokens that have been generated as yield</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>The amount of yield generated for the corresponding token</td></tr>
</tbody></table>
</div>
<h3 id="harvest-4"><a class="header" href="#harvest-4">harvest</a></h3>
<p>Harvest available reward yield from the strategy. This won't affect the amount
depositted into the contract and should only harvest rewards directly into the
{Treasury}.</p>
<pre><code class="language-solidity">function harvest(uint _strategyId) external onlyRole(VAULT_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-3"><a class="header" href="#withdraw-3">withdraw</a></h3>
<p>Makes a call to a strategy withdraw function by passing the strategy ID and
<code>abi.encodeWithSelector</code> to build the bytes <code>_data</code> parameter. This will then
pass the data on to the strategy function and inject the treasury recipient
address within the call as the first function parameter.</p>
<p><em>It is required for the transaction to return a successful call, otherwise
the transaction will be reverted. The error response will be standardised so
debugging will require a trace, rather than just the end message.</em></p>
<pre><code class="language-solidity">function withdraw(uint _strategyId, bytes calldata _data) external onlyRole(VAULT_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
<tr><td><code>_data</code></td><td><code>bytes</code></td><td>Strategy withdraw function call, using <code>encodeWithSelector</code></td></tr>
</tbody></table>
</div>
<h3 id="settreasury"><a class="header" href="#settreasury">setTreasury</a></h3>
<p>Allows the {Treasury} contract address to be updated. All withdrawals will
be requested to be sent to this address when the <code>withdraw</code> is called.</p>
<p><em>This address is dynamically injected into the subsequent strategy
withdraw call.</em></p>
<pre><code class="language-solidity">function setTreasury(address _treasury) public onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_treasury</code></td><td><code>address</code></td><td>The new {Treasury} contract address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapv3strategy"><a class="header" href="#uniswapv3strategy">UniswapV3Strategy</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/strategies/UniswapV3Strategy.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/strategies/UniswapV3Strategy.sol//src/contracts/strategies/BaseStrategy.sol/contract.BaseStrategy.html">BaseStrategy</a></p>
<p>Sets up a strategy that interacts with Uniswap.</p>
<h2 id="state-variables-35"><a class="header" href="#state-variables-35">State Variables</a></h2>
<h3 id="tokenid"><a class="header" href="#tokenid">tokenId</a></h3>
<p>Once our token has been minted, we can store the ID</p>
<pre><code class="language-solidity">uint public tokenId;
</code></pre>
<h3 id="params"><a class="header" href="#params">params</a></h3>
<p>An array of tokens supported by the strategy</p>
<pre><code class="language-solidity">InitializeParams public params;
</code></pre>
<h3 id="positionmanager-1"><a class="header" href="#positionmanager-1">positionManager</a></h3>
<p>Stores our Uniswap position manager</p>
<pre><code class="language-solidity">IUniswapV3NonfungiblePositionManager public positionManager;
</code></pre>
<h2 id="functions-52"><a class="header" href="#functions-52">Functions</a></h2>
<h3 id="initialize-3"><a class="header" href="#initialize-3">initialize</a></h3>
<p>Sets up our contract variables.</p>
<pre><code class="language-solidity">function initialize(bytes32 _name, uint _strategyId, bytes calldata _initData) public initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>bytes32</code></td><td>The name of the strategy</td></tr>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>ID index of the strategy created</td></tr>
<tr><td><code>_initData</code></td><td><code>bytes</code></td><td>Encoded data to be decoded</td></tr>
</tbody></table>
</div>
<h3 id="deposit-3"><a class="header" href="#deposit-3">deposit</a></h3>
<p>Adds liquidity against an existing Uniswap ERC721 position.
/// @param amount0Desired - The desired amount of token0 that should be supplied,
/// @param amount1Desired - The desired amount of token1 that should be supplied,
/// @param amount0Min - The minimum amount of token0 that should be supplied,
/// @param amount1Min - The minimum amount of token1 that should be supplied,
/// @param deadline - The time by which the transaction must be included to effect the change</p>
<pre><code class="language-solidity">function deposit(uint amount0Desired, uint amount1Desired, uint amount0Min, uint amount1Min, uint deadline)
    external
    returns (uint liquidity, uint amount0, uint amount1);
</code></pre>
<h3 id="withdraw-4"><a class="header" href="#withdraw-4">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(address recipient, uint amount0Min, uint amount1Min, uint deadline, uint128 liquidity) external nonReentrant onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>amount0Min</code></td><td><code>uint256</code></td><td>- The minimum amount of token0 that should be accounted for the burned liquidity,</td></tr>
<tr><td><code>amount1Min</code></td><td><code>uint256</code></td><td>- The minimum amount of token1 that should be accounted for the burned liquidity,</td></tr>
<tr><td><code>deadline</code></td><td><code>uint256</code></td><td>- The time by which the transaction must be included to effect the change</td></tr>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="available-4"><a class="header" href="#available-4">available</a></h3>
<p>Gets rewards that are available to harvest.</p>
<pre><code class="language-solidity">function available() external view override returns (address[] memory tokens_, uint[] memory amounts_);
</code></pre>
<h3 id="harvest-5"><a class="header" href="#harvest-5">harvest</a></h3>
<p>There will never be any rewards to harvest in this strategy.</p>
<pre><code class="language-solidity">function harvest(address _recipient) external override onlyOwner;
</code></pre>
<h3 id="validtokens-4"><a class="header" href="#validtokens-4">validTokens</a></h3>
<p>Returns an array of tokens that the strategy supports.</p>
<pre><code class="language-solidity">function validTokens() external view override returns (address[] memory tokens_);
</code></pre>
<h3 id="onerc721received-7"><a class="header" href="#onerc721received-7">onERC721Received</a></h3>
<p>Implementing <code>onERC721Received</code> so this contract can receive custody of erc721 tokens.</p>
<p><em>Note that the operator is recorded as the owner of the deposited NFT.</em></p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint, bytes calldata) external view returns (bytes4);
</code></pre>
<h2 id="structs-26"><a class="header" href="#structs-26">Structs</a></h2>
<h3 id="initializeparams"><a class="header" href="#initializeparams">InitializeParams</a></h3>
<pre><code class="language-solidity">struct InitializeParams {
    address token0;
    address token1;
    uint24 fee;
    uint96 sqrtPriceX96;
    int24 tickLower;
    int24 tickUpper;
    address pool;
    address positionManager;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-22"><a class="header" href="#contents-22">Contents</a></h1>
<ul>
<li><a href="src/contracts/sweepers/CowSwap.sol/contract.CowSwapSweeper.html">CowSwapSweeper</a></li>
<li><a href="src/contracts/sweepers/Gem.sol/contract.GemSweeper.html">GemSweeper</a></li>
<li><a href="src/contracts/sweepers/Manual.sol/contract.ManualSweeper.html">ManualSweeper</a></li>
<li><a href="src/contracts/sweepers/Mercenary.sol/contract.MercenarySweeper.html">MercenarySweeper</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cowswapsweeper"><a class="header" href="#cowswapsweeper">CowSwapSweeper</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/sweepers/CowSwap.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/sweepers/CowSwap.sol//src/interfaces/cowswap/CoWSwapOnchainOrders.sol/contract.ICoWSwapOnchainOrders.html">ICoWSwapOnchainOrders</a>, <a href="src/contracts/sweepers/CowSwap.sol//src/interfaces/actions/Sweeper.sol/contract.ISweeper.html">ISweeper</a></p>
<p>Interacts with the CowSwap protocol to fulfill a sweep order.
Based on codebase:
https://github.com/nlordell/dappcon-2022-smart-orders</p>
<h2 id="state-variables-36"><a class="header" href="#state-variables-36">State Variables</a></h2>
<h3 id="app_data-1"><a class="header" href="#app_data-1">APP_DATA</a></h3>
<pre><code class="language-solidity">bytes32 public constant APP_DATA = keccak256('floordao');
</code></pre>
<h3 id="settlement-1"><a class="header" href="#settlement-1">settlement</a></h3>
<pre><code class="language-solidity">ICoWSwapSettlement public immutable settlement;
</code></pre>
<h3 id="domainseparator-1"><a class="header" href="#domainseparator-1">domainSeparator</a></h3>
<pre><code class="language-solidity">bytes32 public immutable domainSeparator;
</code></pre>
<h3 id="weth-8"><a class="header" href="#weth-8">weth</a></h3>
<pre><code class="language-solidity">IWETH public immutable weth;
</code></pre>
<h3 id="treasury-4"><a class="header" href="#treasury-4">treasury</a></h3>
<pre><code class="language-solidity">address public immutable treasury;
</code></pre>
<h2 id="functions-53"><a class="header" href="#functions-53">Functions</a></h2>
<h3 id="constructor-30"><a class="header" href="#constructor-30">constructor</a></h3>
<pre><code class="language-solidity">constructor(address settlement_, address treasury_);
</code></pre>
<h3 id="execute-28"><a class="header" href="#execute-28">execute</a></h3>
<pre><code class="language-solidity">function execute(address[] calldata collections, uint[] calldata amounts, bytes calldata)
    external
    payable
    override
    returns (string memory);
</code></pre>
<h2 id="structs-27"><a class="header" href="#structs-27">Structs</a></h2>
<h3 id="data"><a class="header" href="#data">Data</a></h3>
<pre><code class="language-solidity">struct Data {
    IERC20 sellToken;
    IERC20 buyToken;
    address receiver;
    uint sellAmount;
    uint buyAmount;
    uint32 validFrom;
    uint32 validTo;
    uint feeAmount;
    bytes meta;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gemsweeper"><a class="header" href="#gemsweeper">GemSweeper</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/sweepers/Gem.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/sweepers/Gem.sol//src/interfaces/actions/Sweeper.sol/contract.ISweeper.html">ISweeper</a></p>
<p>Interacts with the Gem.xyz protocol to fulfill a sweep order.</p>
<h2 id="functions-54"><a class="header" href="#functions-54">Functions</a></h2>
<h3 id="execute-29"><a class="header" href="#execute-29">execute</a></h3>
<pre><code class="language-solidity">function execute(address[] calldata, uint[] calldata, bytes calldata data) external payable override returns (string memory);
</code></pre>
<h3 id="receive-5"><a class="header" href="#receive-5">receive</a></h3>
<p>Allows our contract to receive dust ETH back from our Gem sweep.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="manualsweeper"><a class="header" href="#manualsweeper">ManualSweeper</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/sweepers/Manual.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/sweepers/Manual.sol//src/interfaces/actions/Sweeper.sol/contract.ISweeper.html">ISweeper</a></p>
<p>Allows a sweep to be referenced as manually swept outside of onchain logic. This references
another transaction to provide information that the sweep was completed.
This can be used to allow for multiple fractional sweeps from multiple epoch votes to be
completed in a single transaction.</p>
<h2 id="functions-55"><a class="header" href="#functions-55">Functions</a></h2>
<h3 id="execute-30"><a class="header" href="#execute-30">execute</a></h3>
<p>Our execute function call will just return the provided bytes data that should unpack
into a string message to be subsequently stored onchain against the sweep.</p>
<pre><code class="language-solidity">function execute(address[] calldata, uint[] calldata, bytes calldata data) external payable override returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mercenarysweeper"><a class="header" href="#mercenarysweeper">MercenarySweeper</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/sweepers/Mercenary.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/sweepers/Mercenary.sol//src/interfaces/actions/Sweeper.sol/contract.IMercenarySweeper.html">IMercenarySweeper</a></p>
<p>Acts as an interface to allow Optioned Mercenaries to be swept after a collection
addition war. This will take a flat amount and sweep as many as it can for the
amount provided, prioritised by discount first, then staking order (oldest first).</p>
<p><em>This sweeper makes the assumption that only one collection and amount will
be passed through as this is used for the Collection Addition War which, at time
of writing, should only allow for a singular winner to be crowned.</em></p>
<h2 id="state-variables-37"><a class="header" href="#state-variables-37">State Variables</a></h2>
<h3 id="newcollectionwaroptions"><a class="header" href="#newcollectionwaroptions">newCollectionWarOptions</a></h3>
<p>Contract reference to our active {NewCollectionWars} contract</p>
<pre><code class="language-solidity">INewCollectionWarOptions public immutable newCollectionWarOptions;
</code></pre>
<h2 id="functions-56"><a class="header" href="#functions-56">Functions</a></h2>
<h3 id="constructor-31"><a class="header" href="#constructor-31">constructor</a></h3>
<p>Sets our immutable {NewCollectionWarOptions} contract reference and casts it's interface.</p>
<pre><code class="language-solidity">constructor(address _newCollectionWarOptions);
</code></pre>
<h3 id="execute-31"><a class="header" href="#execute-31">execute</a></h3>
<p>Actions our Mercenary sweep.</p>
<pre><code class="language-solidity">function execute(uint warIndex, uint amount) external payable override returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>warIndex</code></td><td><code>uint256</code></td><td>The index of the war being executed</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount allocated to the transaction</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-23"><a class="header" href="#contents-23">Contents</a></h1>
<ul>
<li><a href="src/contracts/tokens//src/contracts/tokens/extensions">extensions</a></li>
<li><a href="src/contracts/tokens/Floor.sol/contract.FLOOR.html">FLOOR</a></li>
<li><a href="src/contracts/tokens/FloorNft.sol/contract.FloorNft.html">FloorNft</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-24"><a class="header" href="#contents-24">Contents</a></h1>
<ul>
<li><a href="src/contracts/tokens/extensions/ERC721Lockable.sol/contract.ERC721Lockable.html">ERC721Lockable</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc721lockable"><a class="header" href="#erc721lockable">ERC721Lockable</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/tokens/extensions/ERC721Lockable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC721, Ownable</p>
<p>Allows an ERC721 token to be softlocked by an external contract. We piggyback
the existing approval logic to allow the external contract to have locking rights.
By allowing a token to be softlocked, we can get claim timelocked rewards or
benfits without the requirement of transferring the token away from the user.
In addition, we also allow for staking contracts to be specified that will allow
a user to soft lock their token, without the token being in direct ownership of
the calling user. It will, however, require that the</p>
<h2 id="state-variables-38"><a class="header" href="#state-variables-38">State Variables</a></h2>
<h3 id="tokenlocks"><a class="header" href="#tokenlocks">tokenLocks</a></h3>
<p>Maps token IDs to locks</p>
<pre><code class="language-solidity">mapping(uint =&gt; TokenLock) internal tokenLocks;
</code></pre>
<h3 id="heldstakes"><a class="header" href="#heldstakes">heldStakes</a></h3>
<p>Maps token IDs to a user that has it staked in an approved staking contract.</p>
<pre><code class="language-solidity">mapping(uint =&gt; address) public heldStakes;
</code></pre>
<h3 id="approvedlockers"><a class="header" href="#approvedlockers">approvedLockers</a></h3>
<p>Maps an approved locking address to a token ID.</p>
<pre><code class="language-solidity">mapping(uint =&gt; address) public approvedLockers;
</code></pre>
<h3 id="approvedstakers"><a class="header" href="#approvedstakers">approvedStakers</a></h3>
<p>List of approved stakers</p>
<pre><code class="language-solidity">address[] public approvedStakers;
</code></pre>
<h2 id="functions-57"><a class="header" href="#functions-57">Functions</a></h2>
<h3 id="islocked"><a class="header" href="#islocked">isLocked</a></h3>
<p>Checks if the token ID is currently locked, based on the lock timestamp.</p>
<pre><code class="language-solidity">function isLocked(uint tokenId) external view returns (bool);
</code></pre>
<h3 id="lockedby"><a class="header" href="#lockedby">lockedBy</a></h3>
<p>The address of the staker that has locked the token ID. If the token is not
currently locked, then a zero address will be returned.</p>
<pre><code class="language-solidity">function lockedBy(uint tokenId) external view returns (address);
</code></pre>
<h3 id="lockeduntil"><a class="header" href="#lockeduntil">lockedUntil</a></h3>
<p>The timestamp that the token is locked until. If the token is not currently
locked then <code>0</code> will be returned.</p>
<pre><code class="language-solidity">function lockedUntil(uint tokenId) external view returns (uint);
</code></pre>
<h3 id="approvelocker"><a class="header" href="#approvelocker">approveLocker</a></h3>
<p>Approves an address to lock the token, in the same manner that <code>approve</code> works.</p>
<pre><code class="language-solidity">function approveLocker(address to, uint tokenId) external;
</code></pre>
<h3 id="lock"><a class="header" href="#lock">lock</a></h3>
<p>Locks the token ID</p>
<pre><code class="language-solidity">function lock(address user, uint tokenId, uint96 unlocksAt) external;
</code></pre>
<h3 id="unlock"><a class="header" href="#unlock">unlock</a></h3>
<p>Allows a locker to unlock a token that they currently have locked.</p>
<pre><code class="language-solidity">function unlock(uint tokenId) external;
</code></pre>
<h3 id="setapprovedstaker"><a class="header" href="#setapprovedstaker">setApprovedStaker</a></h3>
<p>Allows a new staker contract to be approved to lock the token.</p>
<pre><code class="language-solidity">function setApprovedStaker(address staker, bool approved) external onlyOwner;
</code></pre>
<h3 id="_beforetokentransfer"><a class="header" href="#_beforetokentransfer">_beforeTokenTransfer</a></h3>
<p>Before a token is transferred, we need to check if it is being sent to an approved
staking contract to maintain.</p>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from, address to, uint firstTokenId, uint batchSize) internal virtual override (ERC721);
</code></pre>
<h3 id="_isapprovedstaker"><a class="header" href="#_isapprovedstaker">_isApprovedStaker</a></h3>
<p>Check if an address is present in our approved stakers list.</p>
<pre><code class="language-solidity">function _isApprovedStaker(address staker) internal view returns (bool);
</code></pre>
<h2 id="structs-28"><a class="header" href="#structs-28">Structs</a></h2>
<h3 id="tokenlock"><a class="header" href="#tokenlock">TokenLock</a></h3>
<p>Holds information about our token locks.</p>
<pre><code class="language-solidity">struct TokenLock {
    address locker;
    uint96 unlocksAt;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="floor-3"><a class="header" href="#floor-3">FLOOR</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/tokens/Floor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/tokens/Floor.sol//src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a>, ERC20, ERC20Burnable, ERC20Permit, <a href="src/contracts/tokens/Floor.sol//src/interfaces/tokens/Floor.sol/contract.IFLOOR.html">IFLOOR</a></p>
<p>Sets up our FLOOR ERC20 token.</p>
<h2 id="functions-58"><a class="header" href="#functions-58">Functions</a></h2>
<h3 id="constructor-32"><a class="header" href="#constructor-32">constructor</a></h3>
<p>Sets up our ERC20 token.</p>
<pre><code class="language-solidity">constructor(address _authority) ERC20('Floor', 'FLOOR') ERC20Permit('Floor') AuthorityControl(_authority);
</code></pre>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<p>Allows a <code>FLOOR_MANAGER</code> to mint additional FLOOR tokens.</p>
<pre><code class="language-solidity">function mint(address to, uint amount) public onlyRole(FLOOR_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to</code></td><td><code>address</code></td><td>Recipient of the tokens</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to be minted</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="floornft"><a class="header" href="#floornft">FloorNft</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/tokens/FloorNft.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/tokens/FloorNft.sol//src/contracts/tokens/extensions/ERC721Lockable.sol/contract.ERC721Lockable.html">ERC721Lockable</a></p>
<h2 id="state-variables-39"><a class="header" href="#state-variables-39">State Variables</a></h2>
<h3 id="supply"><a class="header" href="#supply">supply</a></h3>
<p>Maintain an index of our current supply</p>
<pre><code class="language-solidity">uint private supply;
</code></pre>
<h3 id="uri"><a class="header" href="#uri">uri</a></h3>
<p>The URI of your IPFS/hosting server for the metadata folder</p>
<pre><code class="language-solidity">string internal uri;
</code></pre>
<h3 id="cost"><a class="header" href="#cost">cost</a></h3>
<p>Price of one NFT</p>
<pre><code class="language-solidity">uint public constant cost = 0.05 ether;
</code></pre>
<h3 id="maxsupply"><a class="header" href="#maxsupply">maxSupply</a></h3>
<p>The maximum supply of your collection</p>
<pre><code class="language-solidity">uint public maxSupply;
</code></pre>
<h3 id="maxmintamountpertx"><a class="header" href="#maxmintamountpertx">maxMintAmountPerTx</a></h3>
<p>The maximum mint amount allowed per transaction</p>
<pre><code class="language-solidity">uint public maxMintAmountPerTx;
</code></pre>
<h3 id="paused"><a class="header" href="#paused">paused</a></h3>
<p>The paused state for minting</p>
<pre><code class="language-solidity">bool public paused = true;
</code></pre>
<h3 id="merkleroot"><a class="header" href="#merkleroot">merkleRoot</a></h3>
<p>The Merkle Root used for whitelist minting</p>
<pre><code class="language-solidity">bytes32 internal merkleRoot;
</code></pre>
<h3 id="whitelistclaimed"><a class="header" href="#whitelistclaimed">whitelistClaimed</a></h3>
<p>Mapping of address to bool that determins wether the address already
claimed the whitelist mint.</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) public whitelistClaimed;
</code></pre>
<h2 id="functions-59"><a class="header" href="#functions-59">Functions</a></h2>
<h3 id="constructor-33"><a class="header" href="#constructor-33">constructor</a></h3>
<p>Constructor function that sets name and symbol of the collection, cost,
max supply and the maximum amount a user can mint per transaction.</p>
<pre><code class="language-solidity">constructor(string memory _name, string memory _symbol, uint _maxSupply, uint _maxMintAmountPerTx) ERC721(_name, _symbol);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Name of the ERC721 token</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>Symbol of the ERC721 token</td></tr>
<tr><td><code>_maxSupply</code></td><td><code>uint256</code></td><td>The maximum number of tokens mintable</td></tr>
<tr><td><code>_maxMintAmountPerTx</code></td><td><code>uint256</code></td><td>The maximum number of tokens mintable per transaction</td></tr>
</tbody></table>
</div>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<p>Returns the current supply of the collection.</p>
<pre><code class="language-solidity">function totalSupply() public view returns (uint);
</code></pre>
<h3 id="mint-1"><a class="header" href="#mint-1">mint</a></h3>
<p>Mint function to allow for public sale when not paused.</p>
<pre><code class="language-solidity">function mint(uint _mintAmount) public payable mintCompliance(_mintAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>The number of tokens to mint</td></tr>
</tbody></table>
</div>
<h3 id="whitelistmint"><a class="header" href="#whitelistmint">whitelistMint</a></h3>
<p>The whitelist mint function to allow addresses on the merkle root to claim without
requiring a payment.</p>
<pre><code class="language-solidity">function whitelistMint(bytes32[] calldata _merkleProof) public payable mintCompliance(1);
</code></pre>
<h3 id="tokenuri"><a class="header" href="#tokenuri">tokenURI</a></h3>
<p>Returns the Token URI with Metadata for specified token ID.</p>
<pre><code class="language-solidity">function tokenURI(uint _tokenId) public view virtual override returns (string memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_tokenId</code></td><td><code>uint256</code></td><td>The token ID to get the metadata URI for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The metadata URI for the token ID</td></tr>
</tbody></table>
</div>
<h3 id="setmaxmintamountpertx"><a class="header" href="#setmaxmintamountpertx">setMaxMintAmountPerTx</a></h3>
<p>Set the maximum mint amount per transaction</p>
<pre><code class="language-solidity">function setMaxMintAmountPerTx(uint _maxMintAmountPerTx) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_maxMintAmountPerTx</code></td><td><code>uint256</code></td><td>The new maximum tx mint amount</td></tr>
</tbody></table>
</div>
<h3 id="seturi"><a class="header" href="#seturi">setUri</a></h3>
<p>Set the URI of your IPFS/hosting server for the metadata folder.</p>
<p><em>Used in the format: &quot;ipfs://your_uri/&quot;.</em></p>
<pre><code class="language-solidity">function setUri(string memory _uri) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_uri</code></td><td><code>string</code></td><td>New metadata base URI</td></tr>
</tbody></table>
</div>
<h3 id="setpaused"><a class="header" href="#setpaused">setPaused</a></h3>
<p>Change paused state for main minting. When enabled will allow public minting
to take place.</p>
<pre><code class="language-solidity">function setPaused(bool _state) public onlyOwner;
</code></pre>
<h3 id="setmerkleroot"><a class="header" href="#setmerkleroot">setMerkleRoot</a></h3>
<p>Set the Merkle Root for whitelist verification.</p>
<pre><code class="language-solidity">function setMerkleRoot(bytes32 _newMerkleRoot) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMerkleRoot</code></td><td><code>bytes32</code></td><td>The new merkle root to assign to whitelist</td></tr>
</tbody></table>
</div>
<h3 id="setmaxsupply"><a class="header" href="#setmaxsupply">setMaxSupply</a></h3>
<p>Allows our max supply to be updated.</p>
<pre><code class="language-solidity">function setMaxSupply(uint _maxSupply) external onlyOwner;
</code></pre>
<h3 id="withdraw-5"><a class="header" href="#withdraw-5">withdraw</a></h3>
<p>Allows ETH to be withdrawn from the contract after the minting.</p>
<p><em>This should be sent to a {RevenueStakingStrategy} after being withdrawn
to promote yield generation.</em></p>
<pre><code class="language-solidity">function withdraw() public onlyOwner;
</code></pre>
<h3 id="_mintloop"><a class="header" href="#_mintloop">_mintLoop</a></h3>
<p>Helper function to process looped minting from different external functions.</p>
<pre><code class="language-solidity">function _mintLoop(address _receiver, uint _mintAmount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Recipient of the NFT</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>Number of tokens to mint to the receiver</td></tr>
</tbody></table>
</div>
<h3 id="_baseuri"><a class="header" href="#_baseuri">_baseURI</a></h3>
<p>The base of the metadata URI.</p>
<pre><code class="language-solidity">function _baseURI() internal view virtual override returns (string memory);
</code></pre>
<h3 id="mintcompliance"><a class="header" href="#mintcompliance">mintCompliance</a></h3>
<p>Modifier that ensures the maximum supply and the maximum amount to mint per
transaction.</p>
<pre><code class="language-solidity">modifier mintCompliance(uint _mintAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>The amount of tokens trying to be minted</td></tr>
</tbody></table>
</div>
<h3 id="receive-6"><a class="header" href="#receive-6">receive</a></h3>
<p>Allows the contract to receive payment for NFT sale.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-25"><a class="header" href="#contents-25">Contents</a></h1>
<ul>
<li><a href="src/contracts/triggers/RegisterSweep.sol/contract.RegisterSweepTrigger.html">RegisterSweepTrigger</a></li>
<li><a href="src/contracts/triggers/StoreEpochCollectionVotes.sol/contract.StoreEpochCollectionVotesTrigger.html">StoreEpochCollectionVotesTrigger</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="registersweeptrigger"><a class="header" href="#registersweeptrigger">RegisterSweepTrigger</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/triggers/RegisterSweep.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/triggers/RegisterSweep.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, <a href="src/contracts/triggers/RegisterSweep.sol//src/interfaces/utils/EpochEndTriggered.sol/contract.IEpochEndTriggered.html">IEpochEndTriggered</a></p>
<p>If the current epoch is a Collection Addition, then the floor war is ended and the
winning collection is chosen. The losing collections are released to be claimed, but
the winning collection remains locked for an additional epoch to allow the DAO to
exercise the option(s).
If the current epoch is just a gauge vote, then we look at the top voted collections
and calculates the distribution of yield to each of them based on the vote amounts. This
yield is then allocated to a Sweep structure that can be executed by the {Treasury}
at a later date.</p>
<p><em>Requires <code>TREASURY_MANAGER</code> role.</em></p>
<p><em>Requires <code>COLLECTION_MANAGER</code> role.</em></p>
<h2 id="state-variables-40"><a class="header" href="#state-variables-40">State Variables</a></h2>
<h3 id="pricingexecutor-2"><a class="header" href="#pricingexecutor-2">pricingExecutor</a></h3>
<p>Holds our internal contract references</p>
<pre><code class="language-solidity">IBasePricingExecutor public pricingExecutor;
</code></pre>
<h3 id="newcollectionwars-1"><a class="header" href="#newcollectionwars-1">newCollectionWars</a></h3>
<pre><code class="language-solidity">INewCollectionWars public newCollectionWars;
</code></pre>
<h3 id="votecontract"><a class="header" href="#votecontract">voteContract</a></h3>
<pre><code class="language-solidity">ISweepWars public voteContract;
</code></pre>
<h3 id="treasury-5"><a class="header" href="#treasury-5">treasury</a></h3>
<pre><code class="language-solidity">ITreasury public treasury;
</code></pre>
<h3 id="strategyfactory-1"><a class="header" href="#strategyfactory-1">strategyFactory</a></h3>
<pre><code class="language-solidity">IStrategyFactory public strategyFactory;
</code></pre>
<h3 id="tokenethprice"><a class="header" href="#tokenethprice">tokenEthPrice</a></h3>
<p>Store our token prices, set by our <code>pricingExecutor</code></p>
<pre><code class="language-solidity">mapping(address =&gt; uint) internal tokenEthPrice;
</code></pre>
<h2 id="functions-60"><a class="header" href="#functions-60">Functions</a></h2>
<h3 id="constructor-34"><a class="header" href="#constructor-34">constructor</a></h3>
<p>..</p>
<pre><code class="language-solidity">constructor(address _newCollectionWars, address _pricingExecutor, address _strategyFactory, address _treasury, address _voteContract);
</code></pre>
<h3 id="endepoch"><a class="header" href="#endepoch">endEpoch</a></h3>
<pre><code class="language-solidity">function endEpoch(uint epoch) external onlyEpochManager;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="storeepochcollectionvotestrigger"><a class="header" href="#storeepochcollectionvotestrigger">StoreEpochCollectionVotesTrigger</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/triggers/StoreEpochCollectionVotes.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/triggers/StoreEpochCollectionVotes.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, <a href="src/contracts/triggers/StoreEpochCollectionVotes.sol//src/interfaces/utils/EpochEndTriggered.sol/contract.IEpochEndTriggered.html">IEpochEndTriggered</a></p>
<p>When an epoch ends, this contract maintains an indexed list of all collections that
were a part of it and the respective vote power attached to each.</p>
<h2 id="state-variables-41"><a class="header" href="#state-variables-41">State Variables</a></h2>
<h3 id="sweepwars-1"><a class="header" href="#sweepwars-1">sweepWars</a></h3>
<p>The sweep war contract used by this contract</p>
<pre><code class="language-solidity">ISweepWars public immutable sweepWars;
</code></pre>
<h3 id="epochsnapshots"><a class="header" href="#epochsnapshots">epochSnapshots</a></h3>
<p>Store a mapping of epoch to snapshot results</p>
<pre><code class="language-solidity">mapping(uint =&gt; EpochSnapshot) internal epochSnapshots;
</code></pre>
<h2 id="functions-61"><a class="header" href="#functions-61">Functions</a></h2>
<h3 id="constructor-35"><a class="header" href="#constructor-35">constructor</a></h3>
<p>Sets our internal contracts.</p>
<pre><code class="language-solidity">constructor(address _sweepWars);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sweepWars</code></td><td><code>address</code></td><td>The {SweepWars} contract being referenced</td></tr>
</tbody></table>
</div>
<h3 id="endepoch-1"><a class="header" href="#endepoch-1">endEpoch</a></h3>
<p>When the epoch ends, we capture the collections that took part and their respective
votes. This is then stored in our mapped structure.</p>
<pre><code class="language-solidity">function endEpoch(uint epoch) external onlyEpochManager;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch that is ending</td></tr>
</tbody></table>
</div>
<h3 id="epochsnapshot"><a class="header" href="#epochsnapshot">epochSnapshot</a></h3>
<p>Public function to get epoch snapshot data.</p>
<pre><code class="language-solidity">function epochSnapshot(uint epoch) external view returns (address[] memory, int[] memory);
</code></pre>
<h2 id="structs-29"><a class="header" href="#structs-29">Structs</a></h2>
<h3 id="epochsnapshot-1"><a class="header" href="#epochsnapshot-1">EpochSnapshot</a></h3>
<p>Holds the data for each epoch to show collections and their votes.</p>
<p><em>The epoch <code>uint</code> is required otherwise Solidity breaks as required non-array.</em></p>
<pre><code class="language-solidity">struct EpochSnapshot {
    uint epoch;
    address[] collections;
    int[] votes;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-26"><a class="header" href="#contents-26">Contents</a></h1>
<ul>
<li><a href="src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.CannotSetNullAddress.html">CannotSetNullAddress</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.InsufficientAmount.html">InsufficientAmount</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.PercentageTooHigh.html">PercentageTooHigh</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.TransferFailed.html">TransferFailed</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.CannotDepositZeroAmount.html">CannotDepositZeroAmount</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.CannotWithdrawZeroAmount.html">CannotWithdrawZeroAmount</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.NoRewardsAvailableToClaim.html">NoRewardsAvailableToClaim</a></li>
<li><a href="src/contracts/utils/Errors.sol/error.CollectionNotApproved.html">CollectionNotApproved</a></li>
<li><a href="src/contracts/utils/TokenUtils.sol/contract.TokenUtils.html">TokenUtils</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epochmanaged"><a class="header" href="#epochmanaged">EpochManaged</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/EpochManaged.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable</p>
<h2 id="state-variables-42"><a class="header" href="#state-variables-42">State Variables</a></h2>
<h3 id="epochmanager"><a class="header" href="#epochmanager">epochManager</a></h3>
<p>Stores the current {EpochManager} contract</p>
<pre><code class="language-solidity">IEpochManager public epochManager;
</code></pre>
<h2 id="functions-62"><a class="header" href="#functions-62">Functions</a></h2>
<h3 id="setepochmanager"><a class="header" href="#setepochmanager">setEpochManager</a></h3>
<p>Allows an updated {EpochManager} address to be set.</p>
<pre><code class="language-solidity">function setEpochManager(address _epochManager) external virtual onlyOwner;
</code></pre>
<h3 id="currentepoch"><a class="header" href="#currentepoch">currentEpoch</a></h3>
<p>Gets the current epoch from our {EpochManager}.</p>
<pre><code class="language-solidity">function currentEpoch() internal view virtual returns (uint);
</code></pre>
<h3 id="onlyepochmanager"><a class="header" href="#onlyepochmanager">onlyEpochManager</a></h3>
<p>Checks that the contract caller is the {EpochManager}.</p>
<pre><code class="language-solidity">modifier onlyEpochManager();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cannotsetnulladdress"><a class="header" href="#cannotsetnulladdress">CannotSetNullAddress</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<p>A collection of generic errors that can be referenced across multiple
contracts. Contract-specific errors should still be stored in their
individual Solidity files.
If a NULL address tries to be stored which should not be accepted</p>
<pre><code class="language-solidity">error CannotSetNullAddress();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="insufficientamount"><a class="header" href="#insufficientamount">InsufficientAmount</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<p>If the caller has entered an insufficient amount to process the action. This
will likely be a zero amount.</p>
<pre><code class="language-solidity">error InsufficientAmount();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="percentagetoohigh"><a class="header" href="#percentagetoohigh">PercentageTooHigh</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<p>If the caller enters a percentage value that is too high for the requirements</p>
<pre><code class="language-solidity">error PercentageTooHigh(uint amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transferfailed"><a class="header" href="#transferfailed">TransferFailed</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<p>If a required ETH or token <code>transfer</code> call fails</p>
<pre><code class="language-solidity">error TransferFailed();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cannotdepositzeroamount"><a class="header" href="#cannotdepositzeroamount">CannotDepositZeroAmount</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<p>If a user calls a deposit related function with a zero amount</p>
<pre><code class="language-solidity">error CannotDepositZeroAmount();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cannotwithdrawzeroamount"><a class="header" href="#cannotwithdrawzeroamount">CannotWithdrawZeroAmount</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<p>If a user calls a withdrawal related function with a zero amount</p>
<pre><code class="language-solidity">error CannotWithdrawZeroAmount();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="norewardsavailabletoclaim"><a class="header" href="#norewardsavailabletoclaim">NoRewardsAvailableToClaim</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<p>If there are no rewards available to be claimed</p>
<pre><code class="language-solidity">error NoRewardsAvailableToClaim();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collectionnotapproved"><a class="header" href="#collectionnotapproved">CollectionNotApproved</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/Errors.sol">Git Source</a></p>
<pre><code class="language-solidity">error CollectionNotApproved(address collection);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tokenutils"><a class="header" href="#tokenutils">TokenUtils</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/utils/TokenUtils.sol">Git Source</a></p>
<h2 id="state-variables-43"><a class="header" href="#state-variables-43">State Variables</a></h2>
<h3 id="wsteth_addr"><a class="header" href="#wsteth_addr">WSTETH_ADDR</a></h3>
<pre><code class="language-solidity">address public constant WSTETH_ADDR = 0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0;
</code></pre>
<h3 id="steth_addr"><a class="header" href="#steth_addr">STETH_ADDR</a></h3>
<pre><code class="language-solidity">address public constant STETH_ADDR = 0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84;
</code></pre>
<h3 id="weth_addr"><a class="header" href="#weth_addr">WETH_ADDR</a></h3>
<pre><code class="language-solidity">address public constant WETH_ADDR = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;
</code></pre>
<h3 id="eth_addr"><a class="header" href="#eth_addr">ETH_ADDR</a></h3>
<pre><code class="language-solidity">address public constant ETH_ADDR = 0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE;
</code></pre>
<h2 id="functions-63"><a class="header" href="#functions-63">Functions</a></h2>
<h3 id="approvetoken"><a class="header" href="#approvetoken">approveToken</a></h3>
<pre><code class="language-solidity">function approveToken(address _tokenAddr, address _to, uint _amount) internal;
</code></pre>
<h3 id="pulltokensifneeded"><a class="header" href="#pulltokensifneeded">pullTokensIfNeeded</a></h3>
<pre><code class="language-solidity">function pullTokensIfNeeded(address _token, address _from, uint _amount) internal returns (uint);
</code></pre>
<h3 id="withdrawtokens"><a class="header" href="#withdrawtokens">withdrawTokens</a></h3>
<pre><code class="language-solidity">function withdrawTokens(address _token, address _to, uint _amount) internal returns (uint);
</code></pre>
<h3 id="depositweth"><a class="header" href="#depositweth">depositWeth</a></h3>
<pre><code class="language-solidity">function depositWeth(uint _amount) internal;
</code></pre>
<h3 id="withdrawweth"><a class="header" href="#withdrawweth">withdrawWeth</a></h3>
<pre><code class="language-solidity">function withdrawWeth(uint _amount) internal;
</code></pre>
<h3 id="getbalance"><a class="header" href="#getbalance">getBalance</a></h3>
<pre><code class="language-solidity">function getBalance(address _tokenAddr, address _acc) internal view returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-27"><a class="header" href="#contents-27">Contents</a></h1>
<ul>
<li><a href="src/contracts/voting//src/contracts/voting/calculators">calculators</a></li>
<li><a href="src/contracts/voting/NewCollectionWarOptions.sol/contract.NewCollectionWarOptions.html">NewCollectionWarOptions</a></li>
<li><a href="src/contracts/voting/NewCollectionWars.sol/contract.NewCollectionWars.html">NewCollectionWars</a></li>
<li><a href="src/contracts/voting/SweepWars.sol/error.CannotVoteWithZeroAmount.html">CannotVoteWithZeroAmount</a></li>
<li><a href="src/contracts/voting/SweepWars.sol/error.InsufficientVotesAvailable.html">InsufficientVotesAvailable</a></li>
<li><a href="src/contracts/voting/SweepWars.sol/error.InvalidCollectionsAndAmounts.html">InvalidCollectionsAndAmounts</a></li>
<li><a href="src/contracts/voting/SweepWars.sol/error.InsufficientVotesToRevoke.html">InsufficientVotesToRevoke</a></li>
<li><a href="src/contracts/voting/SweepWars.sol/error.SampleSizeCannotBeZero.html">SampleSizeCannotBeZero</a></li>
<li><a href="src/contracts/voting/SweepWars.sol/contract.SweepWars.html">SweepWars</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-28"><a class="header" href="#contents-28">Contents</a></h1>
<ul>
<li><a href="src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol/contract.INftVotingPowerCalculator.html">INftVotingPowerCalculator</a></li>
<li><a href="src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol/contract.NewCollectionNftOptionVotingPowerCalculator.html">NewCollectionNftOptionVotingPowerCalculator</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftvotingpowercalculator"><a class="header" href="#inftvotingpowercalculator">INftVotingPowerCalculator</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol">Git Source</a></p>
<h2 id="functions-64"><a class="header" href="#functions-64">Functions</a></h2>
<h3 id="calculate-1"><a class="header" href="#calculate-1">calculate</a></h3>
<pre><code class="language-solidity">function calculate(uint warIndex, address collection, uint spotPrice, uint exercisePercent) external pure returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="newcollectionnftoptionvotingpowercalculator"><a class="header" href="#newcollectionnftoptionvotingpowercalculator">NewCollectionNftOptionVotingPowerCalculator</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol//src/contracts/voting/calculators/NewCollectionNftOptionVotingPower.sol/contract.INftVotingPowerCalculator.html">INftVotingPowerCalculator</a></p>
<p>Calculates the voting power applied from a created option, factoring in the spot
price and exercise percentage.
The formula for this is documented against the <code>calculate</code> function.</p>
<h2 id="functions-65"><a class="header" href="#functions-65">Functions</a></h2>
<h3 id="calculate-2"><a class="header" href="#calculate-2">calculate</a></h3>
<p>Performs the calculation to return the vote power given from an
exercisable option.</p>
<pre><code class="language-solidity">function calculate(uint, address, uint spotPrice, uint exercisePercent) external pure returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="newcollectionwaroptions-1"><a class="header" href="#newcollectionwaroptions-1">NewCollectionWarOptions</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/NewCollectionWarOptions.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/voting/NewCollectionWarOptions.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, IERC1155Receiver, IERC721Receiver, <a href="src/contracts/voting/NewCollectionWarOptions.sol//src/interfaces/voting/NewCollectionWarOptions.sol/contract.INewCollectionWarOptions.html">INewCollectionWarOptions</a>, PullPayment</p>
<p>Expanding upon the logic in the {NewCollectionWar} contract, this allows for options to
be created by staking a full-price or discounted NFT that can be exercised by the DAO or
Floor NFT holders.</p>
<h2 id="state-variables-44"><a class="header" href="#state-variables-44">State Variables</a></h2>
<h3 id="treasury-6"><a class="header" href="#treasury-6">treasury</a></h3>
<p>Internal contract mappings</p>
<pre><code class="language-solidity">ITreasury public immutable treasury;
</code></pre>
<h3 id="newcollectionwars-2"><a class="header" href="#newcollectionwars-2">newCollectionWars</a></h3>
<pre><code class="language-solidity">INewCollectionWars public immutable newCollectionWars;
</code></pre>
<h3 id="floornft-1"><a class="header" href="#floornft-1">floorNft</a></h3>
<p>Internal floor NFT mapping</p>
<pre><code class="language-solidity">address public immutable floorNft;
</code></pre>
<h3 id="nftvotingpowercalculator"><a class="header" href="#nftvotingpowercalculator">nftVotingPowerCalculator</a></h3>
<p>Internal NFT Option Calculator</p>
<pre><code class="language-solidity">INftVotingPowerCalculator public nftVotingPowerCalculator;
</code></pre>
<h3 id="uservotes"><a class="header" href="#uservotes">userVotes</a></h3>
<p>Stores the number of votes a user has placed against a war collection</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public userVotes;
</code></pre>
<h3 id="stakedtokens"><a class="header" href="#stakedtokens">stakedTokens</a></h3>
<p>Stores an array of tokens staked against a war collection</p>
<p><em>(War -&gt; Collection -&gt; Price) =&gt; Option[]</em></p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; Option[]) internal stakedTokens;
</code></pre>
<h2 id="functions-66"><a class="header" href="#functions-66">Functions</a></h2>
<h3 id="constructor-36"><a class="header" href="#constructor-36">constructor</a></h3>
<p>Sets our internal contract addresses.</p>
<pre><code class="language-solidity">constructor(address _floorNft, address _treasury, address _newCollectionWars);
</code></pre>
<h3 id="createoption"><a class="header" href="#createoption">createOption</a></h3>
<p>Allows the user to deposit their ERC721 or ERC1155 into the contract and
gain additional voting power based on the floor price attached to the
collection in the FloorWar.</p>
<pre><code class="language-solidity">function createOption(uint war, address collection, uint[] calldata tokenIds, uint40[] calldata amounts, uint56[] calldata exercisePercents)
    external;
</code></pre>
<h3 id="reclaimoptions"><a class="header" href="#reclaimoptions">reclaimOptions</a></h3>
<p>If the FloorWar has not yet ended, or the NFT timelock has expired, then the
user reclaim the staked NFT and return it to their wallet.
start    current
0        0         &lt; locked
0        1         &lt; locked if won for DAO
0        2         &lt; locked if won for Floor NFT holders
0        3         &lt; free</p>
<pre><code class="language-solidity">function reclaimOptions(uint war, address collection, uint56[] calldata exercisePercents, uint[][] calldata indexes) external;
</code></pre>
<h3 id="exerciseoptions"><a class="header" href="#exerciseoptions">exerciseOptions</a></h3>
<p>Allows an approved user to exercise the staked NFT at the price that it was
listed at by the staking user.</p>
<pre><code class="language-solidity">function exerciseOptions(uint war, uint amount) external payable;
</code></pre>
<h3 id="holderexerciseoptions"><a class="header" href="#holderexerciseoptions">holderExerciseOptions</a></h3>
<p>We now have the option for one of two approaches. We need to allocate
funds to each user, and also transfer the token. Ideally we would batch
up these requests, but it is unlikely that the additional gas costs in
storing these batches calls would out-weigh the cost of transferring
individually.
Allows a Floor NFT token holder to exercise a staked NFT at the price that it
was listed at by the staking user.</p>
<pre><code class="language-solidity">function holderExerciseOptions(uint war, uint tokenId, uint56 exercisePercent, uint stakeIndex) external payable;
</code></pre>
<h3 id="_iscollectioninwar"><a class="header" href="#_iscollectioninwar">_isCollectionInWar</a></h3>
<p>Check if a collection is in a FloorWar.</p>
<pre><code class="language-solidity">function _isCollectionInWar(bytes32 warCollection) internal view returns (bool);
</code></pre>
<h3 id="nftvotingpower"><a class="header" href="#nftvotingpower">nftVotingPower</a></h3>
<p>Determines the voting power given by a staked NFT based on the requested
exercise price and the spot price.</p>
<pre><code class="language-solidity">function nftVotingPower(uint war, address collection, uint spotPrice, uint exercisePercent) external view returns (uint);
</code></pre>
<h3 id="setnftvotingpowercalculator"><a class="header" href="#setnftvotingpowercalculator">setNftVotingPowerCalculator</a></h3>
<p>Allows the calculator used to determine the <code>votingPower</code> to be updated.</p>
<pre><code class="language-solidity">function setNftVotingPowerCalculator(address _calculator) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_calculator</code></td><td><code>address</code></td><td>The address of the new calculator</td></tr>
</tbody></table>
</div>
<h3 id="onerc721received-8"><a class="header" href="#onerc721received-8">onERC721Received</a></h3>
<p>Allows ERC721's to be received via safeTransfer calls.</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint, bytes calldata) external pure returns (bytes4);
</code></pre>
<h3 id="onerc1155received-4"><a class="header" href="#onerc1155received-4">onERC1155Received</a></h3>
<p>Allows ERC1155's to be received via safeTransfer calls.</p>
<pre><code class="language-solidity">function onERC1155Received(address, address, uint, uint, bytes calldata) external pure returns (bytes4);
</code></pre>
<h3 id="onerc1155batchreceived-4"><a class="header" href="#onerc1155batchreceived-4">onERC1155BatchReceived</a></h3>
<p>Allows batched ERC1155's to be received via safeTransfer calls.</p>
<pre><code class="language-solidity">function onERC1155BatchReceived(address, address, uint[] calldata, uint[] calldata, bytes calldata) external pure returns (bytes4);
</code></pre>
<h3 id="supportsinterface"><a class="header" href="#supportsinterface">supportsInterface</a></h3>
<p>Inform other contracts that we support the 721 and 1155 interfaces.</p>
<pre><code class="language-solidity">function supportsInterface(bytes4) external pure returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="newcollectionwars-3"><a class="header" href="#newcollectionwars-3">NewCollectionWars</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/NewCollectionWars.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/voting/NewCollectionWars.sol//src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a>, <a href="src/contracts/voting/NewCollectionWars.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, <a href="src/contracts/voting/NewCollectionWars.sol//src/interfaces/voting/NewCollectionWars.sol/contract.INewCollectionWars.html">INewCollectionWars</a></p>
<p>When a new collection is going to be voted in to the ecosystem, we set up a New Collection
War with a range of collections that will then be open to vote on. Votes will be made by
casting veFloor against a specific collection.
There is the option of creating an exercisable option that will additionally generate a
voting power through a calculator. This is accomodated in this contract, but the logic
will be encapsulated in a separate contract.
When the {EpochManager} determines that an epoch has ended, if there is an active New
Collection War, then <code>endFloorWar</code> will be called.</p>
<h2 id="state-variables-45"><a class="header" href="#state-variables-45">State Variables</a></h2>
<h3 id="vefloor"><a class="header" href="#vefloor">veFloor</a></h3>
<p>Internal contract mappings</p>
<pre><code class="language-solidity">VeFloorStaking public immutable veFloor;
</code></pre>
<h3 id="newcollectionwaroptions-2"><a class="header" href="#newcollectionwaroptions-2">newCollectionWarOptions</a></h3>
<p>Internal options contract mapping</p>
<pre><code class="language-solidity">INewCollectionWarOptions public newCollectionWarOptions;
</code></pre>
<h3 id="currentwar"><a class="header" href="#currentwar">currentWar</a></h3>
<p>Stores a collection of all the NewCollectionWars that have been started</p>
<pre><code class="language-solidity">FloorWar public currentWar;
</code></pre>
<h3 id="wars"><a class="header" href="#wars">wars</a></h3>
<pre><code class="language-solidity">FloorWar[] public wars;
</code></pre>
<h3 id="floorwarwinner"><a class="header" href="#floorwarwinner">floorWarWinner</a></h3>
<p>Stores the address of the collection that won a Floor War</p>
<pre><code class="language-solidity">mapping(uint =&gt; address) public floorWarWinner;
</code></pre>
<h3 id="collectionepochlock"><a class="header" href="#collectionepochlock">collectionEpochLock</a></h3>
<p>Stores the unlock epoch of a collection in a floor war</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public collectionEpochLock;
</code></pre>
<h3 id="is1155"><a class="header" href="#is1155">is1155</a></h3>
<p>Stores if a collection has been flagged as ERC1155</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) public is1155;
</code></pre>
<h3 id="uservotes-1"><a class="header" href="#uservotes-1">userVotes</a></h3>
<p>Stores the number of votes a user has placed against a war collection</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public userVotes;
</code></pre>
<h3 id="collectionspotprice"><a class="header" href="#collectionspotprice">collectionSpotPrice</a></h3>
<p>Stores the floor spot price of a collection token against a war collection</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public collectionSpotPrice;
</code></pre>
<h3 id="collectionvotes"><a class="header" href="#collectionvotes">collectionVotes</a></h3>
<p>Stores the total number of votes against a war collection</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public collectionVotes;
</code></pre>
<h3 id="collectionnftvotes"><a class="header" href="#collectionnftvotes">collectionNftVotes</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) public collectionNftVotes;
</code></pre>
<h3 id="usercollectionvote"><a class="header" href="#usercollectionvote">userCollectionVote</a></h3>
<p>Stores which collection the user has cast their votes towards to allow for
reallocation on subsequent votes if needed.</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; address) public userCollectionVote;
</code></pre>
<h2 id="functions-67"><a class="header" href="#functions-67">Functions</a></h2>
<h3 id="constructor-37"><a class="header" href="#constructor-37">constructor</a></h3>
<p>Sets our internal contract addresses.</p>
<pre><code class="language-solidity">constructor(address _authority, address _veFloor) AuthorityControl(_authority);
</code></pre>
<h3 id="currentwarindex"><a class="header" href="#currentwarindex">currentWarIndex</a></h3>
<p>Gets the index of the current war, returning 0 if none are set.</p>
<pre><code class="language-solidity">function currentWarIndex() public view returns (uint);
</code></pre>
<h3 id="uservotingpower"><a class="header" href="#uservotingpower">userVotingPower</a></h3>
<p>The total voting power of a user, regardless of if they have cast votes
or not.</p>
<pre><code class="language-solidity">function userVotingPower(address _user) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>User address being checked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Voting power of the user</td></tr>
</tbody></table>
</div>
<h3 id="uservotesavailable"><a class="header" href="#uservotesavailable">userVotesAvailable</a></h3>
<p>The total number of votes that a user has available.</p>
<pre><code class="language-solidity">function userVotesAvailable(uint _war, address _user) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_war</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>_user</code></td><td><code>address</code></td><td>User address being checked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint Number of votes available to the user</td></tr>
</tbody></table>
</div>
<h3 id="vote"><a class="header" href="#vote">vote</a></h3>
<p>Allows the user to cast 100% of their voting power against an individual
collection. If the user has already voted on the FloorWar then this will
additionally reallocate their votes.</p>
<pre><code class="language-solidity">function vote(address collection) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>collection</code></td><td><code>address</code></td><td>The address of the collection to cast vote against</td></tr>
</tbody></table>
</div>
<h3 id="optionvote"><a class="header" href="#optionvote">optionVote</a></h3>
<p>Allows an approved contract to submit option-related votes against a collection
in the current war.</p>
<pre><code class="language-solidity">function optionVote(address sender, uint war, address collection, uint votingPower) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address of the user that staked the token</td></tr>
<tr><td><code>war</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>collection</code></td><td><code>address</code></td><td>The collection to cast the vote against</td></tr>
<tr><td><code>votingPower</code></td><td><code>uint256</code></td><td>The voting power added from the option creation</td></tr>
</tbody></table>
</div>
<h3 id="revokevotes"><a class="header" href="#revokevotes">revokeVotes</a></h3>
<p>Revokes a user's current votes in the current war.</p>
<p><em>This is used when a user unstakes their floor</em></p>
<pre><code class="language-solidity">function revokeVotes(address account) external onlyRole(VOTE_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of the account that is having their vote revoked</td></tr>
</tbody></table>
</div>
<h3 id="createfloorwar"><a class="header" href="#createfloorwar">createFloorWar</a></h3>
<p>Allow an authorised user to create a new floor war to start with a range of
collections from a specific epoch.</p>
<pre><code class="language-solidity">function createFloorWar(uint epoch, address[] calldata collections, bool[] calldata isErc1155, uint[] calldata floorPrices)
    external
    onlyOwner
    returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch that the war will take place in</td></tr>
<tr><td><code>collections</code></td><td><code>address[]</code></td><td>The collections that will be taking part</td></tr>
<tr><td><code>isErc1155</code></td><td><code>bool[]</code></td><td>If the corresponding collection is an ERC1155 standard</td></tr>
<tr><td><code>floorPrices</code></td><td><code>uint256[]</code></td><td>The ETH floor value of the corresponding collection</td></tr>
</tbody></table>
</div>
<h3 id="startfloorwar"><a class="header" href="#startfloorwar">startFloorWar</a></h3>
<p>Sets a scheduled {FloorWar} to be active.</p>
<p><em>This function is called by the {EpochManager} when a new epoch starts</em></p>
<pre><code class="language-solidity">function startFloorWar(uint index) external onlyEpochManager;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>index</code></td><td><code>uint256</code></td><td>The index of the {FloorWar} being started</td></tr>
</tbody></table>
</div>
<h3 id="endfloorwar"><a class="header" href="#endfloorwar">endFloorWar</a></h3>
<p>When the epoch has come to an end, this function will be called to finalise
the votes and decide which collection has won. This collection will then need
to be added to the {CollectionRegistry}.
Any NFTs that have been staked will be timelocked for an additional epoch to
give the DAO time to exercise or reject any options.</p>
<p><em>We can't action this in one single call as we will need information about
the underlying NFTX token as well.</em></p>
<pre><code class="language-solidity">function endFloorWar() external onlyRole(COLLECTION_MANAGER) returns (address highestVoteCollection);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>highestVoteCollection</code></td><td><code>address</code></td><td>The collection address that received the most votes</td></tr>
</tbody></table>
</div>
<h3 id="updatecollectionfloorprice"><a class="header" href="#updatecollectionfloorprice">updateCollectionFloorPrice</a></h3>
<p>Allows us to update our collection floor prices if we have seen a noticable difference
since the start of the epoch. This will need to be called for this reason as the floor
price of the collection heavily determines the amount of voting power awarded when
creating an option.</p>
<pre><code class="language-solidity">function updateCollectionFloorPrice(address collection, uint floorPrice) external onlyOwner;
</code></pre>
<h3 id="setoptionscontract"><a class="header" href="#setoptionscontract">setOptionsContract</a></h3>
<p>Allows our options contract to be updated.</p>
<pre><code class="language-solidity">function setOptionsContract(address _contract) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>The new contract to use</td></tr>
</tbody></table>
</div>
<h3 id="iscollectioninwar"><a class="header" href="#iscollectioninwar">isCollectionInWar</a></h3>
<p>Check if a collection is in a FloorWar.</p>
<pre><code class="language-solidity">function isCollectionInWar(bytes32 warCollection) external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cannotvotewithzeroamount"><a class="header" href="#cannotvotewithzeroamount">CannotVoteWithZeroAmount</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/SweepWars.sol">Git Source</a></p>
<p>If a vote with a zero amount is sent</p>
<pre><code class="language-solidity">error CannotVoteWithZeroAmount();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="insufficientvotesavailable"><a class="header" href="#insufficientvotesavailable">InsufficientVotesAvailable</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/SweepWars.sol">Git Source</a></p>
<p>If the caller attempts to vote with more than their available voting power</p>
<pre><code class="language-solidity">error InsufficientVotesAvailable(uint amount, uint available);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="invalidcollectionsandamounts"><a class="header" href="#invalidcollectionsandamounts">InvalidCollectionsAndAmounts</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/SweepWars.sol">Git Source</a></p>
<p>If an invalid collection and/or amount array are passed when revoking votes</p>
<pre><code class="language-solidity">error InvalidCollectionsAndAmounts();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="insufficientvotestorevoke"><a class="header" href="#insufficientvotestorevoke">InsufficientVotesToRevoke</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/SweepWars.sol">Git Source</a></p>
<p>If the caller attempts to revoke more votes than votes cast</p>
<pre><code class="language-solidity">error InsufficientVotesToRevoke(uint amount, uint available);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="samplesizecannotbezero"><a class="header" href="#samplesizecannotbezero">SampleSizeCannotBeZero</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/SweepWars.sol">Git Source</a></p>
<p>If a sample size is attempted to be set to zero</p>
<pre><code class="language-solidity">error SampleSizeCannotBeZero();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sweepwars-2"><a class="header" href="#sweepwars-2">SweepWars</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/voting/SweepWars.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/voting/SweepWars.sol//src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a>, <a href="src/contracts/voting/SweepWars.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, <a href="src/contracts/voting/SweepWars.sol//src/interfaces/voting/SweepWars.sol/contract.ISweepWars.html">ISweepWars</a></p>
<p>Each epoch, unless we have set up a {NewCollectionWar} to run, then a sweep war will
take place. This contract will handle the voting and calculations for these wars.
When a Sweep War epoch ends, then the <code>snapshot</code> function will be called that finds the
top <em>x</em> collections and their relative sweep amounts based on the votes cast.</p>
<h2 id="state-variables-46"><a class="header" href="#state-variables-46">State Variables</a></h2>
<h3 id="collectionvotes-1"><a class="header" href="#collectionvotes-1">collectionVotes</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; CollectionVote) collectionVotes;
</code></pre>
<h3 id="samplesize"><a class="header" href="#samplesize">sampleSize</a></h3>
<p>Keep a store of the number of collections we want to reward pick per epoch</p>
<pre><code class="language-solidity">uint public sampleSize = 5;
</code></pre>
<h3 id="floor_token_vote"><a class="header" href="#floor_token_vote">FLOOR_TOKEN_VOTE</a></h3>
<p>Hardcoded address to map to the FLOOR token vault</p>
<pre><code class="language-solidity">address public constant FLOOR_TOKEN_VOTE = address(1);
</code></pre>
<h3 id="collectionregistry-3"><a class="header" href="#collectionregistry-3">collectionRegistry</a></h3>
<p>Internal contract references</p>
<pre><code class="language-solidity">ICollectionRegistry immutable collectionRegistry;
</code></pre>
<h3 id="vaultfactory"><a class="header" href="#vaultfactory">vaultFactory</a></h3>
<pre><code class="language-solidity">IStrategyFactory immutable vaultFactory;
</code></pre>
<h3 id="vefloor-1"><a class="header" href="#vefloor-1">veFloor</a></h3>
<pre><code class="language-solidity">VeFloorStaking immutable veFloor;
</code></pre>
<h3 id="treasury-7"><a class="header" href="#treasury-7">treasury</a></h3>
<pre><code class="language-solidity">ITreasury immutable treasury;
</code></pre>
<h3 id="nftstaking-3"><a class="header" href="#nftstaking-3">nftStaking</a></h3>
<pre><code class="language-solidity">INftStaking public nftStaking;
</code></pre>
<h3 id="userforvotes"><a class="header" href="#userforvotes">userForVotes</a></h3>
<p>We will need to maintain an internal structure to map the voters against
a vault address so that we can determine vote growth and reallocation. We
will additionally maintain a mapping of vault address to total amount that
will better allow for snapshots to be taken for less gas.
This will result in a slightly increased write, to provide a greatly
reduced read.
A collection of votes that the user currently has placed.
Mapping user address -&gt; collection address -&gt; amount.</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) private userForVotes;
</code></pre>
<h3 id="useragainstvotes"><a class="header" href="#useragainstvotes">userAgainstVotes</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint) private userAgainstVotes;
</code></pre>
<h3 id="totaluservotes"><a class="header" href="#totaluservotes">totalUserVotes</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint) private totalUserVotes;
</code></pre>
<h2 id="functions-68"><a class="header" href="#functions-68">Functions</a></h2>
<h3 id="constructor-38"><a class="header" href="#constructor-38">constructor</a></h3>
<p>Sets up our contract parameters.</p>
<pre><code class="language-solidity">constructor(address _collectionRegistry, address _vaultFactory, address _veFloor, address _authority, address _treasury)
    AuthorityControl(_authority);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collectionRegistry</code></td><td><code>address</code></td><td>Address of our {CollectionRegistry}</td></tr>
<tr><td><code>_vaultFactory</code></td><td><code>address</code></td><td>Address of our {VaultFactory}</td></tr>
<tr><td><code>_veFloor</code></td><td><code>address</code></td><td>Address of our {veFLOOR}</td></tr>
<tr><td><code>_authority</code></td><td><code>address</code></td><td>{AuthorityRegistry} contract address</td></tr>
<tr><td><code>_treasury</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="uservotingpower-1"><a class="header" href="#uservotingpower-1">userVotingPower</a></h3>
<p>The total voting power of a user, regardless of if they have cast votes
or not.</p>
<pre><code class="language-solidity">function userVotingPower(address _user) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>User address being checked</td></tr>
</tbody></table>
</div>
<h3 id="uservotesavailable-1"><a class="header" href="#uservotesavailable-1">userVotesAvailable</a></h3>
<p>The total number of votes that a user has available.</p>
<pre><code class="language-solidity">function userVotesAvailable(address _user) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>User address being checked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint Number of votes available to the user</td></tr>
</tbody></table>
</div>
<h3 id="vote-1"><a class="header" href="#vote-1">vote</a></h3>
<p>Allows a user to cast a vote using their veFloor allocation. We don't
need to monitor transfers as veFloor can only be minted or burned, and
we check the voters balance during the <code>snapshot</code> call.
A user can vote with a partial amount of their veFloor holdings, and when
it comes to calculating their voting power this will need to be taken into
consideration that it will be:</p>
<pre><code>staked balance + (gains from staking * (total balance - staked balance)%)
</code></pre>
<p>The {Treasury} cannot vote with it's holdings, as it shouldn't be holding
any staked Floor.</p>
<pre><code class="language-solidity">function vote(address _collection, uint _amount, bool _against) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The collection address being voted for</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The number of votes the caller is casting</td></tr>
<tr><td><code>_against</code></td><td><code>bool</code></td><td>If the vote will be against the collection</td></tr>
</tbody></table>
</div>
<h3 id="votes"><a class="header" href="#votes">votes</a></h3>
<pre><code class="language-solidity">function votes(address _collection) public view returns (int);
</code></pre>
<h3 id="votes-1"><a class="header" href="#votes-1">votes</a></h3>
<p>Gets the number of votes for a collection at a specific epoch.</p>
<pre><code class="language-solidity">function votes(address _collection, uint _baseEpoch) public view returns (int votes_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The collection to check vote amount for</td></tr>
<tr><td><code>_baseEpoch</code></td><td><code>uint256</code></td><td>The epoch at which to get vote count</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>votes_</code></td><td><code>int256</code></td><td>The number of votes at the epoch specified</td></tr>
</tbody></table>
</div>
<h3 id="revokevotes-1"><a class="header" href="#revokevotes-1">revokeVotes</a></h3>
<p>Allows a user to revoke their votes from vaults. This will free up the
user's available votes that can subsequently be voted again with.</p>
<pre><code class="language-solidity">function revokeVotes(address[] memory _collections) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collections</code></td><td><code>address[]</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="revokealluservotes"><a class="header" href="#revokealluservotes">revokeAllUserVotes</a></h3>
<p>Allows an authorised contract or wallet to revoke all user votes. This
can be called when the veFLOOR balance is reduced.</p>
<pre><code class="language-solidity">function revokeAllUserVotes(address _account) external onlyRole(VOTE_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The user having their votes revoked</td></tr>
</tbody></table>
</div>
<h3 id="_revokevotes"><a class="header" href="#_revokevotes">_revokeVotes</a></h3>
<pre><code class="language-solidity">function _revokeVotes(address _account, address[] memory _collections) internal;
</code></pre>
<h3 id="snapshot-2"><a class="header" href="#snapshot-2">snapshot</a></h3>
<p>The snapshot function will need to iterate over all collections that have
more than 0 votes against them. With that we will need to find each
vault's percentage share within each collection, in relation to others.
This percentage share will instruct the {Treasury} on how much additional
FLOOR to allocate to the users staked in the vaults. These rewards will be
distributed via the {VaultXToken} attached to each {Vault} that implements
the collection that is voted for.
We check against the <code>sampleSize</code> that has been set to only select the first
<em>x</em> top voted collections. We find the vaults that align to the collection
and give them a sub-percentage of the collection's allocation based on the
total number of rewards generated within that collection.
This would distribute the vaults allocated rewards against the staked
percentage in the vault. Any Treasury holdings that would be given in rewards
are just deposited into the {Treasury} as FLOOR tokens.</p>
<pre><code class="language-solidity">function snapshot(uint tokens, uint epoch) external view returns (address[] memory, uint[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>uint256</code></td><td>The number of tokens rewards in the snapshot</td></tr>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] The collections that were granted rewards</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts[] The vote values of each collection</td></tr>
</tbody></table>
</div>
<h3 id="_topcollections"><a class="header" href="#_topcollections">_topCollections</a></h3>
<p>Finds the top voted collections based on the number of votes cast. This is quite
an intensive process for how simple it is, but essentially just orders creates an
ordered subset of the top <em>x</em> voted collection addresses.</p>
<pre><code class="language-solidity">function _topCollections(uint epoch) internal view returns (address[] memory, uint[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>Array of collections limited to sample size</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>Respective vote power for each collection</td></tr>
</tbody></table>
</div>
<h3 id="setsamplesize"><a class="header" href="#setsamplesize">setSampleSize</a></h3>
<p>Allows an authenticated caller to update the <code>sampleSize</code>.</p>
<p><em>This should be kept lower where possible for reduced gas spend</em></p>
<pre><code class="language-solidity">function setSampleSize(uint size) external onlyRole(VOTE_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>size</code></td><td><code>uint256</code></td><td>The new <code>sampleSize</code></td></tr>
</tbody></table>
</div>
<h3 id="setnftstaking"><a class="header" href="#setnftstaking">setNftStaking</a></h3>
<p>Allows our {NftStaking} contract to be updated.</p>
<pre><code class="language-solidity">function setNftStaking(address _nftStaking) external onlyRole(VOTE_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_nftStaking</code></td><td><code>address</code></td><td>The new {NftStaking} contract address</td></tr>
</tbody></table>
</div>
<h3 id="voteoptions"><a class="header" href="#voteoptions">voteOptions</a></h3>
<p>Provides a list of collection addresses that can be voted on. This will pull in
all approved collections as well as appending the {FLOOR} vote on the end, which
is a hardcoded address.</p>
<pre><code class="language-solidity">function voteOptions() external view returns (address[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>collections_ Collections (and {FLOOR} vote address) that can be voted on</td></tr>
</tbody></table>
</div>
<h2 id="structs-30"><a class="header" href="#structs-30">Structs</a></h2>
<h3 id="collectionvote"><a class="header" href="#collectionvote">CollectionVote</a></h3>
<p>Each collection has a stored struct that represents the current vote power, burn
rate and the last epoch that a vote was cast. These three parameters can be combined
to calculate current vote power at any epoch with minimal gas usage.</p>
<pre><code class="language-solidity">struct CollectionVote {
    int power;
    int powerBurn;
    uint lastVoteEpoch;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epochtimelocked"><a class="header" href="#epochtimelocked">EpochTimelocked</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/EpochManager.sol">Git Source</a></p>
<p>If the epoch is currently timelocked and insufficient time has passed.</p>
<pre><code class="language-solidity">error EpochTimelocked(uint timelockExpiry);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nopricingexecutorset"><a class="header" href="#nopricingexecutorset">NoPricingExecutorSet</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/EpochManager.sol">Git Source</a></p>
<p>If not pricing executor has been set before a call that requires it</p>
<pre><code class="language-solidity">error NoPricingExecutorSet();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epochmanager-1"><a class="header" href="#epochmanager-1">EpochManager</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/EpochManager.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/EpochManager.sol//src/interfaces/EpochManager.sol/contract.IEpochManager.html">IEpochManager</a>, Ownable</p>
<p>Handles epoch management for all other contracts.</p>
<h2 id="state-variables-47"><a class="header" href="#state-variables-47">State Variables</a></h2>
<h3 id="currentepoch-1"><a class="header" href="#currentepoch-1">currentEpoch</a></h3>
<p>Stores the current epoch that is taking place.</p>
<pre><code class="language-solidity">uint public currentEpoch;
</code></pre>
<h3 id="lastepoch"><a class="header" href="#lastepoch">lastEpoch</a></h3>
<p>Store a timestamp of when last epoch was run so that we can timelock usage</p>
<pre><code class="language-solidity">uint public lastEpoch;
</code></pre>
<h3 id="epoch_length"><a class="header" href="#epoch_length">EPOCH_LENGTH</a></h3>
<p>Store the length of an epoch</p>
<pre><code class="language-solidity">uint public constant EPOCH_LENGTH = 7 days;
</code></pre>
<h3 id="newcollectionwars-4"><a class="header" href="#newcollectionwars-4">newCollectionWars</a></h3>
<p>Holds our internal contract references</p>
<pre><code class="language-solidity">INewCollectionWars public newCollectionWars;
</code></pre>
<h3 id="votemarket-1"><a class="header" href="#votemarket-1">voteMarket</a></h3>
<pre><code class="language-solidity">IVoteMarket public voteMarket;
</code></pre>
<h3 id="collectionepochs"><a class="header" href="#collectionepochs">collectionEpochs</a></h3>
<p>Stores a mapping of an epoch to a collection</p>
<pre><code class="language-solidity">mapping(uint =&gt; uint) public collectionEpochs;
</code></pre>
<h3 id="epochendtriggers"><a class="header" href="#epochendtriggers">epochEndTriggers</a></h3>
<p>Store our epoch triggers</p>
<pre><code class="language-solidity">address[] public epochEndTriggers;
</code></pre>
<h2 id="functions-69"><a class="header" href="#functions-69">Functions</a></h2>
<h3 id="setcurrentepoch"><a class="header" href="#setcurrentepoch">setCurrentEpoch</a></h3>
<p>Allows a new epoch to be set. This should, in theory, only be set to one
above the existing <code>currentEpoch</code>.</p>
<pre><code class="language-solidity">function setCurrentEpoch(uint _currentEpoch) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_currentEpoch</code></td><td><code>uint256</code></td><td>The new epoch to set</td></tr>
</tbody></table>
</div>
<h3 id="iscollectionadditionepoch"><a class="header" href="#iscollectionadditionepoch">isCollectionAdditionEpoch</a></h3>
<p>Will return if the current epoch is a collection addition vote.</p>
<pre><code class="language-solidity">function isCollectionAdditionEpoch() external view returns (bool);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool If the current epoch is a collection addition</td></tr>
</tbody></table>
</div>
<h3 id="iscollectionadditionepoch-1"><a class="header" href="#iscollectionadditionepoch-1">isCollectionAdditionEpoch</a></h3>
<p>Will return true if the specified epoch is a collection addition vote.</p>
<pre><code class="language-solidity">function isCollectionAdditionEpoch(uint epoch) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool If the specified epoch is a collection addition</td></tr>
</tbody></table>
</div>
<h3 id="schedulecollectionaddtionepoch"><a class="header" href="#schedulecollectionaddtionepoch">scheduleCollectionAddtionEpoch</a></h3>
<p>Allows an epoch to be scheduled to be a collection addition vote. An index will
be specified to show which collection addition will be used. The index will not
be a zero value.</p>
<pre><code class="language-solidity">function scheduleCollectionAddtionEpoch(uint epoch, uint index) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch that the Collection Addition will take place in</td></tr>
<tr><td><code>index</code></td><td><code>uint256</code></td><td>The Collection Addition array index</td></tr>
</tbody></table>
</div>
<h3 id="endepoch-2"><a class="header" href="#endepoch-2">endEpoch</a></h3>
<p>Triggers an epoch to end.
If the epoch has successfully ended, then the <code>currentEpoch</code> value will be increased
by one, and the epoch will be locked from updating again until <code>EPOCH_LENGTH</code> has
passed. We will also check if a new Collection Addition is starting in the new epoch
and initialise it if it is.</p>
<pre><code class="language-solidity">function endEpoch() external;
</code></pre>
<h3 id="setepochendtrigger"><a class="header" href="#setepochendtrigger">setEpochEndTrigger</a></h3>
<p>Allows a new epochEnd trigger to be attached</p>
<pre><code class="language-solidity">function setEpochEndTrigger(address contractAddr, bool enabled) external onlyOwner;
</code></pre>
<h3 id="epochiterationtimestamp"><a class="header" href="#epochiterationtimestamp">epochIterationTimestamp</a></h3>
<p>Provides an estimated timestamp of when an epoch started, and also the earliest
that an epoch in the future could start.</p>
<pre><code class="language-solidity">function epochIterationTimestamp(uint _epoch) public view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_epoch</code></td><td><code>uint256</code></td><td>The epoch to find the estimated timestamp of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint The estimated timestamp of when the specified epoch started</td></tr>
</tbody></table>
</div>
<h3 id="setcontracts-1"><a class="header" href="#setcontracts-1">setContracts</a></h3>
<p>Sets the contract addresses of internal contracts that are queried and used
in other functions.</p>
<pre><code class="language-solidity">function setContracts(address _newCollectionWars, address _voteMarket) external onlyOwner;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="treasury-8"><a class="header" href="#treasury-8">Treasury</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/contracts/Treasury.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/Treasury.sol//src/contracts/authorities/AuthorityControl.sol/contract.AuthorityControl.html">AuthorityControl</a>, <a href="src/contracts/Treasury.sol//src/contracts/utils/EpochManaged.sol/contract.EpochManaged.html">EpochManaged</a>, ERC1155Holder, <a href="src/contracts/Treasury.sol//src/interfaces/Treasury.sol/contract.ITreasury.html">ITreasury</a></p>
<p>The Treasury will hold all assets.</p>
<h2 id="state-variables-48"><a class="header" href="#state-variables-48">State Variables</a></h2>
<h3 id="epochsweeps"><a class="header" href="#epochsweeps">epochSweeps</a></h3>
<p>An array of sweeps that map against the epoch iteration.</p>
<pre><code class="language-solidity">mapping(uint =&gt; Sweep) public epochSweeps;
</code></pre>
<h3 id="floor-4"><a class="header" href="#floor-4">floor</a></h3>
<p>Holds our {FLOOR} and {WETH} contract references.</p>
<pre><code class="language-solidity">FLOOR public floor;
</code></pre>
<h3 id="weth-9"><a class="header" href="#weth-9">weth</a></h3>
<pre><code class="language-solidity">IWETH public weth;
</code></pre>
<h3 id="minsweepamount"><a class="header" href="#minsweepamount">minSweepAmount</a></h3>
<p>Store a minimum sweep amount that can be implemented, or excluded, as desired by
the DAO.</p>
<pre><code class="language-solidity">uint public minSweepAmount;
</code></pre>
<h3 id="mercsweeper"><a class="header" href="#mercsweeper">mercSweeper</a></h3>
<p>Stores our Mercenary sweeper contract address</p>
<pre><code class="language-solidity">IMercenarySweeper public mercSweeper;
</code></pre>
<h3 id="approvedsweepers"><a class="header" href="#approvedsweepers">approvedSweepers</a></h3>
<p>Stores a list of approved sweeper contracts</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) public approvedSweepers;
</code></pre>
<h2 id="functions-70"><a class="header" href="#functions-70">Functions</a></h2>
<h3 id="constructor-39"><a class="header" href="#constructor-39">constructor</a></h3>
<p>Set up our connection to the Treasury to ensure future calls only come from this
trusted source.</p>
<pre><code class="language-solidity">constructor(address _authority, address _floor, address _weth) AuthorityControl(_authority);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_authority</code></td><td><code>address</code></td><td>{AuthorityRegistry} contract address</td></tr>
<tr><td><code>_floor</code></td><td><code>address</code></td><td>Address of our {FLOOR}</td></tr>
<tr><td><code>_weth</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="mint-2"><a class="header" href="#mint-2">mint</a></h3>
<p>Allow FLOOR token to be minted. This should be called from the deposit method
internally, but a public method will allow a {TreasuryManager} to bypass this
and create additional FLOOR tokens if needed.</p>
<pre><code class="language-solidity">function mint(uint amount) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of {FLOOR} tokens to be minted</td></tr>
</tbody></table>
</div>
<h3 id="_mint-1"><a class="header" href="#_mint-1">_mint</a></h3>
<p>Internal call to handle minting and event firing.</p>
<pre><code class="language-solidity">function _mint(address recipient, uint amount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the {FLOOR} tokens</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to be minted</td></tr>
</tbody></table>
</div>
<h3 id="depositerc20-3"><a class="header" href="#depositerc20-3">depositERC20</a></h3>
<p>Allows an ERC20 token to be deposited and generates FLOOR tokens based on
the current determined value of FLOOR and the token.</p>
<pre><code class="language-solidity">function depositERC20(address token, uint amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>ERC20 token address to be deposited</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of the token to be deposited</td></tr>
</tbody></table>
</div>
<h3 id="depositerc721-2"><a class="header" href="#depositerc721-2">depositERC721</a></h3>
<p>Allows an ERC721 token to be deposited and generates FLOOR tokens based on
the current determined value of FLOOR and the token.</p>
<pre><code class="language-solidity">function depositERC721(address token, uint tokenId) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>ERC721 token address to be deposited</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the ERC721 being deposited</td></tr>
</tbody></table>
</div>
<h3 id="depositerc1155-2"><a class="header" href="#depositerc1155-2">depositERC1155</a></h3>
<p>Allows an ERC1155 token(s) to be deposited and generates FLOOR tokens based on
the current determined value of FLOOR and the token.</p>
<pre><code class="language-solidity">function depositERC1155(address token, uint tokenId, uint amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>ERC1155 token address to be deposited</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the ERC1155 being deposited</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of the token to be deposited</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-6"><a class="header" href="#withdraw-6">withdraw</a></h3>
<p>Allows an approved user to withdraw native token.</p>
<pre><code class="language-solidity">function withdraw(address recipient, uint amount) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The user that will receive the native token</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of native tokens to withdraw</td></tr>
</tbody></table>
</div>
<h3 id="withdrawerc20-3"><a class="header" href="#withdrawerc20-3">withdrawERC20</a></h3>
<p>Allows an approved user to withdraw an ERC20 token from the vault.</p>
<pre><code class="language-solidity">function withdrawERC20(address recipient, address token, uint amount) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The user that will receive the ERC20 tokens</td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td>ERC20 token address to be withdrawn</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to withdraw</td></tr>
</tbody></table>
</div>
<h3 id="withdrawerc721-1"><a class="header" href="#withdrawerc721-1">withdrawERC721</a></h3>
<p>Allows an approved user to withdraw an ERC721 token from the vault.</p>
<pre><code class="language-solidity">function withdrawERC721(address recipient, address token, uint tokenId) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The user that will receive the ERC721 tokens</td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td>ERC721 token address to be withdrawn</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the ERC721 being withdrawn</td></tr>
</tbody></table>
</div>
<h3 id="withdrawerc1155-1"><a class="header" href="#withdrawerc1155-1">withdrawERC1155</a></h3>
<p>Allows an approved user to withdraw an ERC1155 token(s) from the vault.</p>
<pre><code class="language-solidity">function withdrawERC1155(address recipient, address token, uint tokenId, uint amount) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The user that will receive the ERC1155 tokens</td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td>ERC1155 token address to be withdrawn</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the ERC1155 being withdrawn</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to withdraw</td></tr>
</tbody></table>
</div>
<h3 id="processaction"><a class="header" href="#processaction">processAction</a></h3>
<p>Apply an action against the vault. If we need any tokens to be approved before the
action is called, then these are approved before our call and approval is removed
afterwards for 1155s.</p>
<pre><code class="language-solidity">function processAction(address payable action, ActionApproval[] calldata approvals, bytes calldata data, uint linkedSweepEpoch)
    external
    onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>action</code></td><td><code>address payable</code></td><td>Address of the action to apply</td></tr>
<tr><td><code>approvals</code></td><td><code>ActionApproval[]</code></td><td>Any tokens that need to be approved before actioning</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Any bytes data that should be passed to the {IAction} execution function</td></tr>
<tr><td><code>linkedSweepEpoch</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="registersweep"><a class="header" href="#registersweep">registerSweep</a></h3>
<p>When an epoch ends, we have the ability to register a sweep against the {Treasury}
via an approved contract. This will store a DAO sweep that will need to be actioned
using the <code>sweepEpoch</code> function.</p>
<pre><code class="language-solidity">function registerSweep(uint epoch, address[] calldata collections, uint[] calldata amounts, TreasuryEnums.SweepType sweepType)
    external
    onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The current epoch that the sweep is generated from</td></tr>
<tr><td><code>collections</code></td><td><code>address[]</code></td><td>The collections that will be swept</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>The amount of ETH to sweep against each collection</td></tr>
<tr><td><code>sweepType</code></td><td><code>SweepType.TreasuryEnums</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="sweepepoch"><a class="header" href="#sweepepoch">sweepEpoch</a></h3>
<p>Actions a sweep to be used against a contract that implements {ISweeper}. This
will fulfill the sweep and we then mark the sweep as completed.</p>
<pre><code class="language-solidity">function sweepEpoch(uint epochIndex, address sweeper, bytes calldata data, uint mercSweep) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epochIndex</code></td><td><code>uint256</code></td><td>The index of the <code>epochSweeps</code></td></tr>
<tr><td><code>sweeper</code></td><td><code>address</code></td><td>The address of the sweeper contract to be used</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Additional meta data to send to the sweeper</td></tr>
<tr><td><code>mercSweep</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="resweepepoch"><a class="header" href="#resweepepoch">resweepEpoch</a></h3>
<p>Checks if the Epoch grace period has expired. This gives the DAO 1 epoch to action
the sweep before allowing an external party to action on their behalf.
Sweep       Current
3           3           Not ended yet
3           4           Only DAO
3           5           5,000 FLOOR
If the grace period has ended, then a user that holds 5,000 FLOOR tokens can action
the sweep to take place.
Allows the DAO to resweep an already swept &quot;Sweep&quot; struct, using a contract that
implements {ISweeper}. This will fulfill the sweep again and keep the sweep marked
as completed.</p>
<p><em>This should only be used if there was an unexpected issue with the initial
sweep that resulted in assets not being correctly acquired, but the epoch being
marked as swept.</em></p>
<pre><code class="language-solidity">function resweepEpoch(uint epochIndex, address sweeper, bytes calldata data, uint mercSweep) public onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epochIndex</code></td><td><code>uint256</code></td><td>The index of the <code>epochSweeps</code></td></tr>
<tr><td><code>sweeper</code></td><td><code>address</code></td><td>The address of the sweeper contract to be used</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Additional meta data to send to the sweeper</td></tr>
<tr><td><code>mercSweep</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_sweepepoch"><a class="header" href="#_sweepepoch">_sweepEpoch</a></h3>
<p>Handles the logic to action a sweep.</p>
<pre><code class="language-solidity">function _sweepEpoch(uint epochIndex, address sweeper, Sweep memory epochSweep, bytes calldata data, uint mercSweep) internal;
</code></pre>
<h3 id="setmercenarysweeper"><a class="header" href="#setmercenarysweeper">setMercenarySweeper</a></h3>
<p>Allows the mercenary sweeper contract to be updated.</p>
<pre><code class="language-solidity">function setMercenarySweeper(address _mercSweeper) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mercSweeper</code></td><td><code>address</code></td><td>the new {IMercenarySweeper} contract</td></tr>
</tbody></table>
</div>
<h3 id="approvesweeper"><a class="header" href="#approvesweeper">approveSweeper</a></h3>
<p>Allows a sweeper contract to be approved or uapproved. This must be done before
a contract can be referenced in the <code>sweepEpoch</code> and <code>resweepEpoch</code> calls.</p>
<pre><code class="language-solidity">function approveSweeper(address _sweeper, bool _approved) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sweeper</code></td><td><code>address</code></td><td>The address of the sweeper contract</td></tr>
<tr><td><code>_approved</code></td><td><code>bool</code></td><td>True to approve, False to unapprove</td></tr>
</tbody></table>
</div>
<h3 id="setminsweepamount"><a class="header" href="#setminsweepamount">setMinSweepAmount</a></h3>
<p>Allows us to set a minimum amount of ETH to sweep with, so that if the yield
allocated to the sweep is too low to be beneficial, then the DAO can stomache
the additional cost.</p>
<pre><code class="language-solidity">function setMinSweepAmount(uint _minSweepAmount) external onlyRole(TREASURY_MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_minSweepAmount</code></td><td><code>uint256</code></td><td>The minimum amount of ETH to sweep with</td></tr>
</tbody></table>
</div>
<h3 id="receive-7"><a class="header" href="#receive-7">receive</a></h3>
<p>Allow our contract to receive native tokens.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-29"><a class="header" href="#contents-29">Contents</a></h1>
<ul>
<li><a href="src/interfaces//src/interfaces/actions">actions</a></li>
<li><a href="src/interfaces//src/interfaces/authorities">authorities</a></li>
<li><a href="src/interfaces//src/interfaces/bribes">bribes</a></li>
<li><a href="src/interfaces//src/interfaces/collections">collections</a></li>
<li><a href="src/interfaces//src/interfaces/cowswap">cowswap</a></li>
<li><a href="src/interfaces//src/interfaces/legacy">legacy</a></li>
<li><a href="src/interfaces//src/interfaces/llamapay">llamapay</a></li>
<li><a href="src/interfaces//src/interfaces/migrations">migrations</a></li>
<li><a href="src/interfaces//src/interfaces/nftx">nftx</a></li>
<li><a href="src/interfaces//src/interfaces/pricing">pricing</a></li>
<li><a href="src/interfaces//src/interfaces/staking">staking</a></li>
<li><a href="src/interfaces//src/interfaces/strategies">strategies</a></li>
<li><a href="src/interfaces//src/interfaces/tokens">tokens</a></li>
<li><a href="src/interfaces//src/interfaces/uniswap">uniswap</a></li>
<li><a href="src/interfaces//src/interfaces/utils">utils</a></li>
<li><a href="src/interfaces//src/interfaces/voting">voting</a></li>
<li><a href="src/interfaces/EpochManager.sol/contract.IEpochManager.html">IEpochManager</a></li>
<li><a href="src/interfaces/Treasury.sol/contract.TreasuryEnums.html">TreasuryEnums</a></li>
<li><a href="src/interfaces/Treasury.sol/contract.ITreasury.html">ITreasury</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-30"><a class="header" href="#contents-30">Contents</a></h1>
<ul>
<li><a href="src/interfaces/actions/Action.sol/contract.IAction.html">IAction</a></li>
<li><a href="src/interfaces/actions/Sweeper.sol/contract.ISweeper.html">ISweeper</a></li>
<li><a href="src/interfaces/actions/Sweeper.sol/contract.IMercenarySweeper.html">IMercenarySweeper</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iaction"><a class="header" href="#iaction">IAction</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/actions/Action.sol">Git Source</a></p>
<h2 id="functions-71"><a class="header" href="#functions-71">Functions</a></h2>
<h3 id="execute-32"><a class="header" href="#execute-32">execute</a></h3>
<pre><code class="language-solidity">function execute(bytes calldata) external payable returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="isweeper"><a class="header" href="#isweeper">ISweeper</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/actions/Sweeper.sol">Git Source</a></p>
<p>Used by sweepers.</p>
<h2 id="functions-72"><a class="header" href="#functions-72">Functions</a></h2>
<h3 id="execute-33"><a class="header" href="#execute-33">execute</a></h3>
<pre><code class="language-solidity">function execute(address[] calldata collections, uint[] calldata amounts, bytes calldata data)
    external
    payable
    virtual
    returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imercenarysweeper"><a class="header" href="#imercenarysweeper">IMercenarySweeper</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/actions/Sweeper.sol">Git Source</a></p>
<p>Used by mercenary sweepers.</p>
<h2 id="functions-73"><a class="header" href="#functions-73">Functions</a></h2>
<h3 id="execute-34"><a class="header" href="#execute-34">execute</a></h3>
<pre><code class="language-solidity">function execute(uint warIndex, uint amount) external payable virtual returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-31"><a class="header" href="#contents-31">Contents</a></h1>
<ul>
<li><a href="src/interfaces/authorities/AuthorityControl.sol/contract.IAuthorityControl.html">IAuthorityControl</a></li>
<li><a href="src/interfaces/authorities/AuthorityRegistry.sol/contract.IAuthorityRegistry.html">IAuthorityRegistry</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iauthoritycontrol"><a class="header" href="#iauthoritycontrol">IAuthorityControl</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/authorities/AuthorityControl.sol">Git Source</a></p>
<h2 id="functions-74"><a class="header" href="#functions-74">Functions</a></h2>
<h3 id="collection_manager-1"><a class="header" href="#collection_manager-1">COLLECTION_MANAGER</a></h3>
<p>CollectionManager - Can approve token addresses to be allowed to be used in vaults</p>
<pre><code class="language-solidity">function COLLECTION_MANAGER() external returns (bytes32);
</code></pre>
<h3 id="floor_manager-1"><a class="header" href="#floor_manager-1">FLOOR_MANAGER</a></h3>
<p>FloorManager - Can mint and manage Floor and VeFloor tokens</p>
<pre><code class="language-solidity">function FLOOR_MANAGER() external returns (bytes32);
</code></pre>
<h3 id="governor-2"><a class="header" href="#governor-2">GOVERNOR</a></h3>
<p>Governor - A likely DAO owned vote address to allow for wide scale decisions to
be made and implemented.</p>
<pre><code class="language-solidity">function GOVERNOR() external returns (bytes32);
</code></pre>
<h3 id="guardian-2"><a class="header" href="#guardian-2">GUARDIAN</a></h3>
<p>Guardian - Wallet address that will allow for Governor based actions, except without
timeframe restrictions.</p>
<pre><code class="language-solidity">function GUARDIAN() external returns (bytes32);
</code></pre>
<h3 id="treasury_manager-1"><a class="header" href="#treasury_manager-1">TREASURY_MANAGER</a></h3>
<p>TreasuryManager - Access to Treasury asset management</p>
<pre><code class="language-solidity">function TREASURY_MANAGER() external returns (bytes32);
</code></pre>
<h3 id="vault_manager-1"><a class="header" href="#vault_manager-1">VAULT_MANAGER</a></h3>
<p>VaultManager - Can create new vaults against approved strategies and collections</p>
<pre><code class="language-solidity">function VAULT_MANAGER() external returns (bytes32);
</code></pre>
<h3 id="vote_manager-1"><a class="header" href="#vote_manager-1">VOTE_MANAGER</a></h3>
<p>VoteManager - Can manage account votes</p>
<pre><code class="language-solidity">function VOTE_MANAGER() external returns (bytes32);
</code></pre>
<h3 id="hasrole-2"><a class="header" href="#hasrole-2">hasRole</a></h3>
<p><em>Returns <code>true</code> if <code>account</code> has been granted <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) external view returns (bool);
</code></pre>
<h3 id="hasadminrole-2"><a class="header" href="#hasadminrole-2">hasAdminRole</a></h3>
<p><em>Returns <code>true</code> if <code>account</code> has been granted either the GOVERNOR or
GUARDIAN <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasAdminRole(address account) external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iauthorityregistry"><a class="header" href="#iauthorityregistry">IAuthorityRegistry</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/authorities/AuthorityRegistry.sol">Git Source</a></p>
<p>This interface expands upon the OpenZeppelin <code>IAccessControl</code> interface:
https://raw.githubusercontent.com/OpenZeppelin/openzeppelin-contracts/master/contracts/access/IAccessControl.sol</p>
<h2 id="functions-75"><a class="header" href="#functions-75">Functions</a></h2>
<h3 id="hasrole-3"><a class="header" href="#hasrole-3">hasRole</a></h3>
<p><em>Returns <code>true</code> if <code>account</code> has been granted <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) external view returns (bool);
</code></pre>
<h3 id="hasadminrole-3"><a class="header" href="#hasadminrole-3">hasAdminRole</a></h3>
<p><em>Returns <code>true</code> if <code>account</code> has been granted either the GOVERNOR or
GUARDIAN <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasAdminRole(address account) external view returns (bool);
</code></pre>
<h3 id="grantrole-1"><a class="header" href="#grantrole-1">grantRole</a></h3>
<p>*Grants <code>role</code> to <code>account</code>.
If <code>account</code> had not been already granted <code>role</code>, emits a {RoleGranted}
event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) external;
</code></pre>
<h3 id="revokerole-1"><a class="header" href="#revokerole-1">revokeRole</a></h3>
<p>*Revokes <code>role</code> from <code>account</code>.
If <code>account</code> had been granted <code>role</code>, emits a {RoleRevoked} event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) external;
</code></pre>
<h3 id="renouncerole-1"><a class="header" href="#renouncerole-1">renounceRole</a></h3>
<p>*Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been granted <code>role</code>, emits a {RoleRevoked}
event.
Requirements:</p>
<ul>
<li>the caller must be <code>account</code>.*</li>
</ul>
<pre><code class="language-solidity">function renounceRole(bytes32 role) external;
</code></pre>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="rolegranted"><a class="header" href="#rolegranted">RoleGranted</a></h3>
<p><em>Emitted when <code>account</code> is granted <code>role</code>.
<code>sender</code> is the account that originated the contract call, an admin role
bearer except when using {AccessControl-_setupRole}.</em></p>
<pre><code class="language-solidity">event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);
</code></pre>
<h3 id="rolerevoked"><a class="header" href="#rolerevoked">RoleRevoked</a></h3>
<p>*Emitted when <code>account</code> is revoked <code>role</code>.
<code>sender</code> is the account that originated the contract call:</p>
<ul>
<li>if using <code>revokeRole</code>, it is the admin role bearer</li>
<li>if using <code>renounceRole</code>, it is the role bearer (i.e. <code>account</code>)*</li>
</ul>
<pre><code class="language-solidity">event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-32"><a class="header" href="#contents-32">Contents</a></h1>
<ul>
<li><a href="src/interfaces/bribes/VoteMarket.sol/contract.IVoteMarket.html">IVoteMarket</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ivotemarket"><a class="header" href="#ivotemarket">IVoteMarket</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/bribes/VoteMarket.sol">Git Source</a></p>
<h2 id="functions-76"><a class="header" href="#functions-76">Functions</a></h2>
<h3 id="minimum_epochs-1"><a class="header" href="#minimum_epochs-1">MINIMUM_EPOCHS</a></h3>
<p>Minimum number of epochs for a Bribe</p>
<pre><code class="language-solidity">function MINIMUM_EPOCHS() external returns (uint8);
</code></pre>
<h3 id="dao_fee-1"><a class="header" href="#dao_fee-1">DAO_FEE</a></h3>
<p>The percentage of bribes that will be sent to the DAO</p>
<pre><code class="language-solidity">function DAO_FEE() external returns (uint8);
</code></pre>
<h3 id="feecollector-1"><a class="header" href="#feecollector-1">feeCollector</a></h3>
<p>The recipient of any fees collected. This should be set to the {Treasury}, or
to a specialist fee collection contract.</p>
<pre><code class="language-solidity">function feeCollector() external returns (address);
</code></pre>
<h3 id="isblacklisted-1"><a class="header" href="#isblacklisted-1">isBlacklisted</a></h3>
<p>Store our claim merkles that define the available rewards for each user across
all collections and bribes.
Stores a list of all bribes created, across past, live and future
A mapping of collection addresses to an array of bribe array indexes
Blacklisted addresses per bribe that aren't counted for rewards arithmetics.</p>
<pre><code class="language-solidity">function isBlacklisted(uint bribeId, address account) external returns (bool);
</code></pre>
<h3 id="oraclewallet-1"><a class="header" href="#oraclewallet-1">oracleWallet</a></h3>
<p>Oracle wallet that has permission to write merkles</p>
<pre><code class="language-solidity">function oracleWallet() external returns (address);
</code></pre>
<h3 id="createbribe-1"><a class="header" href="#createbribe-1">createBribe</a></h3>
<p>Create a new bribe.</p>
<pre><code class="language-solidity">function createBribe(
    address collection,
    address rewardToken,
    uint startEpoch,
    uint8 numberOfEpochs,
    uint maxRewardPerVote,
    uint totalRewardAmount,
    address[] calldata blacklist
) external returns (uint newBribeID);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>collection</code></td><td><code>address</code></td><td>Address of the target collection.</td></tr>
<tr><td><code>rewardToken</code></td><td><code>address</code></td><td>Address of the ERC20 used or rewards.</td></tr>
<tr><td><code>startEpoch</code></td><td><code>uint256</code></td><td>The epoch to start offering the bribe.</td></tr>
<tr><td><code>numberOfEpochs</code></td><td><code>uint8</code></td><td>Number of periods.</td></tr>
<tr><td><code>maxRewardPerVote</code></td><td><code>uint256</code></td><td>Target Bias for the Gauge.</td></tr>
<tr><td><code>totalRewardAmount</code></td><td><code>uint256</code></td><td>Total Reward Added.</td></tr>
<tr><td><code>blacklist</code></td><td><code>address[]</code></td><td>Array of addresses to blacklist.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newBribeID</code></td><td><code>uint256</code></td><td>of the bribe created.</td></tr>
</tbody></table>
</div>
<h3 id="claim-2"><a class="header" href="#claim-2">claim</a></h3>
<pre><code class="language-solidity">function claim(
    address account,
    uint[] calldata epoch,
    uint[] calldata bribeIds,
    address[] calldata collection,
    uint[] calldata votes,
    bytes32[][] calldata merkleProof
) external;
</code></pre>
<h3 id="claimall-1"><a class="header" href="#claimall-1">claimAll</a></h3>
<pre><code class="language-solidity">function claimAll(
    address account,
    uint[] calldata epoch,
    address[] calldata collection,
    uint[] calldata votes,
    bytes32[][] calldata merkleProof
) external;
</code></pre>
<h3 id="hasuserclaimed-1"><a class="header" href="#hasuserclaimed-1">hasUserClaimed</a></h3>
<pre><code class="language-solidity">function hasUserClaimed(uint bribeId, uint epoch) external view returns (bool);
</code></pre>
<h3 id="registerclaims-1"><a class="header" href="#registerclaims-1">registerClaims</a></h3>
<pre><code class="language-solidity">function registerClaims(uint epoch, bytes32 merkleRoot, address[] calldata collections, uint[] calldata collectionVotes) external;
</code></pre>
<h3 id="setoraclewallet-1"><a class="header" href="#setoraclewallet-1">setOracleWallet</a></h3>
<pre><code class="language-solidity">function setOracleWallet(address _oracleWallet) external;
</code></pre>
<h3 id="extendbribes-1"><a class="header" href="#extendbribes-1">extendBribes</a></h3>
<pre><code class="language-solidity">function extendBribes(uint epoch) external;
</code></pre>
<h3 id="expirecollectionbribes-1"><a class="header" href="#expirecollectionbribes-1">expireCollectionBribes</a></h3>
<pre><code class="language-solidity">function expireCollectionBribes(address[] calldata collection, uint[] calldata index) external;
</code></pre>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="bribecreated"><a class="header" href="#bribecreated">BribeCreated</a></h3>
<p>Fired when a new bribe is created</p>
<pre><code class="language-solidity">event BribeCreated(uint bribeId);
</code></pre>
<h3 id="claimed"><a class="header" href="#claimed">Claimed</a></h3>
<p>Fired when a user claims their bribe allocation</p>
<pre><code class="language-solidity">event Claimed(address account, address rewardToken, uint bribeId, uint amount, uint epoch);
</code></pre>
<h3 id="claimregistered"><a class="header" href="#claimregistered">ClaimRegistered</a></h3>
<p>Fired when a new claim allocation is assigned for an epoch</p>
<pre><code class="language-solidity">event ClaimRegistered(uint epoch, bytes32 merkleRoot);
</code></pre>
<h2 id="structs-31"><a class="header" href="#structs-31">Structs</a></h2>
<h3 id="bribe"><a class="header" href="#bribe">Bribe</a></h3>
<p>Bribe struct requirements.</p>
<pre><code class="language-solidity">struct Bribe {
    uint startEpoch;
    uint maxRewardPerVote;
    uint remainingRewards;
    uint totalRewardAmount;
    address collection;
    address rewardToken;
    address creator;
    uint8 numberOfEpochs;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-33"><a class="header" href="#contents-33">Contents</a></h1>
<ul>
<li><a href="src/interfaces/collections/CollectionRegistry.sol/contract.ICollectionRegistry.html">ICollectionRegistry</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icollectionregistry"><a class="header" href="#icollectionregistry">ICollectionRegistry</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/collections/CollectionRegistry.sol">Git Source</a></p>
<p>Allows collection contracts to be approved and revoked by addresses holding the
{CollectionManager} role. Only once approved can these collections be applied to
new or existing vaults. They will only need to be stored as a mapping of address
to boolean.</p>
<h2 id="functions-77"><a class="header" href="#functions-77">Functions</a></h2>
<h3 id="isapproved-1"><a class="header" href="#isapproved-1">isApproved</a></h3>
<p>Returns <code>true</code> if the contract address is an approved collection, otherwise
returns <code>false</code>.</p>
<pre><code class="language-solidity">function isApproved(address contractAddr) external view returns (bool);
</code></pre>
<h3 id="approvedcollections-1"><a class="header" href="#approvedcollections-1">approvedCollections</a></h3>
<p>Returns an array of all approved collections.</p>
<pre><code class="language-solidity">function approvedCollections() external view returns (address[] memory);
</code></pre>
<h3 id="approvecollection-1"><a class="header" href="#approvecollection-1">approveCollection</a></h3>
<p>Approves a collection contract to be used for vaults.</p>
<pre><code class="language-solidity">function approveCollection(address contractAddr, address underlyingToken) external;
</code></pre>
<h2 id="events-5"><a class="header" href="#events-5">Events</a></h2>
<h3 id="collectionapproved"><a class="header" href="#collectionapproved">CollectionApproved</a></h3>
<p>Emitted when a collection is successfully approved</p>
<pre><code class="language-solidity">event CollectionApproved(address contractAddr);
</code></pre>
<h3 id="collectionrevoked"><a class="header" href="#collectionrevoked">CollectionRevoked</a></h3>
<p>Emitted when a collection has been successfully revoked</p>
<pre><code class="language-solidity">event CollectionRevoked(address contractAddr);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-34"><a class="header" href="#contents-34">Contents</a></h1>
<ul>
<li><a href="src/interfaces/cowswap/CoWSwapOnchainOrders.sol/contract.ICoWSwapOnchainOrders.html">ICoWSwapOnchainOrders</a></li>
<li><a href="src/interfaces/cowswap/CoWSwapSettlement.sol/contract.ICoWSwapSettlement.html">ICoWSwapSettlement</a></li>
<li><a href="src/interfaces/cowswap/GPv2Order.sol/contract.GPv2Order.html">GPv2Order</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icowswaponchainorders"><a class="header" href="#icowswaponchainorders">ICoWSwapOnchainOrders</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/cowswap/CoWSwapOnchainOrders.sol">Git Source</a></p>
<p><strong>Author:</strong>
CoW Swap Developers</p>
<h2 id="events-6"><a class="header" href="#events-6">Events</a></h2>
<h3 id="orderplacement"><a class="header" href="#orderplacement">OrderPlacement</a></h3>
<p><em>Event emitted to broadcast an order onchain.</em></p>
<pre><code class="language-solidity">event OrderPlacement(address indexed sender, GPv2Order.Data order, OnchainSignature signature, bytes data);
</code></pre>
<h2 id="structs-32"><a class="header" href="#structs-32">Structs</a></h2>
<h3 id="onchainsignature"><a class="header" href="#onchainsignature">OnchainSignature</a></h3>
<p><em>Struct containing information on the signign scheme used plus the corresponding signature.</em></p>
<pre><code class="language-solidity">struct OnchainSignature {
    OnchainSigningScheme scheme;
    bytes data;
}
</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<h3 id="onchainsigningscheme"><a class="header" href="#onchainsigningscheme">OnchainSigningScheme</a></h3>
<p><em>List of signature schemes that are supported by this contract to create orders onchain.</em></p>
<pre><code class="language-solidity">enum OnchainSigningScheme {
    Eip1271,
    PreSign
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icowswapsettlement"><a class="header" href="#icowswapsettlement">ICoWSwapSettlement</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/cowswap/CoWSwapSettlement.sol">Git Source</a></p>
<h2 id="functions-78"><a class="header" href="#functions-78">Functions</a></h2>
<h3 id="domainseparator-2"><a class="header" href="#domainseparator-2">domainSeparator</a></h3>
<pre><code class="language-solidity">function domainSeparator() external view returns (bytes32);
</code></pre>
<h3 id="vaultrelayer"><a class="header" href="#vaultrelayer">vaultRelayer</a></h3>
<pre><code class="language-solidity">function vaultRelayer() external view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gpv2order"><a class="header" href="#gpv2order">GPv2Order</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/cowswap/GPv2Order.sol">Git Source</a></p>
<p><strong>Author:</strong>
Gnosis Developers</p>
<h2 id="state-variables-49"><a class="header" href="#state-variables-49">State Variables</a></h2>
<h3 id="type_hash"><a class="header" href="#type_hash">TYPE_HASH</a></h3>
<p>*The order EIP-712 type hash for the [<code>GPv2Order.Data</code>] struct.
This value is pre-computed from the following expression:</p>
<pre><code>keccak256(
&quot;Order(&quot; +
&quot;address sellToken,&quot; +
&quot;address buyToken,&quot; +
&quot;address receiver,&quot; +
&quot;uint256 sellAmount,&quot; +
&quot;uint256 buyAmount,&quot; +
&quot;uint32 validTo,&quot; +
&quot;bytes32 appData,&quot; +
&quot;uint256 feeAmount,&quot; +
&quot;string kind,&quot; +
&quot;bool partiallyFillable&quot; +
&quot;string sellTokenBalance&quot; +
&quot;string buyTokenBalance&quot; +
&quot;)&quot;
)
```*


```solidity
bytes32 internal constant TYPE_HASH = hex'd5a25ba2e97094ad7d83dc28a6572da797d6b3e7fc6663bd93efb789fc17e489';
</code></pre>
<h3 id="kind_sell"><a class="header" href="#kind_sell">KIND_SELL</a></h3>
<p>*The marker value for a sell order for computing the order struct
hash. This allows the EIP-712 compatible wallets to display a
descriptive string for the order kind (instead of 0 or 1).
This value is pre-computed from the following expression:</p>
<pre><code>keccak256(&quot;sell&quot;)
```*


```solidity
bytes32 internal constant KIND_SELL = hex'f3b277728b3fee749481eb3e0b3b48980dbbab78658fc419025cb16eee346775';
</code></pre>
<h3 id="kind_buy"><a class="header" href="#kind_buy">KIND_BUY</a></h3>
<p>*The OrderKind marker value for a buy order for computing the order
struct hash.
This value is pre-computed from the following expression:</p>
<pre><code>keccak256(&quot;buy&quot;)
```*


```solidity
bytes32 internal constant KIND_BUY = hex'6ed88e868af0a1983e3886d5f3e95a2fafbd6c3450bc229e27342283dc429ccc';
</code></pre>
<h3 id="balance_erc20"><a class="header" href="#balance_erc20">BALANCE_ERC20</a></h3>
<p>*The TokenBalance marker value for using direct ERC20 balances for
computing the order struct hash.
This value is pre-computed from the following expression:</p>
<pre><code>keccak256(&quot;erc20&quot;)
```*


```solidity
bytes32 internal constant BALANCE_ERC20 = hex'5a28e9363bb942b639270062aa6bb295f434bcdfc42c97267bf003f272060dc9';
</code></pre>
<h3 id="balance_external"><a class="header" href="#balance_external">BALANCE_EXTERNAL</a></h3>
<p>*The TokenBalance marker value for using Balancer Vault external
balances (in order to re-use Vault ERC20 approvals) for computing the
order struct hash.
This value is pre-computed from the following expression:</p>
<pre><code>keccak256(&quot;external&quot;)
```*


```solidity
bytes32 internal constant BALANCE_EXTERNAL = hex'abee3b73373acd583a130924aad6dc38cfdc44ba0555ba94ce2ff63980ea0632';
</code></pre>
<h3 id="balance_internal"><a class="header" href="#balance_internal">BALANCE_INTERNAL</a></h3>
<p>*The TokenBalance marker value for using Balancer Vault internal
balances for computing the order struct hash.
This value is pre-computed from the following expression:</p>
<pre><code>keccak256(&quot;internal&quot;)
```*


```solidity
bytes32 internal constant BALANCE_INTERNAL = hex'4ac99ace14ee0a5ef932dc609df0943ab7ac16b7583634612f8dc35a4289a6ce';
</code></pre>
<h3 id="receiver_same_as_owner"><a class="header" href="#receiver_same_as_owner">RECEIVER_SAME_AS_OWNER</a></h3>
<p><em>Marker address used to indicate that the receiver of the trade
proceeds should the owner of the order.
This is chosen to be <code>address(0)</code> for gas efficiency as it is expected
to be the most common case.</em></p>
<pre><code class="language-solidity">address internal constant RECEIVER_SAME_AS_OWNER = address(0);
</code></pre>
<h3 id="uid_length"><a class="header" href="#uid_length">UID_LENGTH</a></h3>
<p><em>The byte length of an order unique identifier.</em></p>
<pre><code class="language-solidity">uint internal constant UID_LENGTH = 56;
</code></pre>
<h2 id="functions-79"><a class="header" href="#functions-79">Functions</a></h2>
<h3 id="actualreceiver"><a class="header" href="#actualreceiver">actualReceiver</a></h3>
<p><em>Returns the actual receiver for an order. This function checks
whether or not the [<code>receiver</code>] field uses the marker value to indicate
it is the same as the order owner.</em></p>
<pre><code class="language-solidity">function actualReceiver(Data memory order, address owner) internal pure returns (address receiver);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The actual receiver of trade proceeds.</td></tr>
</tbody></table>
</div>
<h3 id="hash-2"><a class="header" href="#hash-2">hash</a></h3>
<p><em>Return the EIP-712 signing hash for the specified order.</em></p>
<pre><code class="language-solidity">function hash(Data memory order, bytes32 domainSeparator) internal pure returns (bytes32 orderDigest);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>order</code></td><td><code>Data</code></td><td>The order to compute the EIP-712 signing hash for.</td></tr>
<tr><td><code>domainSeparator</code></td><td><code>bytes32</code></td><td>The EIP-712 domain separator to use.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>orderDigest</code></td><td><code>bytes32</code></td><td>The 32 byte EIP-712 struct hash.</td></tr>
</tbody></table>
</div>
<h3 id="packorderuidparams"><a class="header" href="#packorderuidparams">packOrderUidParams</a></h3>
<p><em>Packs order UID parameters into the specified memory location. The
result is equivalent to <code>abi.encodePacked(...)</code> with the difference that
it allows re-using the memory for packing the order UID.
This function reverts if the order UID buffer is not the correct size.</em></p>
<pre><code class="language-solidity">function packOrderUidParams(bytes memory orderUid, bytes32 orderDigest, address owner, uint32 validTo) internal pure;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>orderUid</code></td><td><code>bytes</code></td><td>The buffer pack the order UID parameters into.</td></tr>
<tr><td><code>orderDigest</code></td><td><code>bytes32</code></td><td>The EIP-712 struct digest derived from the order parameters.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the user who owns this order.</td></tr>
<tr><td><code>validTo</code></td><td><code>uint32</code></td><td>The epoch time at which the order will stop being valid.</td></tr>
</tbody></table>
</div>
<h3 id="extractorderuidparams"><a class="header" href="#extractorderuidparams">extractOrderUidParams</a></h3>
<p><em>Extracts specific order information from the standardized unique
order id of the protocol.</em></p>
<pre><code class="language-solidity">function extractOrderUidParams(bytes calldata orderUid) internal pure returns (bytes32 orderDigest, address owner, uint32 validTo);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>orderUid</code></td><td><code>bytes</code></td><td>The unique identifier used to represent an order in the protocol. This uid is the packed concatenation of the order digest, the validTo order parameter and the address of the user who created the order. It is used by the user to interface with the contract directly, and not by calls that are triggered by the solvers.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>orderDigest</code></td><td><code>bytes32</code></td><td>The EIP-712 signing digest derived from the order parameters.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the user who owns this order.</td></tr>
<tr><td><code>validTo</code></td><td><code>uint32</code></td><td>The epoch time at which the order will stop being valid.</td></tr>
</tbody></table>
</div>
<h2 id="structs-33"><a class="header" href="#structs-33">Structs</a></h2>
<h3 id="data-1"><a class="header" href="#data-1">Data</a></h3>
<p><em>The complete data for a Gnosis Protocol order. This struct contains
all order parameters that are signed for submitting to GP.</em></p>
<pre><code class="language-solidity">struct Data {
    IERC20 sellToken;
    IERC20 buyToken;
    address receiver;
    uint sellAmount;
    uint buyAmount;
    uint32 validTo;
    bytes32 appData;
    uint feeAmount;
    bytes32 kind;
    bool partiallyFillable;
    bytes32 sellTokenBalance;
    bytes32 buyTokenBalance;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-35"><a class="header" href="#contents-35">Contents</a></h1>
<ul>
<li><a href="src/interfaces/legacy/IgFLOOR.sol/contract.IgFLOOR.html">IgFLOOR</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="igfloor"><a class="header" href="#igfloor">IgFLOOR</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/legacy/IgFLOOR.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC20</p>
<h2 id="functions-80"><a class="header" href="#functions-80">Functions</a></h2>
<h3 id="mint-3"><a class="header" href="#mint-3">mint</a></h3>
<pre><code class="language-solidity">function mint(address _to, uint _amount) external;
</code></pre>
<h3 id="burn"><a class="header" href="#burn">burn</a></h3>
<pre><code class="language-solidity">function burn(address _from, uint _amount) external;
</code></pre>
<h3 id="index"><a class="header" href="#index">index</a></h3>
<pre><code class="language-solidity">function index() external view returns (uint);
</code></pre>
<h3 id="balancefrom"><a class="header" href="#balancefrom">balanceFrom</a></h3>
<pre><code class="language-solidity">function balanceFrom(uint _amount) external view returns (uint);
</code></pre>
<h3 id="balanceto"><a class="header" href="#balanceto">balanceTo</a></h3>
<pre><code class="language-solidity">function balanceTo(uint _amount) external view returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-36"><a class="header" href="#contents-36">Contents</a></h1>
<ul>
<li><a href="src/interfaces/llamapay/LlamaPay.sol/contract.ILlamaPay.html">ILlamaPay</a></li>
<li><a href="src/interfaces/llamapay/LlamaPayFactory.sol/contract.ILlamaPayFactory.html">ILlamaPayFactory</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="illamapay"><a class="header" href="#illamapay">ILlamaPay</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/llamapay/LlamaPay.sol">Git Source</a></p>
<h2 id="functions-81"><a class="header" href="#functions-81">Functions</a></h2>
<h3 id="streamtostart"><a class="header" href="#streamtostart">streamToStart</a></h3>
<pre><code class="language-solidity">function streamToStart(bytes32) external returns (uint);
</code></pre>
<h3 id="payers"><a class="header" href="#payers">payers</a></h3>
<pre><code class="language-solidity">function payers(address) external returns (Payer memory);
</code></pre>
<h3 id="balances"><a class="header" href="#balances">balances</a></h3>
<pre><code class="language-solidity">function balances(address) external returns (uint);
</code></pre>
<h3 id="token"><a class="header" href="#token">token</a></h3>
<pre><code class="language-solidity">function token() external returns (IERC20);
</code></pre>
<h3 id="decimals_divisor"><a class="header" href="#decimals_divisor">DECIMALS_DIVISOR</a></h3>
<pre><code class="language-solidity">function DECIMALS_DIVISOR() external returns (uint);
</code></pre>
<h3 id="getstreamid"><a class="header" href="#getstreamid">getStreamId</a></h3>
<pre><code class="language-solidity">function getStreamId(address from, address to, uint216 amountPerSec) external pure returns (bytes32);
</code></pre>
<h3 id="createstream-1"><a class="header" href="#createstream-1">createStream</a></h3>
<pre><code class="language-solidity">function createStream(address to, uint216 amountPerSec) external;
</code></pre>
<h3 id="createstreamwithreason"><a class="header" href="#createstreamwithreason">createStreamWithReason</a></h3>
<pre><code class="language-solidity">function createStreamWithReason(address to, uint216 amountPerSec, string calldata reason) external;
</code></pre>
<h3 id="withdrawable"><a class="header" href="#withdrawable">withdrawable</a></h3>
<pre><code class="language-solidity">function withdrawable(address from, address to, uint216 amountPerSec)
    external
    view
    returns (uint withdrawableAmount, uint lastUpdate, uint owed);
</code></pre>
<h3 id="withdraw-7"><a class="header" href="#withdraw-7">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(address from, address to, uint216 amountPerSec) external;
</code></pre>
<h3 id="cancelstream"><a class="header" href="#cancelstream">cancelStream</a></h3>
<pre><code class="language-solidity">function cancelStream(address to, uint216 amountPerSec) external;
</code></pre>
<h3 id="pausestream"><a class="header" href="#pausestream">pauseStream</a></h3>
<pre><code class="language-solidity">function pauseStream(address to, uint216 amountPerSec) external;
</code></pre>
<h3 id="modifystream"><a class="header" href="#modifystream">modifyStream</a></h3>
<pre><code class="language-solidity">function modifyStream(address oldTo, uint216 oldAmountPerSec, address to, uint216 amountPerSec) external;
</code></pre>
<h3 id="deposit-4"><a class="header" href="#deposit-4">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint amount) external;
</code></pre>
<h3 id="depositandcreate"><a class="header" href="#depositandcreate">depositAndCreate</a></h3>
<pre><code class="language-solidity">function depositAndCreate(uint amountToDeposit, address to, uint216 amountPerSec) external;
</code></pre>
<h3 id="depositandcreatewithreason"><a class="header" href="#depositandcreatewithreason">depositAndCreateWithReason</a></h3>
<pre><code class="language-solidity">function depositAndCreateWithReason(uint amountToDeposit, address to, uint216 amountPerSec, string calldata reason) external;
</code></pre>
<h3 id="withdrawpayer"><a class="header" href="#withdrawpayer">withdrawPayer</a></h3>
<pre><code class="language-solidity">function withdrawPayer(uint amount) external;
</code></pre>
<h3 id="withdrawpayerall"><a class="header" href="#withdrawpayerall">withdrawPayerAll</a></h3>
<pre><code class="language-solidity">function withdrawPayerAll() external;
</code></pre>
<h3 id="getpayerbalance"><a class="header" href="#getpayerbalance">getPayerBalance</a></h3>
<pre><code class="language-solidity">function getPayerBalance(address payerAddress) external view returns (int);
</code></pre>
<h2 id="structs-34"><a class="header" href="#structs-34">Structs</a></h2>
<h3 id="payer"><a class="header" href="#payer">Payer</a></h3>
<pre><code class="language-solidity">struct Payer {
    uint40 lastPayerUpdate;
    uint216 totalPaidPerSec;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="illamapayfactory"><a class="header" href="#illamapayfactory">ILlamaPayFactory</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/llamapay/LlamaPayFactory.sol">Git Source</a></p>
<h2 id="functions-82"><a class="header" href="#functions-82">Functions</a></h2>
<h3 id="init_codehash"><a class="header" href="#init_codehash">INIT_CODEHASH</a></h3>
<pre><code class="language-solidity">function INIT_CODEHASH() external returns (bytes32);
</code></pre>
<h3 id="parameter"><a class="header" href="#parameter">parameter</a></h3>
<pre><code class="language-solidity">function parameter() external returns (address);
</code></pre>
<h3 id="getllamapaycontractcount"><a class="header" href="#getllamapaycontractcount">getLlamaPayContractCount</a></h3>
<pre><code class="language-solidity">function getLlamaPayContractCount() external returns (uint);
</code></pre>
<h3 id="getllamapaycontractbyindex"><a class="header" href="#getllamapaycontractbyindex">getLlamaPayContractByIndex</a></h3>
<pre><code class="language-solidity">function getLlamaPayContractByIndex(uint) external returns (address);
</code></pre>
<h3 id="createllamapaycontract"><a class="header" href="#createllamapaycontract">createLlamaPayContract</a></h3>
<p>Create a new Llama Pay Streaming instance for <code>_token</code></p>
<p><em>Instances are created deterministically via CREATE2 and duplicate instances
will cause a revert.</em></p>
<pre><code class="language-solidity">function createLlamaPayContract(address _token) external returns (address llamaPayContract);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>The ERC20 token address for which a Llama Pay contract should be deployed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>llamaPayContract</code></td><td><code>address</code></td><td>The address of the newly created Llama Pay contract</td></tr>
</tbody></table>
</div>
<h3 id="getllamapaycontractbytoken"><a class="header" href="#getllamapaycontractbytoken">getLlamaPayContractByToken</a></h3>
<p>Query the address of the Llama Pay contract for <code>_token</code> and whether it is deployed</p>
<pre><code class="language-solidity">function getLlamaPayContractByToken(address _token) external view returns (address predictedAddress, bool isDeployed);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>An ERC20 token address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>predictedAddress</code></td><td><code>address</code></td><td>The deterministic address where the llama pay contract will be deployed for <code>_token</code></td></tr>
<tr><td><code>isDeployed</code></td><td><code>bool</code></td><td>Boolean denoting whether the contract is currently deployed</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-37"><a class="header" href="#contents-37">Contents</a></h1>
<ul>
<li><a href="src/interfaces/migrations/MigrateFloorToken.sol/contract.IMigrateFloorToken.html">IMigrateFloorToken</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imigratefloortoken"><a class="header" href="#imigratefloortoken">IMigrateFloorToken</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/migrations/MigrateFloorToken.sol">Git Source</a></p>
<h2 id="functions-83"><a class="header" href="#functions-83">Functions</a></h2>
<h3 id="upgradefloortoken-1"><a class="header" href="#upgradefloortoken-1">upgradeFloorToken</a></h3>
<p>Burns FLOOR v1 tokens for FLOOR v2 tokens. We have a list of the defined
V1 tokens in our test suites that should be accept. These include a, g and
s floor variants.
This should provide a 1:1 V1 burn &gt; V2 mint of tokens.
The balance of all tokens will be attempted to be migrated, so 4 full approvals
should be made prior to calling this contract function.</p>
<pre><code class="language-solidity">function upgradeFloorToken() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-38"><a class="header" href="#contents-38">Contents</a></h1>
<ul>
<li><a href="src/interfaces/nftx/NFTXInventoryStaking.sol/contract.INFTXInventoryStaking.html">INFTXInventoryStaking</a></li>
<li><a href="src/interfaces/nftx/NFTXLiquidityStaking.sol/contract.INFTXLiquidityStaking.html">INFTXLiquidityStaking</a></li>
<li><a href="src/interfaces/nftx/NFTXMarketplaceZap.sol/contract.INFTXMarketplaceZap.html">INFTXMarketplaceZap</a></li>
<li><a href="src/interfaces/nftx/NFTXStakingZap.sol/contract.INFTXStakingZap.html">INFTXStakingZap</a></li>
<li><a href="src/interfaces/nftx/NFTXUnstakingInventoryZap.sol/contract.INFTXUnstakingInventoryZap.html">INFTXUnstakingInventoryZap</a></li>
<li><a href="src/interfaces/nftx/NFTXVault.sol/contract.INFTXVault.html">INFTXVault</a></li>
<li><a href="src/interfaces/nftx/NFTXVaultFactory.sol/contract.INFTXVaultFactory.html">INFTXVaultFactory</a></li>
<li><a href="src/interfaces/nftx/TimelockRewardDistributionToken.sol/contract.ITimelockRewardDistributionToken.html">ITimelockRewardDistributionToken</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftxinventorystaking"><a class="header" href="#inftxinventorystaking">INFTXInventoryStaking</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/NFTXInventoryStaking.sol">Git Source</a></p>
<h2 id="functions-84"><a class="header" href="#functions-84">Functions</a></h2>
<h3 id="inventorylocktimeerc20"><a class="header" href="#inventorylocktimeerc20">inventoryLockTimeErc20</a></h3>
<pre><code class="language-solidity">function inventoryLockTimeErc20() external returns (uint);
</code></pre>
<h3 id="__nftxinventorystaking_init"><a class="header" href="#__nftxinventorystaking_init">__NFTXInventoryStaking_init</a></h3>
<pre><code class="language-solidity">function __NFTXInventoryStaking_init(address _nftxVaultFactory) external;
</code></pre>
<h3 id="settimelockexcludelist"><a class="header" href="#settimelockexcludelist">setTimelockExcludeList</a></h3>
<pre><code class="language-solidity">function setTimelockExcludeList(address addr) external;
</code></pre>
<h3 id="setinventorylocktimeerc20"><a class="header" href="#setinventorylocktimeerc20">setInventoryLockTimeErc20</a></h3>
<pre><code class="language-solidity">function setInventoryLockTimeErc20(uint time) external;
</code></pre>
<h3 id="isaddresstimelockexcluded"><a class="header" href="#isaddresstimelockexcluded">isAddressTimelockExcluded</a></h3>
<pre><code class="language-solidity">function isAddressTimelockExcluded(address addr, uint vaultId) external view returns (bool);
</code></pre>
<h3 id="deployxtokenforvault"><a class="header" href="#deployxtokenforvault">deployXTokenForVault</a></h3>
<pre><code class="language-solidity">function deployXTokenForVault(uint vaultId) external;
</code></pre>
<h3 id="receiverewards"><a class="header" href="#receiverewards">receiveRewards</a></h3>
<pre><code class="language-solidity">function receiveRewards(uint vaultId, uint amount) external returns (bool);
</code></pre>
<h3 id="deposit-5"><a class="header" href="#deposit-5">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint vaultId, uint _amount) external;
</code></pre>
<h3 id="timelockmintfor"><a class="header" href="#timelockmintfor">timelockMintFor</a></h3>
<pre><code class="language-solidity">function timelockMintFor(uint vaultId, uint amount, address to, uint timelockLength) external returns (uint);
</code></pre>
<h3 id="withdraw-8"><a class="header" href="#withdraw-8">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint vaultId, uint _share) external;
</code></pre>
<h3 id="xtokensharevalue"><a class="header" href="#xtokensharevalue">xTokenShareValue</a></h3>
<pre><code class="language-solidity">function xTokenShareValue(uint vaultId) external view returns (uint);
</code></pre>
<h3 id="timelockuntil"><a class="header" href="#timelockuntil">timelockUntil</a></h3>
<pre><code class="language-solidity">function timelockUntil(uint vaultId, address who) external view returns (uint);
</code></pre>
<h3 id="balanceof"><a class="header" href="#balanceof">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(uint vaultId, address who) external view returns (uint);
</code></pre>
<h3 id="xtokenaddr"><a class="header" href="#xtokenaddr">xTokenAddr</a></h3>
<pre><code class="language-solidity">function xTokenAddr(address baseToken) external view returns (address);
</code></pre>
<h3 id="vaultxtoken"><a class="header" href="#vaultxtoken">vaultXToken</a></h3>
<pre><code class="language-solidity">function vaultXToken(uint vaultId) external view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftxliquiditystaking"><a class="header" href="#inftxliquiditystaking">INFTXLiquidityStaking</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/NFTXLiquidityStaking.sol">Git Source</a></p>
<h2 id="functions-85"><a class="header" href="#functions-85">Functions</a></h2>
<h3 id="nftxvaultfactory"><a class="header" href="#nftxvaultfactory">nftxVaultFactory</a></h3>
<pre><code class="language-solidity">function nftxVaultFactory() external view returns (address);
</code></pre>
<h3 id="rewarddisttokenimpl"><a class="header" href="#rewarddisttokenimpl">rewardDistTokenImpl</a></h3>
<pre><code class="language-solidity">function rewardDistTokenImpl() external view returns (address);
</code></pre>
<h3 id="stakingtokenprovider"><a class="header" href="#stakingtokenprovider">stakingTokenProvider</a></h3>
<pre><code class="language-solidity">function stakingTokenProvider() external view returns (address);
</code></pre>
<h3 id="vaulttoken"><a class="header" href="#vaulttoken">vaultToken</a></h3>
<pre><code class="language-solidity">function vaultToken(address _stakingToken) external view returns (address);
</code></pre>
<h3 id="stakingtoken"><a class="header" href="#stakingtoken">stakingToken</a></h3>
<pre><code class="language-solidity">function stakingToken(address _vaultToken) external view returns (address);
</code></pre>
<h3 id="rewarddistributiontoken"><a class="header" href="#rewarddistributiontoken">rewardDistributionToken</a></h3>
<pre><code class="language-solidity">function rewardDistributionToken(uint vaultId) external view returns (address);
</code></pre>
<h3 id="newrewarddistributiontoken"><a class="header" href="#newrewarddistributiontoken">newRewardDistributionToken</a></h3>
<pre><code class="language-solidity">function newRewardDistributionToken(uint vaultId) external view returns (address);
</code></pre>
<h3 id="oldrewarddistributiontoken"><a class="header" href="#oldrewarddistributiontoken">oldRewardDistributionToken</a></h3>
<pre><code class="language-solidity">function oldRewardDistributionToken(uint vaultId) external view returns (address);
</code></pre>
<h3 id="unusedrewarddistributiontoken"><a class="header" href="#unusedrewarddistributiontoken">unusedRewardDistributionToken</a></h3>
<pre><code class="language-solidity">function unusedRewardDistributionToken(uint vaultId) external view returns (address);
</code></pre>
<h3 id="rewarddistributiontokenaddr"><a class="header" href="#rewarddistributiontokenaddr">rewardDistributionTokenAddr</a></h3>
<pre><code class="language-solidity">function rewardDistributionTokenAddr(address stakedToken, address rewardToken) external view returns (address);
</code></pre>
<h3 id="receiverewards-1"><a class="header" href="#receiverewards-1">receiveRewards</a></h3>
<pre><code class="language-solidity">function receiveRewards(uint vaultId, uint amount) external returns (bool);
</code></pre>
<h3 id="deposit-6"><a class="header" href="#deposit-6">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint vaultId, uint amount) external;
</code></pre>
<h3 id="timelockdepositfor"><a class="header" href="#timelockdepositfor">timelockDepositFor</a></h3>
<pre><code class="language-solidity">function timelockDepositFor(uint vaultId, address account, uint amount, uint timelockLength) external;
</code></pre>
<h3 id="exit"><a class="header" href="#exit">exit</a></h3>
<pre><code class="language-solidity">function exit(uint vaultId, uint amount) external;
</code></pre>
<h3 id="rescue"><a class="header" href="#rescue">rescue</a></h3>
<pre><code class="language-solidity">function rescue(uint vaultId) external;
</code></pre>
<h3 id="withdraw-9"><a class="header" href="#withdraw-9">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint vaultId, uint amount) external;
</code></pre>
<h3 id="claimrewards-3"><a class="header" href="#claimrewards-3">claimRewards</a></h3>
<pre><code class="language-solidity">function claimRewards(uint vaultId) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftxmarketplacezap"><a class="header" href="#inftxmarketplacezap">INFTXMarketplaceZap</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/NFTXMarketplaceZap.sol">Git Source</a></p>
<h2 id="functions-86"><a class="header" href="#functions-86">Functions</a></h2>
<h3 id="mintandsell721"><a class="header" href="#mintandsell721">mintAndSell721</a></h3>
<pre><code class="language-solidity">function mintAndSell721(uint vaultId, uint[] calldata ids, uint minEthOut, address[] calldata path, address to) external;
</code></pre>
<h3 id="buyandredeem"><a class="header" href="#buyandredeem">buyAndRedeem</a></h3>
<pre><code class="language-solidity">function buyAndRedeem(uint vaultId, uint amount, uint[] calldata specificIds, address[] calldata path, address to) external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftxstakingzap"><a class="header" href="#inftxstakingzap">INFTXStakingZap</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/NFTXStakingZap.sol">Git Source</a></p>
<h2 id="functions-87"><a class="header" href="#functions-87">Functions</a></h2>
<h3 id="lplocktime"><a class="header" href="#lplocktime">lpLockTime</a></h3>
<pre><code class="language-solidity">function lpLockTime() external returns (uint);
</code></pre>
<h3 id="inventorylocktime"><a class="header" href="#inventorylocktime">inventoryLockTime</a></h3>
<pre><code class="language-solidity">function inventoryLockTime() external returns (uint);
</code></pre>
<h3 id="assignstakingcontracts"><a class="header" href="#assignstakingcontracts">assignStakingContracts</a></h3>
<pre><code class="language-solidity">function assignStakingContracts() external;
</code></pre>
<h3 id="settimelockexcludelist-1"><a class="header" href="#settimelockexcludelist-1">setTimelockExcludeList</a></h3>
<pre><code class="language-solidity">function setTimelockExcludeList(address addr) external;
</code></pre>
<h3 id="setlplocktime"><a class="header" href="#setlplocktime">setLPLockTime</a></h3>
<pre><code class="language-solidity">function setLPLockTime(uint newLPLockTime) external;
</code></pre>
<h3 id="setinventorylocktime"><a class="header" href="#setinventorylocktime">setInventoryLockTime</a></h3>
<pre><code class="language-solidity">function setInventoryLockTime(uint newInventoryLockTime) external;
</code></pre>
<h3 id="isaddresstimelockexcluded-1"><a class="header" href="#isaddresstimelockexcluded-1">isAddressTimelockExcluded</a></h3>
<pre><code class="language-solidity">function isAddressTimelockExcluded(address addr, uint vaultId) external view returns (bool);
</code></pre>
<h3 id="provideinventory721"><a class="header" href="#provideinventory721">provideInventory721</a></h3>
<pre><code class="language-solidity">function provideInventory721(uint vaultId, uint[] calldata tokenIds) external;
</code></pre>
<h3 id="provideinventory1155"><a class="header" href="#provideinventory1155">provideInventory1155</a></h3>
<pre><code class="language-solidity">function provideInventory1155(uint vaultId, uint[] calldata tokenIds, uint[] calldata amounts) external;
</code></pre>
<h3 id="addliquidity721eth"><a class="header" href="#addliquidity721eth">addLiquidity721ETH</a></h3>
<pre><code class="language-solidity">function addLiquidity721ETH(uint vaultId, uint[] calldata ids, uint minWethIn) external payable returns (uint);
</code></pre>
<h3 id="addliquidity721ethto"><a class="header" href="#addliquidity721ethto">addLiquidity721ETHTo</a></h3>
<pre><code class="language-solidity">function addLiquidity721ETHTo(uint vaultId, uint[] memory ids, uint minWethIn, address to) external payable returns (uint);
</code></pre>
<h3 id="addliquidity1155eth"><a class="header" href="#addliquidity1155eth">addLiquidity1155ETH</a></h3>
<pre><code class="language-solidity">function addLiquidity1155ETH(uint vaultId, uint[] calldata ids, uint[] calldata amounts, uint minEthIn) external payable returns (uint);
</code></pre>
<h3 id="addliquidity1155ethto"><a class="header" href="#addliquidity1155ethto">addLiquidity1155ETHTo</a></h3>
<pre><code class="language-solidity">function addLiquidity1155ETHTo(uint vaultId, uint[] memory ids, uint[] memory amounts, uint minEthIn, address to)
    external
    payable
    returns (uint);
</code></pre>
<h3 id="addliquidity721"><a class="header" href="#addliquidity721">addLiquidity721</a></h3>
<pre><code class="language-solidity">function addLiquidity721(uint vaultId, uint[] calldata ids, uint minWethIn, uint wethIn) external returns (uint);
</code></pre>
<h3 id="addliquidity721to"><a class="header" href="#addliquidity721to">addLiquidity721To</a></h3>
<pre><code class="language-solidity">function addLiquidity721To(uint vaultId, uint[] memory ids, uint minWethIn, uint wethIn, address to) external returns (uint);
</code></pre>
<h3 id="addliquidity1155"><a class="header" href="#addliquidity1155">addLiquidity1155</a></h3>
<pre><code class="language-solidity">function addLiquidity1155(uint vaultId, uint[] memory ids, uint[] memory amounts, uint minWethIn, uint wethIn) external returns (uint);
</code></pre>
<h3 id="addliquidity1155to"><a class="header" href="#addliquidity1155to">addLiquidity1155To</a></h3>
<pre><code class="language-solidity">function addLiquidity1155To(uint vaultId, uint[] memory ids, uint[] memory amounts, uint minWethIn, uint wethIn, address to)
    external
    returns (uint);
</code></pre>
<h3 id="rescue-1"><a class="header" href="#rescue-1">rescue</a></h3>
<pre><code class="language-solidity">function rescue(address token) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftxunstakinginventoryzap"><a class="header" href="#inftxunstakinginventoryzap">INFTXUnstakingInventoryZap</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/NFTXUnstakingInventoryZap.sol">Git Source</a></p>
<h2 id="functions-88"><a class="header" href="#functions-88">Functions</a></h2>
<h3 id="unstakeinventory"><a class="header" href="#unstakeinventory">unstakeInventory</a></h3>
<pre><code class="language-solidity">function unstakeInventory(uint vaultId, uint numNfts, uint remainingPortionToUnstake) external payable;
</code></pre>
<h3 id="maxnftsusingxtoken"><a class="header" href="#maxnftsusingxtoken">maxNftsUsingXToken</a></h3>
<pre><code class="language-solidity">function maxNftsUsingXToken(uint vaultId, address staker, address slpToken) external returns (uint numNfts, bool shortByTinyAmount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftxvault"><a class="header" href="#inftxvault">INFTXVault</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/NFTXVault.sol">Git Source</a></p>
<h2 id="functions-89"><a class="header" href="#functions-89">Functions</a></h2>
<h3 id="manager"><a class="header" href="#manager">manager</a></h3>
<pre><code class="language-solidity">function manager() external view returns (address);
</code></pre>
<h3 id="assetaddress-2"><a class="header" href="#assetaddress-2">assetAddress</a></h3>
<pre><code class="language-solidity">function assetAddress() external view returns (address);
</code></pre>
<h3 id="is1155-1"><a class="header" href="#is1155-1">is1155</a></h3>
<pre><code class="language-solidity">function is1155() external view returns (bool);
</code></pre>
<h3 id="allowallitems"><a class="header" href="#allowallitems">allowAllItems</a></h3>
<pre><code class="language-solidity">function allowAllItems() external view returns (bool);
</code></pre>
<h3 id="enablemint"><a class="header" href="#enablemint">enableMint</a></h3>
<pre><code class="language-solidity">function enableMint() external view returns (bool);
</code></pre>
<h3 id="enablerandomredeem"><a class="header" href="#enablerandomredeem">enableRandomRedeem</a></h3>
<pre><code class="language-solidity">function enableRandomRedeem() external view returns (bool);
</code></pre>
<h3 id="enabletargetredeem"><a class="header" href="#enabletargetredeem">enableTargetRedeem</a></h3>
<pre><code class="language-solidity">function enableTargetRedeem() external view returns (bool);
</code></pre>
<h3 id="enablerandomswap"><a class="header" href="#enablerandomswap">enableRandomSwap</a></h3>
<pre><code class="language-solidity">function enableRandomSwap() external view returns (bool);
</code></pre>
<h3 id="enabletargetswap"><a class="header" href="#enabletargetswap">enableTargetSwap</a></h3>
<pre><code class="language-solidity">function enableTargetSwap() external view returns (bool);
</code></pre>
<h3 id="vaultid-2"><a class="header" href="#vaultid-2">vaultId</a></h3>
<pre><code class="language-solidity">function vaultId() external view returns (uint);
</code></pre>
<h3 id="nftidat"><a class="header" href="#nftidat">nftIdAt</a></h3>
<pre><code class="language-solidity">function nftIdAt(uint holdingsIndex) external view returns (uint);
</code></pre>
<h3 id="allholdings"><a class="header" href="#allholdings">allHoldings</a></h3>
<pre><code class="language-solidity">function allHoldings() external view returns (uint[] memory);
</code></pre>
<h3 id="totalholdings"><a class="header" href="#totalholdings">totalHoldings</a></h3>
<pre><code class="language-solidity">function totalHoldings() external view returns (uint);
</code></pre>
<h3 id="mintfee"><a class="header" href="#mintfee">mintFee</a></h3>
<pre><code class="language-solidity">function mintFee() external view returns (uint);
</code></pre>
<h3 id="randomredeemfee"><a class="header" href="#randomredeemfee">randomRedeemFee</a></h3>
<pre><code class="language-solidity">function randomRedeemFee() external view returns (uint);
</code></pre>
<h3 id="targetredeemfee"><a class="header" href="#targetredeemfee">targetRedeemFee</a></h3>
<pre><code class="language-solidity">function targetRedeemFee() external view returns (uint);
</code></pre>
<h3 id="randomswapfee"><a class="header" href="#randomswapfee">randomSwapFee</a></h3>
<pre><code class="language-solidity">function randomSwapFee() external view returns (uint);
</code></pre>
<h3 id="targetswapfee"><a class="header" href="#targetswapfee">targetSwapFee</a></h3>
<pre><code class="language-solidity">function targetSwapFee() external view returns (uint);
</code></pre>
<h3 id="vaultfees"><a class="header" href="#vaultfees">vaultFees</a></h3>
<pre><code class="language-solidity">function vaultFees() external view returns (uint, uint, uint, uint, uint);
</code></pre>
<h3 id="redeem"><a class="header" href="#redeem">redeem</a></h3>
<pre><code class="language-solidity">function redeem(uint amount, uint[] calldata specificIds) external returns (uint[] calldata);
</code></pre>
<h3 id="redeemto"><a class="header" href="#redeemto">redeemTo</a></h3>
<pre><code class="language-solidity">function redeemTo(uint amount, uint[] calldata specificIds, address to) external returns (uint[] calldata);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftxvaultfactory"><a class="header" href="#inftxvaultfactory">INFTXVaultFactory</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/NFTXVaultFactory.sol">Git Source</a></p>
<h2 id="functions-90"><a class="header" href="#functions-90">Functions</a></h2>
<h3 id="numvaults"><a class="header" href="#numvaults">numVaults</a></h3>
<pre><code class="language-solidity">function numVaults() external view returns (uint);
</code></pre>
<h3 id="zapcontract"><a class="header" href="#zapcontract">zapContract</a></h3>
<pre><code class="language-solidity">function zapContract() external view returns (address);
</code></pre>
<h3 id="zapcontracts"><a class="header" href="#zapcontracts">zapContracts</a></h3>
<pre><code class="language-solidity">function zapContracts(address addr) external view returns (bool);
</code></pre>
<h3 id="feedistributor"><a class="header" href="#feedistributor">feeDistributor</a></h3>
<pre><code class="language-solidity">function feeDistributor() external view returns (address);
</code></pre>
<h3 id="eligibilitymanager"><a class="header" href="#eligibilitymanager">eligibilityManager</a></h3>
<pre><code class="language-solidity">function eligibilityManager() external view returns (address);
</code></pre>
<h3 id="vault"><a class="header" href="#vault">vault</a></h3>
<pre><code class="language-solidity">function vault(uint vaultId) external view returns (address);
</code></pre>
<h3 id="allvaults"><a class="header" href="#allvaults">allVaults</a></h3>
<pre><code class="language-solidity">function allVaults() external view returns (address[] memory);
</code></pre>
<h3 id="vaultsforasset"><a class="header" href="#vaultsforasset">vaultsForAsset</a></h3>
<pre><code class="language-solidity">function vaultsForAsset(address asset) external view returns (address[] memory);
</code></pre>
<h3 id="islocked-1"><a class="header" href="#islocked-1">isLocked</a></h3>
<pre><code class="language-solidity">function isLocked(uint id) external view returns (bool);
</code></pre>
<h3 id="excludedfromfees"><a class="header" href="#excludedfromfees">excludedFromFees</a></h3>
<pre><code class="language-solidity">function excludedFromFees(address addr) external view returns (bool);
</code></pre>
<h3 id="factorymintfee"><a class="header" href="#factorymintfee">factoryMintFee</a></h3>
<pre><code class="language-solidity">function factoryMintFee() external view returns (uint64);
</code></pre>
<h3 id="factoryrandomredeemfee"><a class="header" href="#factoryrandomredeemfee">factoryRandomRedeemFee</a></h3>
<pre><code class="language-solidity">function factoryRandomRedeemFee() external view returns (uint64);
</code></pre>
<h3 id="factorytargetredeemfee"><a class="header" href="#factorytargetredeemfee">factoryTargetRedeemFee</a></h3>
<pre><code class="language-solidity">function factoryTargetRedeemFee() external view returns (uint64);
</code></pre>
<h3 id="factoryrandomswapfee"><a class="header" href="#factoryrandomswapfee">factoryRandomSwapFee</a></h3>
<pre><code class="language-solidity">function factoryRandomSwapFee() external view returns (uint64);
</code></pre>
<h3 id="factorytargetswapfee"><a class="header" href="#factorytargetswapfee">factoryTargetSwapFee</a></h3>
<pre><code class="language-solidity">function factoryTargetSwapFee() external view returns (uint64);
</code></pre>
<h3 id="vaultfees-1"><a class="header" href="#vaultfees-1">vaultFees</a></h3>
<pre><code class="language-solidity">function vaultFees(uint vaultId) external view returns (uint, uint, uint, uint, uint);
</code></pre>
<h3 id="__nftxvaultfactory_init"><a class="header" href="#__nftxvaultfactory_init">__NFTXVaultFactory_init</a></h3>
<pre><code class="language-solidity">function __NFTXVaultFactory_init(address _vaultImpl, address _feeDistributor) external;
</code></pre>
<h3 id="createvault"><a class="header" href="#createvault">createVault</a></h3>
<pre><code class="language-solidity">function createVault(string calldata name, string calldata symbol, address _assetAddress, bool is1155, bool allowAllItems)
    external
    returns (uint);
</code></pre>
<h3 id="setfeedistributor"><a class="header" href="#setfeedistributor">setFeeDistributor</a></h3>
<pre><code class="language-solidity">function setFeeDistributor(address _feeDistributor) external;
</code></pre>
<h3 id="seteligibilitymanager"><a class="header" href="#seteligibilitymanager">setEligibilityManager</a></h3>
<pre><code class="language-solidity">function setEligibilityManager(address _eligibilityManager) external;
</code></pre>
<h3 id="setzapcontract"><a class="header" href="#setzapcontract">setZapContract</a></h3>
<pre><code class="language-solidity">function setZapContract(address _zapContract, bool _excluded) external;
</code></pre>
<h3 id="setfeeexclusion"><a class="header" href="#setfeeexclusion">setFeeExclusion</a></h3>
<pre><code class="language-solidity">function setFeeExclusion(address _excludedAddr, bool excluded) external;
</code></pre>
<h3 id="setfactoryfees"><a class="header" href="#setfactoryfees">setFactoryFees</a></h3>
<pre><code class="language-solidity">function setFactoryFees(uint mintFee, uint randomRedeemFee, uint targetRedeemFee, uint randomSwapFee, uint targetSwapFee) external;
</code></pre>
<h3 id="setvaultfees"><a class="header" href="#setvaultfees">setVaultFees</a></h3>
<pre><code class="language-solidity">function setVaultFees(uint vaultId, uint mintFee, uint randomRedeemFee, uint targetRedeemFee, uint randomSwapFee, uint targetSwapFee)
    external;
</code></pre>
<h3 id="disablevaultfees"><a class="header" href="#disablevaultfees">disableVaultFees</a></h3>
<pre><code class="language-solidity">function disableVaultFees(uint vaultId) external;
</code></pre>
<h2 id="events-7"><a class="header" href="#events-7">Events</a></h2>
<h3 id="newfeedistributor"><a class="header" href="#newfeedistributor">NewFeeDistributor</a></h3>
<pre><code class="language-solidity">event NewFeeDistributor(address oldDistributor, address newDistributor);
</code></pre>
<h3 id="newzapcontract"><a class="header" href="#newzapcontract">NewZapContract</a></h3>
<pre><code class="language-solidity">event NewZapContract(address oldZap, address newZap);
</code></pre>
<h3 id="updatedzapcontract"><a class="header" href="#updatedzapcontract">UpdatedZapContract</a></h3>
<pre><code class="language-solidity">event UpdatedZapContract(address zap, bool excluded);
</code></pre>
<h3 id="feeexclusion"><a class="header" href="#feeexclusion">FeeExclusion</a></h3>
<pre><code class="language-solidity">event FeeExclusion(address feeExcluded, bool excluded);
</code></pre>
<h3 id="neweligibilitymanager"><a class="header" href="#neweligibilitymanager">NewEligibilityManager</a></h3>
<pre><code class="language-solidity">event NewEligibilityManager(address oldEligManager, address newEligManager);
</code></pre>
<h3 id="newvault"><a class="header" href="#newvault">NewVault</a></h3>
<pre><code class="language-solidity">event NewVault(uint indexed vaultId, address vaultAddress, address assetAddress);
</code></pre>
<h3 id="updatevaultfees"><a class="header" href="#updatevaultfees">UpdateVaultFees</a></h3>
<pre><code class="language-solidity">event UpdateVaultFees(uint vaultId, uint mintFee, uint randomRedeemFee, uint targetRedeemFee, uint randomSwapFee, uint targetSwapFee);
</code></pre>
<h3 id="disablevaultfees-1"><a class="header" href="#disablevaultfees-1">DisableVaultFees</a></h3>
<pre><code class="language-solidity">event DisableVaultFees(uint vaultId);
</code></pre>
<h3 id="updatefactoryfees"><a class="header" href="#updatefactoryfees">UpdateFactoryFees</a></h3>
<pre><code class="language-solidity">event UpdateFactoryFees(uint mintFee, uint randomRedeemFee, uint targetRedeemFee, uint randomSwapFee, uint targetSwapFee);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itimelockrewarddistributiontoken"><a class="header" href="#itimelockrewarddistributiontoken">ITimelockRewardDistributionToken</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/nftx/TimelockRewardDistributionToken.sol">Git Source</a></p>
<h2 id="functions-91"><a class="header" href="#functions-91">Functions</a></h2>
<h3 id="distributerewards"><a class="header" href="#distributerewards">distributeRewards</a></h3>
<pre><code class="language-solidity">function distributeRewards(uint amount) external;
</code></pre>
<h3 id="mint-4"><a class="header" href="#mint-4">mint</a></h3>
<pre><code class="language-solidity">function mint(address account, address to, uint amount) external;
</code></pre>
<h3 id="timelockmint"><a class="header" href="#timelockmint">timelockMint</a></h3>
<pre><code class="language-solidity">function timelockMint(address account, uint amount, uint timelockLength) external;
</code></pre>
<h3 id="burnfrom"><a class="header" href="#burnfrom">burnFrom</a></h3>
<pre><code class="language-solidity">function burnFrom(address account, uint amount) external;
</code></pre>
<h3 id="withdrawreward"><a class="header" href="#withdrawreward">withdrawReward</a></h3>
<pre><code class="language-solidity">function withdrawReward(address user) external;
</code></pre>
<h3 id="dividendof"><a class="header" href="#dividendof">dividendOf</a></h3>
<pre><code class="language-solidity">function dividendOf(address _owner) external view returns (uint);
</code></pre>
<h3 id="withdrawnrewardof"><a class="header" href="#withdrawnrewardof">withdrawnRewardOf</a></h3>
<pre><code class="language-solidity">function withdrawnRewardOf(address _owner) external view returns (uint);
</code></pre>
<h3 id="accumulativerewardof"><a class="header" href="#accumulativerewardof">accumulativeRewardOf</a></h3>
<pre><code class="language-solidity">function accumulativeRewardOf(address _owner) external view returns (uint);
</code></pre>
<h3 id="timelockuntil-1"><a class="header" href="#timelockuntil-1">timelockUntil</a></h3>
<pre><code class="language-solidity">function timelockUntil(address account) external view returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-39"><a class="header" href="#contents-39">Contents</a></h1>
<ul>
<li><a href="src/interfaces/pricing/BasePricingExecutor.sol/contract.IBasePricingExecutor.html">IBasePricingExecutor</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibasepricingexecutor"><a class="header" href="#ibasepricingexecutor">IBasePricingExecutor</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/pricing/BasePricingExecutor.sol">Git Source</a></p>
<p>Pricing Executors will provide our Treasury with the pricing knowledge needed
to equate a reward token to that of FLOOR. Each executor will implement a single
pricing strategy that can be implemented by the Treasury.
This base strategy will need to be inherited and extended upon by other pricing
exectors to ensure that the required logic and functionality is made available.</p>
<h2 id="functions-92"><a class="header" href="#functions-92">Functions</a></h2>
<h3 id="name-2"><a class="header" href="#name-2">name</a></h3>
<p>Name of the pricing executor.</p>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<h3 id="getethprice-1"><a class="header" href="#getethprice-1">getETHPrice</a></h3>
<p>Gets our current mapped price of a token to ETH.</p>
<pre><code class="language-solidity">function getETHPrice(address token) external returns (uint);
</code></pre>
<h3 id="getethprices-1"><a class="header" href="#getethprices-1">getETHPrices</a></h3>
<p>Gets our current mapped price of multiple tokens to ETH.</p>
<pre><code class="language-solidity">function getETHPrices(address[] memory token) external returns (uint[] memory);
</code></pre>
<h3 id="getfloorprice-1"><a class="header" href="#getfloorprice-1">getFloorPrice</a></h3>
<p>Gets our current mapped price of a token to FLOOR.</p>
<pre><code class="language-solidity">function getFloorPrice(address token) external returns (uint);
</code></pre>
<h3 id="getfloorprices-1"><a class="header" href="#getfloorprices-1">getFloorPrices</a></h3>
<p>Gets our current mapped price of multiple tokens to FLOOR.</p>
<pre><code class="language-solidity">function getFloorPrices(address[] memory token) external returns (uint[] memory);
</code></pre>
<h3 id="getlatestfloorprice-1"><a class="header" href="#getlatestfloorprice-1">getLatestFloorPrice</a></h3>
<p>Gets the latest stored FLOOR token price equivalent to a token. If the price has
not been queried before, then we cache and return a new price.</p>
<pre><code class="language-solidity">function getLatestFloorPrice(address token) external view returns (uint);
</code></pre>
<h3 id="getliquidity-1"><a class="header" href="#getliquidity-1">getLiquidity</a></h3>
<p>..</p>
<pre><code class="language-solidity">function getLiquidity(address token) external returns (uint);
</code></pre>
<h2 id="events-8"><a class="header" href="#events-8">Events</a></h2>
<h3 id="tokenpriceupdated"><a class="header" href="#tokenpriceupdated">TokenPriceUpdated</a></h3>
<p><em>When a token price is updated</em></p>
<pre><code class="language-solidity">event TokenPriceUpdated(address token, uint amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-40"><a class="header" href="#contents-40">Contents</a></h1>
<ul>
<li><a href="src/interfaces/staking//src/interfaces/staking/calculators">calculators</a></li>
<li><a href="src/interfaces/staking//src/interfaces/staking/strategies">strategies</a></li>
<li><a href="src/interfaces/staking/NftStaking.sol/contract.INftStaking.html">INftStaking</a></li>
<li><a href="src/interfaces/staking/VeFloorStaking.sol/struct.Depositor.html">Depositor</a></li>
<li><a href="src/interfaces/staking/VeFloorStaking.sol/contract.IVeFloorStaking.html">IVeFloorStaking</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-41"><a class="header" href="#contents-41">Contents</a></h1>
<ul>
<li><a href="src/interfaces/staking/calculators/NftStakingBoostCalculator.sol/contract.INftStakingBoostCalculator.html">INftStakingBoostCalculator</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftstakingboostcalculator"><a class="header" href="#inftstakingboostcalculator">INftStakingBoostCalculator</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/staking/calculators/NftStakingBoostCalculator.sol">Git Source</a></p>
<h2 id="functions-93"><a class="header" href="#functions-93">Functions</a></h2>
<h3 id="calculate-3"><a class="header" href="#calculate-3">calculate</a></h3>
<pre><code class="language-solidity">function calculate(uint sweepPower, uint sweepTotal, uint sweepModifier) external view returns (uint boost_);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-42"><a class="header" href="#contents-42">Contents</a></h1>
<ul>
<li><a href="src/interfaces/staking/strategies/NftStakingStrategy.sol/contract.INftStakingStrategy.html">INftStakingStrategy</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftstakingstrategy"><a class="header" href="#inftstakingstrategy">INftStakingStrategy</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/staking/strategies/NftStakingStrategy.sol">Git Source</a></p>
<h2 id="functions-94"><a class="header" href="#functions-94">Functions</a></h2>
<h3 id="approvaladdress-2"><a class="header" href="#approvaladdress-2">approvalAddress</a></h3>
<pre><code class="language-solidity">function approvalAddress() external view returns (address);
</code></pre>
<h3 id="stake-3"><a class="header" href="#stake-3">stake</a></h3>
<pre><code class="language-solidity">function stake(address _user, address _collection, uint[] calldata _tokenId, uint[] calldata _amounts, bool _is1155) external;
</code></pre>
<h3 id="unstake-4"><a class="header" href="#unstake-4">unstake</a></h3>
<pre><code class="language-solidity">function unstake(address recipient, address _collection, uint numNfts, uint baseNfts, uint remainingPortionToUnstake, bool _is1155)
    external;
</code></pre>
<h3 id="rewardsavailable-2"><a class="header" href="#rewardsavailable-2">rewardsAvailable</a></h3>
<pre><code class="language-solidity">function rewardsAvailable(address _collection) external returns (uint);
</code></pre>
<h3 id="claimrewards-4"><a class="header" href="#claimrewards-4">claimRewards</a></h3>
<pre><code class="language-solidity">function claimRewards(address _collection) external returns (uint);
</code></pre>
<h3 id="underlyingtoken-4"><a class="header" href="#underlyingtoken-4">underlyingToken</a></h3>
<pre><code class="language-solidity">function underlyingToken(address _collection) external view returns (address);
</code></pre>
<h3 id="setunderlyingtoken-2"><a class="header" href="#setunderlyingtoken-2">setUnderlyingToken</a></h3>
<pre><code class="language-solidity">function setUnderlyingToken(address _collection, address _token, address _xToken) external;
</code></pre>
<h3 id="onerc721received-9"><a class="header" href="#onerc721received-9">onERC721Received</a></h3>
<pre><code class="language-solidity">function onERC721Received(address, address, uint, bytes memory) external returns (bytes4);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inftstaking"><a class="header" href="#inftstaking">INftStaking</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/staking/NftStaking.sol">Git Source</a></p>
<h2 id="functions-95"><a class="header" href="#functions-95">Functions</a></h2>
<h3 id="collectionstakerindex-1"><a class="header" href="#collectionstakerindex-1">collectionStakerIndex</a></h3>
<pre><code class="language-solidity">function collectionStakerIndex(bytes32) external returns (uint);
</code></pre>
<h3 id="votediscount-1"><a class="header" href="#votediscount-1">voteDiscount</a></h3>
<pre><code class="language-solidity">function voteDiscount() external returns (uint16);
</code></pre>
<h3 id="sweepmodifier-1"><a class="header" href="#sweepmodifier-1">sweepModifier</a></h3>
<pre><code class="language-solidity">function sweepModifier() external returns (uint64);
</code></pre>
<h3 id="collectionboost-2"><a class="header" href="#collectionboost-2">collectionBoost</a></h3>
<pre><code class="language-solidity">function collectionBoost(address _collection) external view returns (uint boost_);
</code></pre>
<h3 id="collectionboost-3"><a class="header" href="#collectionboost-3">collectionBoost</a></h3>
<pre><code class="language-solidity">function collectionBoost(address _collection, uint _epoch) external view returns (uint boost_);
</code></pre>
<h3 id="stake-4"><a class="header" href="#stake-4">stake</a></h3>
<pre><code class="language-solidity">function stake(address _collection, uint[] calldata _tokenId, uint[] calldata _amount, uint8 _epochCount, bool _is1155) external;
</code></pre>
<h3 id="unstake-5"><a class="header" href="#unstake-5">unstake</a></h3>
<pre><code class="language-solidity">function unstake(address _collection, bool _is1155) external;
</code></pre>
<h3 id="unstake-6"><a class="header" href="#unstake-6">unstake</a></h3>
<pre><code class="language-solidity">function unstake(address _collection, address _nftStakingStrategy, bool _is1155) external;
</code></pre>
<h3 id="unstakefees-1"><a class="header" href="#unstakefees-1">unstakeFees</a></h3>
<pre><code class="language-solidity">function unstakeFees(address _collection) external returns (uint);
</code></pre>
<h3 id="setvotediscount-1"><a class="header" href="#setvotediscount-1">setVoteDiscount</a></h3>
<pre><code class="language-solidity">function setVoteDiscount(uint16 _voteDiscount) external;
</code></pre>
<h3 id="setsweepmodifier-1"><a class="header" href="#setsweepmodifier-1">setSweepModifier</a></h3>
<pre><code class="language-solidity">function setSweepModifier(uint64 _sweepModifier) external;
</code></pre>
<h3 id="setpricingexecutor-2"><a class="header" href="#setpricingexecutor-2">setPricingExecutor</a></h3>
<pre><code class="language-solidity">function setPricingExecutor(address _pricingExecutor) external;
</code></pre>
<h3 id="setboostcalculator-1"><a class="header" href="#setboostcalculator-1">setBoostCalculator</a></h3>
<pre><code class="language-solidity">function setBoostCalculator(address _boostCalculator) external;
</code></pre>
<h3 id="claimrewards-5"><a class="header" href="#claimrewards-5">claimRewards</a></h3>
<pre><code class="language-solidity">function claimRewards(address _collection) external;
</code></pre>
<h2 id="events-9"><a class="header" href="#events-9">Events</a></h2>
<h3 id="tokensstaked-1"><a class="header" href="#tokensstaked-1">TokensStaked</a></h3>
<p>Emitted when a token is staked</p>
<pre><code class="language-solidity">event TokensStaked(address sender, uint tokens, uint tokenValue, uint currentEpoch, uint8 epochCount);
</code></pre>
<h3 id="tokensunstaked"><a class="header" href="#tokensunstaked">TokensUnstaked</a></h3>
<p>Emitted when a token is unstaked</p>
<pre><code class="language-solidity">event TokensUnstaked(address sender, uint numNfts, uint remainingPortionToUnstake, uint fees);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="depositor"><a class="header" href="#depositor">Depositor</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/staking/VeFloorStaking.sol">Git Source</a></p>
<pre><code class="language-solidity">struct Depositor {
    uint160 epochStart;
    uint8 epochCount;
    uint88 amount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ivefloorstaking"><a class="header" href="#ivefloorstaking">IVeFloorStaking</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/staking/VeFloorStaking.sol">Git Source</a></p>
<h2 id="functions-96"><a class="header" href="#functions-96">Functions</a></h2>
<h3 id="lock_periods-2"><a class="header" href="#lock_periods-2">LOCK_PERIODS</a></h3>
<p>Set a list of locking periods that the user can lock for</p>
<pre><code class="language-solidity">function LOCK_PERIODS(uint) external returns (uint8);
</code></pre>
<h3 id="earlywithdrawfeeexemptions-1"><a class="header" href="#earlywithdrawfeeexemptions-1">earlyWithdrawFeeExemptions</a></h3>
<pre><code class="language-solidity">function earlyWithdrawFeeExemptions(address) external returns (bool);
</code></pre>
<h3 id="depositors-1"><a class="header" href="#depositors-1">depositors</a></h3>
<pre><code class="language-solidity">function depositors(address) external returns (uint160, uint8, uint88);
</code></pre>
<h3 id="totaldeposits-1"><a class="header" href="#totaldeposits-1">totalDeposits</a></h3>
<pre><code class="language-solidity">function totalDeposits() external returns (uint);
</code></pre>
<h3 id="emergencyexit-1"><a class="header" href="#emergencyexit-1">emergencyExit</a></h3>
<pre><code class="language-solidity">function emergencyExit() external returns (bool);
</code></pre>
<h3 id="maxlossratio-1"><a class="header" href="#maxlossratio-1">maxLossRatio</a></h3>
<pre><code class="language-solidity">function maxLossRatio() external returns (uint);
</code></pre>
<h3 id="minlockperiodratio-1"><a class="header" href="#minlockperiodratio-1">minLockPeriodRatio</a></h3>
<pre><code class="language-solidity">function minLockPeriodRatio() external returns (uint);
</code></pre>
<h3 id="feereceiver-1"><a class="header" href="#feereceiver-1">feeReceiver</a></h3>
<pre><code class="language-solidity">function feeReceiver() external returns (address);
</code></pre>
<h3 id="setfeereceiver-1"><a class="header" href="#setfeereceiver-1">setFeeReceiver</a></h3>
<pre><code class="language-solidity">function setFeeReceiver(address feeReceiver_) external;
</code></pre>
<h3 id="setmaxlossratio-1"><a class="header" href="#setmaxlossratio-1">setMaxLossRatio</a></h3>
<pre><code class="language-solidity">function setMaxLossRatio(uint maxLossRatio_) external;
</code></pre>
<h3 id="setminlockperiodratio-1"><a class="header" href="#setminlockperiodratio-1">setMinLockPeriodRatio</a></h3>
<pre><code class="language-solidity">function setMinLockPeriodRatio(uint minLockPeriodRatio_) external;
</code></pre>
<h3 id="setemergencyexit-1"><a class="header" href="#setemergencyexit-1">setEmergencyExit</a></h3>
<pre><code class="language-solidity">function setEmergencyExit(bool emergencyExit_) external;
</code></pre>
<h3 id="votingpowerat-1"><a class="header" href="#votingpowerat-1">votingPowerAt</a></h3>
<pre><code class="language-solidity">function votingPowerAt(address account, uint epoch) external view returns (uint);
</code></pre>
<h3 id="votingpowerofat-1"><a class="header" href="#votingpowerofat-1">votingPowerOfAt</a></h3>
<pre><code class="language-solidity">function votingPowerOfAt(address account, uint88 amount, uint epoch) external view returns (uint);
</code></pre>
<h3 id="deposit-7"><a class="header" href="#deposit-7">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint amount, uint epochs) external;
</code></pre>
<h3 id="depositwithpermit-1"><a class="header" href="#depositwithpermit-1">depositWithPermit</a></h3>
<pre><code class="language-solidity">function depositWithPermit(uint amount, uint epochs, bytes calldata permit) external;
</code></pre>
<h3 id="depositfor-1"><a class="header" href="#depositfor-1">depositFor</a></h3>
<pre><code class="language-solidity">function depositFor(address account, uint amount) external;
</code></pre>
<h3 id="depositforwithpermit-1"><a class="header" href="#depositforwithpermit-1">depositForWithPermit</a></h3>
<pre><code class="language-solidity">function depositForWithPermit(address account, uint amount, bytes calldata permit) external;
</code></pre>
<h3 id="earlywithdraw-1"><a class="header" href="#earlywithdraw-1">earlyWithdraw</a></h3>
<pre><code class="language-solidity">function earlyWithdraw(uint minReturn, uint maxLoss) external;
</code></pre>
<h3 id="earlywithdrawto-1"><a class="header" href="#earlywithdrawto-1">earlyWithdrawTo</a></h3>
<pre><code class="language-solidity">function earlyWithdrawTo(address to, uint minReturn, uint maxLoss) external;
</code></pre>
<h3 id="earlywithdrawloss-1"><a class="header" href="#earlywithdrawloss-1">earlyWithdrawLoss</a></h3>
<pre><code class="language-solidity">function earlyWithdrawLoss(address account) external view returns (uint loss, uint ret, bool canWithdraw);
</code></pre>
<h3 id="withdraw-10"><a class="header" href="#withdraw-10">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw() external;
</code></pre>
<h3 id="withdrawto-1"><a class="header" href="#withdrawto-1">withdrawTo</a></h3>
<pre><code class="language-solidity">function withdrawTo(address to) external;
</code></pre>
<h3 id="isexemptfromearlywithdrawfees-1"><a class="header" href="#isexemptfromearlywithdrawfees-1">isExemptFromEarlyWithdrawFees</a></h3>
<pre><code class="language-solidity">function isExemptFromEarlyWithdrawFees(address account) external view returns (bool);
</code></pre>
<h3 id="addearlywithdrawfeeexemption-1"><a class="header" href="#addearlywithdrawfeeexemption-1">addEarlyWithdrawFeeExemption</a></h3>
<pre><code class="language-solidity">function addEarlyWithdrawFeeExemption(address account, bool exempt) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-43"><a class="header" href="#contents-43">Contents</a></h1>
<ul>
<li><a href="src/interfaces/strategies/BaseStrategy.sol/contract.IBaseStrategy.html">IBaseStrategy</a></li>
<li><a href="src/interfaces/strategies/StrategyFactory.sol/contract.IStrategyFactory.html">IStrategyFactory</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibasestrategy"><a class="header" href="#ibasestrategy">IBaseStrategy</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/strategies/BaseStrategy.sol">Git Source</a></p>
<p>Strategies will hold the logic for interacting with external platforms to stake
and harvest reward yield. Each vault will require its own strategy implementation
to allow for different immutable variables to be defined during construct.
This will follow a similar approach to how NFTX offer their eligibility module
logic, with a lot of the power coming from inheritence.
When constructed, we want to give the {Treasury} a max uint approval of the yield
and underlying tokens.</p>
<h2 id="functions-97"><a class="header" href="#functions-97">Functions</a></h2>
<h3 id="initialize-4"><a class="header" href="#initialize-4">initialize</a></h3>
<p>Allows the vault to be initialised.</p>
<pre><code class="language-solidity">function initialize(bytes32 name, uint strategyId, bytes calldata initData) external;
</code></pre>
<h3 id="name-3"><a class="header" href="#name-3">name</a></h3>
<p>Name of the strategy.</p>
<pre><code class="language-solidity">function name() external view returns (bytes32);
</code></pre>
<h3 id="strategyid-1"><a class="header" href="#strategyid-1">strategyId</a></h3>
<p>The numerical ID of the vault that acts as an index for the {StrategyFactory}.</p>
<pre><code class="language-solidity">function strategyId() external view returns (uint);
</code></pre>
<h3 id="lifetimerewards-1"><a class="header" href="#lifetimerewards-1">lifetimeRewards</a></h3>
<p>Total rewards generated by the strategy in all time. This is pure bragging rights.</p>
<pre><code class="language-solidity">function lifetimeRewards(address token) external returns (uint amount_);
</code></pre>
<h3 id="lastepochrewards-1"><a class="header" href="#lastepochrewards-1">lastEpochRewards</a></h3>
<p>The amount of rewards claimed in the last claim call.</p>
<pre><code class="language-solidity">function lastEpochRewards(address token) external returns (uint amount_);
</code></pre>
<h3 id="available-5"><a class="header" href="#available-5">available</a></h3>
<p>Gets rewards that are available to harvest.</p>
<pre><code class="language-solidity">function available() external returns (address[] memory, uint[] memory);
</code></pre>
<h3 id="harvest-6"><a class="header" href="#harvest-6">harvest</a></h3>
<p>Extracts all rewards from third party and moves it to a recipient. This should
only be called by a specific action.</p>
<p><em>This <em>should</em> always be imposed to be the {Treasury} by the {StrategyFactory}.</em></p>
<pre><code class="language-solidity">function harvest(address) external;
</code></pre>
<h3 id="validtokens-5"><a class="header" href="#validtokens-5">validTokens</a></h3>
<p>Returns an array of tokens that the strategy supports.</p>
<pre><code class="language-solidity">function validTokens() external view returns (address[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] The address of valid tokens</td></tr>
</tbody></table>
</div>
<h3 id="pause-3"><a class="header" href="#pause-3">pause</a></h3>
<p>Pauses deposits from being made into the vault. This should only be called by
a guardian or governor.</p>
<pre><code class="language-solidity">function pause(bool _p) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_p</code></td><td><code>bool</code></td><td>Boolean value for if the vault should be paused</td></tr>
</tbody></table>
</div>
<h3 id="snapshot-3"><a class="header" href="#snapshot-3">snapshot</a></h3>
<p>..</p>
<pre><code class="language-solidity">function snapshot() external returns (address[] memory, uint[] memory);
</code></pre>
<h2 id="events-10"><a class="header" href="#events-10">Events</a></h2>
<h3 id="deposit-8"><a class="header" href="#deposit-8">Deposit</a></h3>
<p><em>When strategy receives a deposit</em></p>
<pre><code class="language-solidity">event Deposit(address token, uint amount, address caller);
</code></pre>
<h3 id="harvest-7"><a class="header" href="#harvest-7">Harvest</a></h3>
<p><em>When strategy is harvested</em></p>
<pre><code class="language-solidity">event Harvest(address token, uint amount);
</code></pre>
<h3 id="withdraw-11"><a class="header" href="#withdraw-11">Withdraw</a></h3>
<p><em>When a staked user exits their position</em></p>
<pre><code class="language-solidity">event Withdraw(address token, uint amount, address caller);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="istrategyfactory"><a class="header" href="#istrategyfactory">IStrategyFactory</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/strategies/StrategyFactory.sol">Git Source</a></p>
<p>Allows for vaults to be created, pairing them with a {Strategy} and an approved
collection. The vault creation script needs to be as highly optimised as possible
to ensure that the gas costs are kept down.
This factory will keep an index of created vaults and secondary information to ensure
that external applications can display and maintain a list of available vaults.
The contract can be paused to prevent the creation of new vaults.</p>
<h2 id="functions-98"><a class="header" href="#functions-98">Functions</a></h2>
<h3 id="strategies-1"><a class="header" href="#strategies-1">strategies</a></h3>
<p>Provides a list of all strategies created.</p>
<pre><code class="language-solidity">function strategies() external view returns (address[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>Array of all strategies created by the {StrategyFactory}</td></tr>
</tbody></table>
</div>
<h3 id="strategy-1"><a class="header" href="#strategy-1">strategy</a></h3>
<p>Provides a strategy against the provided <code>strategyId</code> (index). If the index does not exist,
then address(0) will be returned.</p>
<pre><code class="language-solidity">function strategy(uint _strategyId) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>ID of the strategy to retrieve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>Address of the strategy</td></tr>
</tbody></table>
</div>
<h3 id="deploystrategy-1"><a class="header" href="#deploystrategy-1">deployStrategy</a></h3>
<p>Creates a vault with an approved collection.</p>
<p><em>The vault is not created using Clones as there are complications when allocated
roles and permissions.</em></p>
<pre><code class="language-solidity">function deployStrategy(bytes32 _name, address _strategy, bytes calldata _strategyInitData, address _collection)
    external
    returns (uint strategyId_, address strategyAddr_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>bytes32</code></td><td>Human-readable name of the vault</td></tr>
<tr><td><code>_strategy</code></td><td><code>address</code></td><td>The strategy implemented by the vault</td></tr>
<tr><td><code>_strategyInitData</code></td><td><code>bytes</code></td><td>Bytes data required by the {Strategy} for initialization</td></tr>
<tr><td><code>_collection</code></td><td><code>address</code></td><td>The address of the collection attached to the vault</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>strategyId_</code></td><td><code>uint256</code></td><td>ID of the newly created vault</td></tr>
<tr><td><code>strategyAddr_</code></td><td><code>address</code></td><td>Address of the newly created vault</td></tr>
</tbody></table>
</div>
<h3 id="pause-4"><a class="header" href="#pause-4">pause</a></h3>
<p>Allows individual vaults to be paused, meaning that assets can no longer be deposited,
although staked assets can always be withdrawn.</p>
<p><em>Events are fired within the vault to allow listeners to update.</em></p>
<pre><code class="language-solidity">function pause(uint _strategyId, bool _paused) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
<tr><td><code>_paused</code></td><td><code>bool</code></td><td>If the vault should be paused or unpaused</td></tr>
</tbody></table>
</div>
<h3 id="snapshot-4"><a class="header" href="#snapshot-4">snapshot</a></h3>
<p>Reads the yield generated by a strategy since the last time that this function was called.</p>
<pre><code class="language-solidity">function snapshot(uint _strategyId) external returns (address[] memory tokens, uint[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td>Tokens that have been generated as yield</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>The amount of yield generated for the corresponding token</td></tr>
</tbody></table>
</div>
<h3 id="harvest-8"><a class="header" href="#harvest-8">harvest</a></h3>
<p>Harvest available reward yield from the strategy. This won't affect the amount
depositted into the contract and should only harvest rewards directly into the
{Treasury}.</p>
<pre><code class="language-solidity">function harvest(uint _strategyId) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-12"><a class="header" href="#withdraw-12">withdraw</a></h3>
<p>Makes a call to a strategy withdraw function by passing the strategy ID and
<code>abi.encodeWithSelector</code> to build the bytes <code>_data</code> parameter. This will then
pass the data on to the strategy function and inject the treasury recipient
address within the call as the first function parameter.</p>
<p><em>It is required for the transaction to return a successful call, otherwise
the transaction will be reverted. The error response will be standardised so
debugging will require a trace, rather than just the end message.</em></p>
<pre><code class="language-solidity">function withdraw(uint _strategyId, bytes calldata _data) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_strategyId</code></td><td><code>uint256</code></td><td>Vault ID to be updated</td></tr>
<tr><td><code>_data</code></td><td><code>bytes</code></td><td>Strategy withdraw function call, using <code>encodeWithSelector</code></td></tr>
</tbody></table>
</div>
<h3 id="settreasury-1"><a class="header" href="#settreasury-1">setTreasury</a></h3>
<p>Allows the {Treasury} contract address to be updated. All withdrawals will
be requested to be sent to this address when the <code>withdraw</code> is called.</p>
<p><em>This address is dynamically injected into the subsequent strategy
withdraw call.</em></p>
<pre><code class="language-solidity">function setTreasury(address _treasury) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_treasury</code></td><td><code>address</code></td><td>The new {Treasury} contract address</td></tr>
</tbody></table>
</div>
<h2 id="events-11"><a class="header" href="#events-11">Events</a></h2>
<h3 id="vaultcreated"><a class="header" href="#vaultcreated">VaultCreated</a></h3>
<p><em>Sent when a vault is created successfully</em></p>
<pre><code class="language-solidity">event VaultCreated(uint indexed vaultId, address vaultAddress, address assetAddress);
</code></pre>
<h3 id="vaultcreationpaused"><a class="header" href="#vaultcreationpaused">VaultCreationPaused</a></h3>
<p><em>Sent when a vault is paused or unpaused</em></p>
<pre><code class="language-solidity">event VaultCreationPaused(bool paused);
</code></pre>
<h3 id="strategysnapshot"><a class="header" href="#strategysnapshot">StrategySnapshot</a></h3>
<p><em>Sent when a snapshot is taken</em></p>
<pre><code class="language-solidity">event StrategySnapshot(uint strategyId, address[] tokens, uint[] amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-44"><a class="header" href="#contents-44">Contents</a></h1>
<ul>
<li><a href="src/interfaces/tokens/Floor.sol/contract.IFLOOR.html">IFLOOR</a></li>
<li><a href="src/interfaces/tokens/Votable.sol/contract.IVotable.html">IVotable</a></li>
<li><a href="src/interfaces/tokens/WETH.sol/contract.IWETH.html">IWETH</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ifloor"><a class="header" href="#ifloor">IFLOOR</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/tokens/Floor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC20</p>
<h2 id="functions-99"><a class="header" href="#functions-99">Functions</a></h2>
<h3 id="mint-5"><a class="header" href="#mint-5">mint</a></h3>
<p>Creates <code>_amount</code> token to <code>_to</code>. Must only be called by the owner.</p>
<pre><code class="language-solidity">function mint(address _to, uint _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The address that will receive the mint</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to be minted</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ivotable"><a class="header" href="#ivotable">IVotable</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/tokens/Votable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC20</p>
<h2 id="functions-100"><a class="header" href="#functions-100">Functions</a></h2>
<h3 id="votingpowerof-1"><a class="header" href="#votingpowerof-1">votingPowerOf</a></h3>
<p><em>we assume that voting power is a function of balance that preserves order</em></p>
<pre><code class="language-solidity">function votingPowerOf(address account) external view returns (uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iweth"><a class="header" href="#iweth">IWETH</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/tokens/WETH.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC20</p>
<h2 id="functions-101"><a class="header" href="#functions-101">Functions</a></h2>
<h3 id="allowance"><a class="header" href="#allowance">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address, address) public view virtual returns (uint);
</code></pre>
<h3 id="balanceof-1"><a class="header" href="#balanceof-1">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address) public view virtual returns (uint);
</code></pre>
<h3 id="approve-1"><a class="header" href="#approve-1">approve</a></h3>
<pre><code class="language-solidity">function approve(address, uint) public virtual returns (bool);
</code></pre>
<h3 id="transfer-1"><a class="header" href="#transfer-1">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address, uint) public virtual returns (bool);
</code></pre>
<h3 id="transferfrom-1"><a class="header" href="#transferfrom-1">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address, address, uint) public virtual returns (bool);
</code></pre>
<h3 id="deposit-9"><a class="header" href="#deposit-9">deposit</a></h3>
<pre><code class="language-solidity">function deposit() public payable virtual;
</code></pre>
<h3 id="withdraw-13"><a class="header" href="#withdraw-13">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint) public virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-45"><a class="header" href="#contents-45">Contents</a></h1>
<ul>
<li><a href="src/interfaces/uniswap/IUniswapV2Factory.sol/contract.IUniswapV2Factory.html">IUniswapV2Factory</a></li>
<li><a href="src/interfaces/uniswap/IUniswapV2Router01.sol/contract.IUniswapV2Router01.html">IUniswapV2Router01</a></li>
<li><a href="src/interfaces/uniswap/IUniswapV3NonfungiblePositionManager.sol/contract.IUniswapV3NonfungiblePositionManager.html">IUniswapV3NonfungiblePositionManager</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2factory"><a class="header" href="#iuniswapv2factory">IUniswapV2Factory</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/uniswap/IUniswapV2Factory.sol">Git Source</a></p>
<h2 id="functions-102"><a class="header" href="#functions-102">Functions</a></h2>
<h3 id="feeto"><a class="header" href="#feeto">feeTo</a></h3>
<pre><code class="language-solidity">function feeTo() external view returns (address);
</code></pre>
<h3 id="feetosetter"><a class="header" href="#feetosetter">feeToSetter</a></h3>
<pre><code class="language-solidity">function feeToSetter() external view returns (address);
</code></pre>
<h3 id="getpair"><a class="header" href="#getpair">getPair</a></h3>
<pre><code class="language-solidity">function getPair(address tokenA, address tokenB) external view returns (address pair);
</code></pre>
<h3 id="allpairs"><a class="header" href="#allpairs">allPairs</a></h3>
<pre><code class="language-solidity">function allPairs(uint) external view returns (address pair);
</code></pre>
<h3 id="allpairslength"><a class="header" href="#allpairslength">allPairsLength</a></h3>
<pre><code class="language-solidity">function allPairsLength() external view returns (uint);
</code></pre>
<h3 id="createpair"><a class="header" href="#createpair">createPair</a></h3>
<pre><code class="language-solidity">function createPair(address tokenA, address tokenB) external returns (address pair);
</code></pre>
<h3 id="setfeeto"><a class="header" href="#setfeeto">setFeeTo</a></h3>
<pre><code class="language-solidity">function setFeeTo(address) external;
</code></pre>
<h3 id="setfeetosetter"><a class="header" href="#setfeetosetter">setFeeToSetter</a></h3>
<pre><code class="language-solidity">function setFeeToSetter(address) external;
</code></pre>
<h2 id="events-12"><a class="header" href="#events-12">Events</a></h2>
<h3 id="paircreated"><a class="header" href="#paircreated">PairCreated</a></h3>
<pre><code class="language-solidity">event PairCreated(address indexed token0, address indexed token1, address pair, uint);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router01"><a class="header" href="#iuniswapv2router01">IUniswapV2Router01</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/uniswap/IUniswapV2Router01.sol">Git Source</a></p>
<h2 id="functions-103"><a class="header" href="#functions-103">Functions</a></h2>
<h3 id="factory"><a class="header" href="#factory">factory</a></h3>
<pre><code class="language-solidity">function factory() external pure returns (address);
</code></pre>
<h3 id="weth-10"><a class="header" href="#weth-10">WETH</a></h3>
<pre><code class="language-solidity">function WETH() external pure returns (address);
</code></pre>
<h3 id="addliquidity"><a class="header" href="#addliquidity">addLiquidity</a></h3>
<pre><code class="language-solidity">function addLiquidity(
    address tokenA,
    address tokenB,
    uint amountADesired,
    uint amountBDesired,
    uint amountAMin,
    uint amountBMin,
    address to,
    uint deadline
) external returns (uint amountA, uint amountB, uint liquidity);
</code></pre>
<h3 id="addliquidityeth"><a class="header" href="#addliquidityeth">addLiquidityETH</a></h3>
<pre><code class="language-solidity">function addLiquidityETH(address token, uint amountTokenDesired, uint amountTokenMin, uint amountETHMin, address to, uint deadline)
    external
    payable
    returns (uint amountToken, uint amountETH, uint liquidity);
</code></pre>
<h3 id="removeliquidity"><a class="header" href="#removeliquidity">removeLiquidity</a></h3>
<pre><code class="language-solidity">function removeLiquidity(address tokenA, address tokenB, uint liquidity, uint amountAMin, uint amountBMin, address to, uint deadline)
    external
    returns (uint amountA, uint amountB);
</code></pre>
<h3 id="removeliquidityeth"><a class="header" href="#removeliquidityeth">removeLiquidityETH</a></h3>
<pre><code class="language-solidity">function removeLiquidityETH(address token, uint liquidity, uint amountTokenMin, uint amountETHMin, address to, uint deadline)
    external
    returns (uint amountToken, uint amountETH);
</code></pre>
<h3 id="removeliquiditywithpermit"><a class="header" href="#removeliquiditywithpermit">removeLiquidityWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityWithPermit(
    address tokenA,
    address tokenB,
    uint liquidity,
    uint amountAMin,
    uint amountBMin,
    address to,
    uint deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint amountA, uint amountB);
</code></pre>
<h3 id="removeliquidityethwithpermit"><a class="header" href="#removeliquidityethwithpermit">removeLiquidityETHWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermit(
    address token,
    uint liquidity,
    uint amountTokenMin,
    uint amountETHMin,
    address to,
    uint deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint amountToken, uint amountETH);
</code></pre>
<h3 id="swapexacttokensfortokens"><a class="header" href="#swapexacttokensfortokens">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)
    external
    returns (uint[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacttokens"><a class="header" href="#swaptokensforexacttokens">swapTokensForExactTokens</a></h3>
<pre><code class="language-solidity">function swapTokensForExactTokens(uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)
    external
    returns (uint[] memory amounts);
</code></pre>
<h3 id="swapexactethfortokens"><a class="header" href="#swapexactethfortokens">swapExactETHForTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline)
    external
    payable
    returns (uint[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacteth"><a class="header" href="#swaptokensforexacteth">swapTokensForExactETH</a></h3>
<pre><code class="language-solidity">function swapTokensForExactETH(uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)
    external
    returns (uint[] memory amounts);
</code></pre>
<h3 id="swapexacttokensforeth"><a class="header" href="#swapexacttokensforeth">swapExactTokensForETH</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETH(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)
    external
    returns (uint[] memory amounts);
</code></pre>
<h3 id="swapethforexacttokens"><a class="header" href="#swapethforexacttokens">swapETHForExactTokens</a></h3>
<pre><code class="language-solidity">function swapETHForExactTokens(uint amountOut, address[] calldata path, address to, uint deadline)
    external
    payable
    returns (uint[] memory amounts);
</code></pre>
<h3 id="quote"><a class="header" href="#quote">quote</a></h3>
<pre><code class="language-solidity">function quote(uint amountA, uint reserveA, uint reserveB) external pure returns (uint amountB);
</code></pre>
<h3 id="getamountout"><a class="header" href="#getamountout">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(uint amountIn, uint reserveIn, uint reserveOut) external pure returns (uint amountOut);
</code></pre>
<h3 id="getamountin"><a class="header" href="#getamountin">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(uint amountOut, uint reserveIn, uint reserveOut) external pure returns (uint amountIn);
</code></pre>
<h3 id="getamountsout"><a class="header" href="#getamountsout">getAmountsOut</a></h3>
<pre><code class="language-solidity">function getAmountsOut(uint amountIn, address[] calldata path) external view returns (uint[] memory amounts);
</code></pre>
<h3 id="getamountsin"><a class="header" href="#getamountsin">getAmountsIn</a></h3>
<pre><code class="language-solidity">function getAmountsIn(uint amountOut, address[] calldata path) external view returns (uint[] memory amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv3nonfungiblepositionmanager"><a class="header" href="#iuniswapv3nonfungiblepositionmanager">IUniswapV3NonfungiblePositionManager</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/uniswap/IUniswapV3NonfungiblePositionManager.sol">Git Source</a></p>
<h2 id="functions-104"><a class="header" href="#functions-104">Functions</a></h2>
<h3 id="mint-6"><a class="header" href="#mint-6">mint</a></h3>
<pre><code class="language-solidity">function mint(MintParams calldata params) external payable returns (uint tokenId, uint128 liquidity, uint amount0, uint amount1);
</code></pre>
<h3 id="increaseliquidity"><a class="header" href="#increaseliquidity">increaseLiquidity</a></h3>
<pre><code class="language-solidity">function increaseLiquidity(IncreaseLiquidityParams calldata params)
    external
    payable
    returns (uint128 liquidity, uint amount0, uint amount1);
</code></pre>
<h3 id="decreaseliquidity"><a class="header" href="#decreaseliquidity">decreaseLiquidity</a></h3>
<pre><code class="language-solidity">function decreaseLiquidity(DecreaseLiquidityParams calldata params) external payable returns (uint amount0, uint amount1);
</code></pre>
<h3 id="collect"><a class="header" href="#collect">collect</a></h3>
<pre><code class="language-solidity">function collect(CollectParams calldata params) external payable returns (uint amount0, uint amount1);
</code></pre>
<h3 id="positions"><a class="header" href="#positions">positions</a></h3>
<pre><code class="language-solidity">function positions(uint tokenId)
    external
    view
    returns (
        uint96 nonce,
        address operator,
        address token0,
        address token1,
        uint24 fee,
        int24 tickLower,
        int24 tickUpper,
        uint128 liquidity,
        uint feeGrowthInside0LastX128,
        uint feeGrowthInside1LastX128,
        uint128 tokensOwed0,
        uint128 tokensOwed1
    );
</code></pre>
<h3 id="balanceof-2"><a class="header" href="#balanceof-2">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint balance);
</code></pre>
<h3 id="tokenofownerbyindex"><a class="header" href="#tokenofownerbyindex">tokenOfOwnerByIndex</a></h3>
<pre><code class="language-solidity">function tokenOfOwnerByIndex(address owner, uint index) external view returns (uint tokenId);
</code></pre>
<h3 id="approve-2"><a class="header" href="#approve-2">approve</a></h3>
<pre><code class="language-solidity">function approve(address to, uint tokenId) external;
</code></pre>
<h3 id="createandinitializepoolifnecessary"><a class="header" href="#createandinitializepoolifnecessary">createAndInitializePoolIfNecessary</a></h3>
<p>Creates a new pool if it does not exist, then initializes if not initialized</p>
<p><em>This method can be bundled with others via IMulticall for the first action (e.g. mint) performed against a pool</em></p>
<pre><code class="language-solidity">function createAndInitializePoolIfNecessary(address token0, address token1, uint24 fee, uint160 sqrtPriceX96)
    external
    payable
    returns (address pool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token0</code></td><td><code>address</code></td><td>The contract address of token0 of the pool</td></tr>
<tr><td><code>token1</code></td><td><code>address</code></td><td>The contract address of token1 of the pool</td></tr>
<tr><td><code>fee</code></td><td><code>uint24</code></td><td>The fee amount of the v3 pool for the specified token pair</td></tr>
<tr><td><code>sqrtPriceX96</code></td><td><code>uint160</code></td><td>The initial square root price of the pool as a Q64.96 value</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>pool</code></td><td><code>address</code></td><td>Returns the pool address based on the pair of tokens and fee, will return the newly created pool address if necessary</td></tr>
</tbody></table>
</div>
<h3 id="safetransferfrom"><a class="header" href="#safetransferfrom">safeTransferFrom</a></h3>
<p>*Safely transfers <code>tokenId</code> token from <code>from</code> to <code>to</code>, checking first that contract recipients
are aware of the ERC721 protocol to prevent tokens from being forever locked.
Requirements:</p>
<ul>
<li><code>from</code> cannot be the zero address.</li>
<li><code>to</code> cannot be the zero address.</li>
<li><code>tokenId</code> token must exist and be owned by <code>from</code>.</li>
<li>If the caller is not <code>from</code>, it must be have been allowed to move this token by either {approve} or {setApprovalForAll}.</li>
<li>If <code>to</code> refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer.
Emits a {Transfer} event.*</li>
</ul>
<pre><code class="language-solidity">function safeTransferFrom(address from, address to, uint tokenId) external;
</code></pre>
<h2 id="structs-35"><a class="header" href="#structs-35">Structs</a></h2>
<h3 id="mintparams"><a class="header" href="#mintparams">MintParams</a></h3>
<pre><code class="language-solidity">struct MintParams {
    address token0;
    address token1;
    uint24 fee;
    int24 tickLower;
    int24 tickUpper;
    uint amount0Desired;
    uint amount1Desired;
    uint amount0Min;
    uint amount1Min;
    address recipient;
    uint deadline;
}
</code></pre>
<h3 id="increaseliquidityparams"><a class="header" href="#increaseliquidityparams">IncreaseLiquidityParams</a></h3>
<pre><code class="language-solidity">struct IncreaseLiquidityParams {
    uint tokenId;
    uint amount0Desired;
    uint amount1Desired;
    uint amount0Min;
    uint amount1Min;
    uint deadline;
}
</code></pre>
<h3 id="decreaseliquidityparams"><a class="header" href="#decreaseliquidityparams">DecreaseLiquidityParams</a></h3>
<pre><code class="language-solidity">struct DecreaseLiquidityParams {
    uint tokenId;
    uint128 liquidity;
    uint amount0Min;
    uint amount1Min;
    uint deadline;
}
</code></pre>
<h3 id="collectparams"><a class="header" href="#collectparams">CollectParams</a></h3>
<pre><code class="language-solidity">struct CollectParams {
    uint tokenId;
    address recipient;
    uint128 amount0Max;
    uint128 amount1Max;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-46"><a class="header" href="#contents-46">Contents</a></h1>
<ul>
<li><a href="src/interfaces/utils/EpochEndTriggered.sol/contract.IEpochEndTriggered.html">IEpochEndTriggered</a></li>
<li><a href="src/interfaces/utils/EpochManaged.sol/contract.IEpochManaged.html">IEpochManaged</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iepochendtriggered"><a class="header" href="#iepochendtriggered">IEpochEndTriggered</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/utils/EpochEndTriggered.sol">Git Source</a></p>
<h2 id="functions-105"><a class="header" href="#functions-105">Functions</a></h2>
<h3 id="endepoch-3"><a class="header" href="#endepoch-3">endEpoch</a></h3>
<p>Function that is triggered when an epoch ends.</p>
<pre><code class="language-solidity">function endEpoch(uint epoch) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iepochmanaged"><a class="header" href="#iepochmanaged">IEpochManaged</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/utils/EpochManaged.sol">Git Source</a></p>
<h2 id="functions-106"><a class="header" href="#functions-106">Functions</a></h2>
<h3 id="epochmanager-2"><a class="header" href="#epochmanager-2">epochManager</a></h3>
<p>Gets the address of the contract that currently manages the epoch state of
this contract.</p>
<pre><code class="language-solidity">function epochManager() external returns (IEpochManager);
</code></pre>
<h3 id="setepochmanager-1"><a class="header" href="#setepochmanager-1">setEpochManager</a></h3>
<p>Allows the epoch manager to be updated.</p>
<pre><code class="language-solidity">function setEpochManager(address _epochManager) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_epochManager</code></td><td><code>address</code></td><td>The address of the new epoch manager</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-47"><a class="header" href="#contents-47">Contents</a></h1>
<ul>
<li><a href="src/interfaces/voting/NewCollectionWarOptions.sol/contract.INewCollectionWarOptions.html">INewCollectionWarOptions</a></li>
<li><a href="src/interfaces/voting/NewCollectionWars.sol/contract.INewCollectionWars.html">INewCollectionWars</a></li>
<li><a href="src/interfaces/voting/SweepWars.sol/contract.ISweepWars.html">ISweepWars</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inewcollectionwaroptions"><a class="header" href="#inewcollectionwaroptions">INewCollectionWarOptions</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/voting/NewCollectionWarOptions.sol">Git Source</a></p>
<h2 id="functions-107"><a class="header" href="#functions-107">Functions</a></h2>
<h3 id="createoption-1"><a class="header" href="#createoption-1">createOption</a></h3>
<pre><code class="language-solidity">function createOption(uint war, address collection, uint[] calldata tokenIds, uint40[] calldata amounts, uint56[] calldata exercisePercents)
    external;
</code></pre>
<h3 id="reclaimoptions-1"><a class="header" href="#reclaimoptions-1">reclaimOptions</a></h3>
<pre><code class="language-solidity">function reclaimOptions(uint war, address collection, uint56[] calldata exercisePercents, uint[][] calldata indexes) external;
</code></pre>
<h3 id="exerciseoptions-1"><a class="header" href="#exerciseoptions-1">exerciseOptions</a></h3>
<pre><code class="language-solidity">function exerciseOptions(uint war, uint amount) external payable;
</code></pre>
<h3 id="nftvotingpower-1"><a class="header" href="#nftvotingpower-1">nftVotingPower</a></h3>
<pre><code class="language-solidity">function nftVotingPower(uint war, address collection, uint spotPrice, uint exercisePercent) external view returns (uint);
</code></pre>
<h2 id="events-13"><a class="header" href="#events-13">Events</a></h2>
<h3 id="collectionexercised"><a class="header" href="#collectionexercised">CollectionExercised</a></h3>
<p>Sent when Collection Addition War NFTs are exercised</p>
<pre><code class="language-solidity">event CollectionExercised(uint warIndex, address collection, uint value);
</code></pre>
<h2 id="structs-36"><a class="header" href="#structs-36">Structs</a></h2>
<h3 id="option"><a class="header" href="#option">Option</a></h3>
<p>Stores information about a user's option.</p>
<pre><code class="language-solidity">struct Option {
    uint tokenId;
    address user;
    uint96 amount;
}
</code></pre>
<h3 id="stakedcollectionerc721"><a class="header" href="#stakedcollectionerc721">StakedCollectionERC721</a></h3>
<p>Stores information about the NFT that has been staked. This allows either
the DAO to exercise the NFT, or for the initial staker to reclaim it.</p>
<pre><code class="language-solidity">struct StakedCollectionERC721 {
    address staker;
    uint56 exercisePercent;
}
</code></pre>
<h3 id="stakedcollectionerc1155"><a class="header" href="#stakedcollectionerc1155">StakedCollectionERC1155</a></h3>
<pre><code class="language-solidity">struct StakedCollectionERC1155 {
    address staker;
    uint56 exercisePercent;
    uint40 amount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inewcollectionwars"><a class="header" href="#inewcollectionwars">INewCollectionWars</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/voting/NewCollectionWars.sol">Git Source</a></p>
<h2 id="functions-108"><a class="header" href="#functions-108">Functions</a></h2>
<h3 id="uservotes-2"><a class="header" href="#uservotes-2">userVotes</a></h3>
<p>Stores the number of votes a user has placed against a war collection</p>
<pre><code class="language-solidity">function userVotes(bytes32) external view returns (uint);
</code></pre>
<h3 id="collectionspotprice-1"><a class="header" href="#collectionspotprice-1">collectionSpotPrice</a></h3>
<p>Stores the floor spot price of a collection token against a war collection</p>
<pre><code class="language-solidity">function collectionSpotPrice(bytes32) external view returns (uint);
</code></pre>
<h3 id="collectionvotes-2"><a class="header" href="#collectionvotes-2">collectionVotes</a></h3>
<p>Stores the total number of votes against a war collection</p>
<pre><code class="language-solidity">function collectionVotes(bytes32) external view returns (uint);
</code></pre>
<h3 id="collectionnftvotes-1"><a class="header" href="#collectionnftvotes-1">collectionNftVotes</a></h3>
<pre><code class="language-solidity">function collectionNftVotes(bytes32) external view returns (uint);
</code></pre>
<h3 id="usercollectionvote-1"><a class="header" href="#usercollectionvote-1">userCollectionVote</a></h3>
<p>Stores which collection the user has cast their votes towards to allow for
reallocation on subsequent votes if needed.</p>
<pre><code class="language-solidity">function userCollectionVote(bytes32) external view returns (address);
</code></pre>
<h3 id="floorwarwinner-1"><a class="header" href="#floorwarwinner-1">floorWarWinner</a></h3>
<p>Stores the address of the collection that won a Floor War</p>
<pre><code class="language-solidity">function floorWarWinner(uint _epoch) external view returns (address);
</code></pre>
<h3 id="is1155-2"><a class="header" href="#is1155-2">is1155</a></h3>
<p>Stores if a collection has been flagged as ERC1155</p>
<pre><code class="language-solidity">function is1155(address) external returns (bool);
</code></pre>
<h3 id="collectionepochlock-1"><a class="header" href="#collectionepochlock-1">collectionEpochLock</a></h3>
<p>Stores the unlock epoch of a collection in a floor war</p>
<pre><code class="language-solidity">function collectionEpochLock(bytes32) external returns (uint);
</code></pre>
<h3 id="uservotingpower-2"><a class="header" href="#uservotingpower-2">userVotingPower</a></h3>
<p>The total voting power of a user, regardless of if they have cast votes
or not.</p>
<pre><code class="language-solidity">function userVotingPower(address _user) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>User address being checked</td></tr>
</tbody></table>
</div>
<h3 id="uservotesavailable-2"><a class="header" href="#uservotesavailable-2">userVotesAvailable</a></h3>
<p>The total number of votes that a user has available.</p>
<pre><code class="language-solidity">function userVotesAvailable(uint _war, address _user) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_war</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>_user</code></td><td><code>address</code></td><td>User address being checked</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint Number of votes available to the user</td></tr>
</tbody></table>
</div>
<h3 id="vote-2"><a class="header" href="#vote-2">vote</a></h3>
<p>Allows the user to cast 100% of their voting power against an individual
collection. If the user has already voted on the FloorWar then this will
additionally reallocate their votes.</p>
<pre><code class="language-solidity">function vote(address collection) external;
</code></pre>
<h3 id="optionvote-1"><a class="header" href="#optionvote-1">optionVote</a></h3>
<p>Allows an approved contract to submit option-related votes against a collection
in the current war.</p>
<pre><code class="language-solidity">function optionVote(address sender, uint war, address collection, uint votingPower) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address of the user that staked the token</td></tr>
<tr><td><code>war</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>collection</code></td><td><code>address</code></td><td>The collection to cast the vote against</td></tr>
<tr><td><code>votingPower</code></td><td><code>uint256</code></td><td>The voting power added from the option creation</td></tr>
</tbody></table>
</div>
<h3 id="revokevotes-2"><a class="header" href="#revokevotes-2">revokeVotes</a></h3>
<p>Revokes a user's current votes in the current war.</p>
<p><em>This is used when a user unstakes their floor</em></p>
<pre><code class="language-solidity">function revokeVotes(address account) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of the account that is having their vote revoked</td></tr>
</tbody></table>
</div>
<h3 id="createfloorwar-1"><a class="header" href="#createfloorwar-1">createFloorWar</a></h3>
<p>Allow an authorised user to create a new floor war to start with a range of
collections from a specific epoch.</p>
<pre><code class="language-solidity">function createFloorWar(uint epoch, address[] calldata collections, bool[] calldata isErc1155, uint[] calldata floorPrices)
    external
    returns (uint);
</code></pre>
<h3 id="startfloorwar-1"><a class="header" href="#startfloorwar-1">startFloorWar</a></h3>
<p>Sets a scheduled {FloorWar} to be active.</p>
<p><em>This function is called by the {EpochManager} when a new epoch starts</em></p>
<pre><code class="language-solidity">function startFloorWar(uint index) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>index</code></td><td><code>uint256</code></td><td>The index of the {FloorWar} being started</td></tr>
</tbody></table>
</div>
<h3 id="endfloorwar-1"><a class="header" href="#endfloorwar-1">endFloorWar</a></h3>
<p>When the epoch has come to an end, this function will be called to finalise
the votes and decide which collection has won. This collection will then need
to be added to the {CollectionRegistry}.
Any NFTs that have been staked will be timelocked for an additional epoch to
give the DAO time to exercise or reject any options.</p>
<p><em>We can't action this in one single call as we will need information about
the underlying NFTX token as well.</em></p>
<pre><code class="language-solidity">function endFloorWar() external returns (address highestVoteCollection);
</code></pre>
<h3 id="updatecollectionfloorprice-1"><a class="header" href="#updatecollectionfloorprice-1">updateCollectionFloorPrice</a></h3>
<p>Allows us to update our collection floor prices if we have seen a noticable difference
since the start of the epoch. This will need to be called for this reason as the floor
price of the collection heavily determines the amount of voting power awarded when
creating an option.</p>
<pre><code class="language-solidity">function updateCollectionFloorPrice(address collection, uint floorPrice) external;
</code></pre>
<h3 id="setoptionscontract-1"><a class="header" href="#setoptionscontract-1">setOptionsContract</a></h3>
<p>Allows our options contract to be updated.</p>
<pre><code class="language-solidity">function setOptionsContract(address _contract) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>The new contract to use</td></tr>
</tbody></table>
</div>
<h3 id="iscollectioninwar-1"><a class="header" href="#iscollectioninwar-1">isCollectionInWar</a></h3>
<p>Check if a collection is in a FloorWar.</p>
<pre><code class="language-solidity">function isCollectionInWar(bytes32 warCollection) external view returns (bool);
</code></pre>
<h2 id="events-14"><a class="header" href="#events-14">Events</a></h2>
<h3 id="votecast"><a class="header" href="#votecast">VoteCast</a></h3>
<p>Sent when a user casts a vote</p>
<pre><code class="language-solidity">event VoteCast(address sender, address collection, uint userVotes, uint collectionVotes);
</code></pre>
<h3 id="voterevoked"><a class="header" href="#voterevoked">VoteRevoked</a></h3>
<p>Sent when a collection vote is revoked</p>
<pre><code class="language-solidity">event VoteRevoked(address sender, address collection, uint collectionVotes);
</code></pre>
<h3 id="nftvotecast"><a class="header" href="#nftvotecast">NftVoteCast</a></h3>
<p>Sent when a collection NFT is staked to vote</p>
<pre><code class="language-solidity">event NftVoteCast(address sender, uint war, address collection, uint collectionVotes, uint collectionNftVotes);
</code></pre>
<h3 id="collectionadditionwarcreated"><a class="header" href="#collectionadditionwarcreated">CollectionAdditionWarCreated</a></h3>
<p>Sent when a Collection Addition War is created</p>
<pre><code class="language-solidity">event CollectionAdditionWarCreated(uint epoch, address[] collections, uint[] floorPrices);
</code></pre>
<h3 id="collectionadditionwarstarted"><a class="header" href="#collectionadditionwarstarted">CollectionAdditionWarStarted</a></h3>
<p>Sent when a Collection Addition War is started</p>
<pre><code class="language-solidity">event CollectionAdditionWarStarted(uint warIndex);
</code></pre>
<h3 id="collectionadditionwarended"><a class="header" href="#collectionadditionwarended">CollectionAdditionWarEnded</a></h3>
<p>Sent when a Collection Addition War ends</p>
<pre><code class="language-solidity">event CollectionAdditionWarEnded(uint warIndex);
</code></pre>
<h3 id="collectionexercised-1"><a class="header" href="#collectionexercised-1">CollectionExercised</a></h3>
<p>Sent when Collection Addition War NFTs are exercised</p>
<pre><code class="language-solidity">event CollectionExercised(uint warIndex, address collection, uint value);
</code></pre>
<h2 id="structs-37"><a class="header" href="#structs-37">Structs</a></h2>
<h3 id="floorwar"><a class="header" href="#floorwar">FloorWar</a></h3>
<p>For each FloorWar that is created, this structure will be created. When
the epoch ends, the FloorWar will remain and will be updated with information
on the winning collection and the votes attributed to each collection.</p>
<pre><code class="language-solidity">struct FloorWar {
    uint index;
    uint startEpoch;
    address[] collections;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="isweepwars"><a class="header" href="#isweepwars">ISweepWars</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/voting/SweepWars.sol">Git Source</a></p>
<p>The GWV will allow users to assign their veFloor position to a vault, or
optionally case it to a veFloor, which will use a constant value. As the
vaults will be rendered as an address, the veFloor vote will take a NULL
address value.
At point of development this can take influence from:
https://github.com/saddle-finance/saddle-contract/blob/master/contracts/tokenomics/gauges/GaugeController.vy</p>
<h2 id="functions-109"><a class="header" href="#functions-109">Functions</a></h2>
<h3 id="votes-2"><a class="header" href="#votes-2">votes</a></h3>
<p>Gets the number of votes for a collection at the current epoch.</p>
<pre><code class="language-solidity">function votes(address) external view returns (int);
</code></pre>
<h3 id="votes-3"><a class="header" href="#votes-3">votes</a></h3>
<p>Gets the number of votes for a collection at a specific epoch.</p>
<pre><code class="language-solidity">function votes(address, uint) external view returns (int);
</code></pre>
<h3 id="uservotingpower-3"><a class="header" href="#uservotingpower-3">userVotingPower</a></h3>
<p>The total voting power of a user, regardless of if they have cast votes
or not.</p>
<pre><code class="language-solidity">function userVotingPower(address _user) external view returns (uint);
</code></pre>
<h3 id="uservotesavailable-3"><a class="header" href="#uservotesavailable-3">userVotesAvailable</a></h3>
<p>The total number of votes that a user has available, calculated by:</p>
<pre><code>votesAvailable_ = balanceOf(_user) - SUM(userVotes.votes_)
</code></pre>
<pre><code class="language-solidity">function userVotesAvailable(address _user) external view returns (uint votesAvailable_);
</code></pre>
<h3 id="voteoptions-1"><a class="header" href="#voteoptions-1">voteOptions</a></h3>
<p>Provides a list of collection addresses that can be voted on.</p>
<pre><code class="language-solidity">function voteOptions() external view returns (address[] memory collections_);
</code></pre>
<h3 id="vote-3"><a class="header" href="#vote-3">vote</a></h3>
<p>Allows a user to cast a vote using their veFloor allocation. We don't
need to monitor transfers as veFloor can only be minted or burned, and
we check the voters balance during the <code>snapshot</code> call.
A user can vote with a partial amount of their veFloor holdings, and when
it comes to calculating their voting power this will need to be taken into
consideration that it will be:</p>
<pre><code>staked balance + (gains from staking * (total balance - staked balance)%)
</code></pre>
<p>The {Treasury} cannot vote with it's holdings, as it shouldn't be holding
any staked Floor.</p>
<pre><code class="language-solidity">function vote(address _collection, uint _amount, bool _against) external;
</code></pre>
<h3 id="revokevotes-3"><a class="header" href="#revokevotes-3">revokeVotes</a></h3>
<p>Allows a user to revoke their votes from vaults. This will free up the
user's available votes that can subsequently be voted again with.</p>
<pre><code class="language-solidity">function revokeVotes(address[] memory _collection) external;
</code></pre>
<h3 id="revokealluservotes-1"><a class="header" href="#revokealluservotes-1">revokeAllUserVotes</a></h3>
<p>Allows an authorised contract or wallet to revoke all user votes. This
can be called when the veFLOOR balance is reduced.</p>
<pre><code class="language-solidity">function revokeAllUserVotes(address _account) external;
</code></pre>
<h3 id="snapshot-5"><a class="header" href="#snapshot-5">snapshot</a></h3>
<p>The snapshot function will need to iterate over all vaults that have
more than 0 votes against them. With that we will need to find each
vault's percentage share in relation to other vaults.
This percentage share will instruct the {Treasury} on how much additional
FLOOR to allocate to the users staked in the vaults. These rewards will
become available in the {RewardLedger}.
+----------------+-----------------+-------------------+-------------------+
| Voter          | veFloor         | Vote Weight       | Vault             |
+----------------+-----------------+-------------------+-------------------+
| Alice          | 30              | 40                | 1                 |
| Bob            | 20              | 30                | 2                 |
| Carol          | 40              | 55                | 3                 |
| Dave           | 20              | 40                | 2                 |
| Emily          | 25              | 35                | 0                 |
+----------------+-----------------+-------------------+-------------------+
With the above information, and assuming that the {Treasury} has allocated
1000 FLOOR tokens to be additionally distributed in this snapshot, we would
have the following allocations going to the vaults.
+----------------+-----------------+-------------------+-------------------+
| Vault          | Votes Total     | Vote Percent      | veFloor Rewards   |
+----------------+-----------------+-------------------+-------------------+
| 0 (veFloor)    | 35              | 17.5%             | 175               |
| 1              | 40              | 20%               | 200               |
| 2              | 70              | 35%               | 350               |
| 3              | 55              | 27.5%             | 275               |
| 4              | 0               | 0%                | 0                 |
+----------------+-----------------+-------------------+-------------------+
This would distribute the vaults allocated rewards against the staked
percentage in the vault. Any Treasury holdings that would be given in rewards
are just deposited into the {Treasury} as FLOOR, bypassing the {RewardsLedger}.</p>
<pre><code class="language-solidity">function snapshot(uint tokens, uint epoch) external returns (address[] memory collections, uint[] memory amounts);
</code></pre>
<h2 id="events-15"><a class="header" href="#events-15">Events</a></h2>
<h3 id="votecast-1"><a class="header" href="#votecast-1">VoteCast</a></h3>
<p>Sent when a user casts or revokes their vote</p>
<pre><code class="language-solidity">event VoteCast(address sender, address collection, uint amount);
</code></pre>
<h3 id="votesrevoked"><a class="header" href="#votesrevoked">VotesRevoked</a></h3>
<p>Sent when a user has revoked their vote, or it is revoked on their behalf</p>
<pre><code class="language-solidity">event VotesRevoked(address account, address collection);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iepochmanager"><a class="header" href="#iepochmanager">IEpochManager</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/EpochManager.sol">Git Source</a></p>
<p>Handles epoch management for all other contracts.</p>
<h2 id="functions-110"><a class="header" href="#functions-110">Functions</a></h2>
<h3 id="currentepoch-2"><a class="header" href="#currentepoch-2">currentEpoch</a></h3>
<p>The current epoch that is running across the codebase.</p>
<pre><code class="language-solidity">function currentEpoch() external view returns (uint);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current epoch</td></tr>
</tbody></table>
</div>
<h3 id="collectionepochs-1"><a class="header" href="#collectionepochs-1">collectionEpochs</a></h3>
<p>Stores a mapping of an epoch to a collection addition war index.</p>
<pre><code class="language-solidity">function collectionEpochs(uint _epoch) external view returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_epoch</code></td><td><code>uint256</code></td><td>Epoch to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Index of the collection addition war. Will return 0 if none found</td></tr>
</tbody></table>
</div>
<h3 id="setcurrentepoch-1"><a class="header" href="#setcurrentepoch-1">setCurrentEpoch</a></h3>
<p>Allows a new epoch to be set. This should, in theory, only be set to one
above the existing <code>currentEpoch</code>.</p>
<pre><code class="language-solidity">function setCurrentEpoch(uint _currentEpoch) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_currentEpoch</code></td><td><code>uint256</code></td><td>The new epoch to set</td></tr>
</tbody></table>
</div>
<h3 id="iscollectionadditionepoch-2"><a class="header" href="#iscollectionadditionepoch-2">isCollectionAdditionEpoch</a></h3>
<p>Will return if the current epoch is a collection addition vote.</p>
<pre><code class="language-solidity">function isCollectionAdditionEpoch() external view returns (bool);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>If the current epoch is a collection addition</td></tr>
</tbody></table>
</div>
<h3 id="iscollectionadditionepoch-3"><a class="header" href="#iscollectionadditionepoch-3">isCollectionAdditionEpoch</a></h3>
<p>Will return if the specified epoch is a collection addition vote.</p>
<pre><code class="language-solidity">function isCollectionAdditionEpoch(uint epoch) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>If the specified epoch is a collection addition</td></tr>
</tbody></table>
</div>
<h3 id="schedulecollectionaddtionepoch-1"><a class="header" href="#schedulecollectionaddtionepoch-1">scheduleCollectionAddtionEpoch</a></h3>
<p>Allows an epoch to be scheduled to be a collection addition vote. An index will
be specified to show which collection addition will be used. The index will not
be a zero value.</p>
<pre><code class="language-solidity">function scheduleCollectionAddtionEpoch(uint epoch, uint index) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>epoch</code></td><td><code>uint256</code></td><td>The epoch that the Collection Addition will take place in</td></tr>
<tr><td><code>index</code></td><td><code>uint256</code></td><td>The Collection Addition array index</td></tr>
</tbody></table>
</div>
<h3 id="endepoch-4"><a class="header" href="#endepoch-4">endEpoch</a></h3>
<p>Triggers an epoch to end.</p>
<p><em>More information about this function can be found in the actual contract</em></p>
<pre><code class="language-solidity">function endEpoch() external;
</code></pre>
<h3 id="epochiterationtimestamp-1"><a class="header" href="#epochiterationtimestamp-1">epochIterationTimestamp</a></h3>
<p>Provides an estimated timestamp of when an epoch started, and also the earliest
that an epoch in the future could start.</p>
<pre><code class="language-solidity">function epochIterationTimestamp(uint _epoch) external returns (uint);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_epoch</code></td><td><code>uint256</code></td><td>The epoch to find the estimated timestamp of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The estimated timestamp of when the specified epoch started</td></tr>
</tbody></table>
</div>
<h3 id="epoch_length-1"><a class="header" href="#epoch_length-1">EPOCH_LENGTH</a></h3>
<p>The length of an epoch in seconds.</p>
<pre><code class="language-solidity">function EPOCH_LENGTH() external returns (uint);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The length of the epoch in seconds</td></tr>
</tbody></table>
</div>
<h3 id="setcontracts-2"><a class="header" href="#setcontracts-2">setContracts</a></h3>
<p>Sets contracts that the epoch manager relies on. This doesn't have to include
all of the contracts that are {EpochManaged}, but only needs to set ones that the
{EpochManager} needs to interact with.</p>
<pre><code class="language-solidity">function setContracts(address _newCollectionWars, address _voteMarket) external;
</code></pre>
<h2 id="events-16"><a class="header" href="#events-16">Events</a></h2>
<h3 id="epochended"><a class="header" href="#epochended">EpochEnded</a></h3>
<pre><code class="language-solidity">event EpochEnded(uint epoch, uint timestamp);
</code></pre>
<h3 id="collectionadditionwarscheduled"><a class="header" href="#collectionadditionwarscheduled">CollectionAdditionWarScheduled</a></h3>
<pre><code class="language-solidity">event CollectionAdditionWarScheduled(uint epoch, uint index);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="treasuryenums"><a class="header" href="#treasuryenums">TreasuryEnums</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/Treasury.sol">Git Source</a></p>
<h2 id="enums-1"><a class="header" href="#enums-1">Enums</a></h2>
<h3 id="sweeptype"><a class="header" href="#sweeptype">SweepType</a></h3>
<p>Different sweep types that can be specified.</p>
<pre><code class="language-solidity">enum SweepType {
    COLLECTION_ADDITION,
    SWEEP
}
</code></pre>
<h3 id="approvaltype"><a class="header" href="#approvaltype">ApprovalType</a></h3>
<p>Different approval types that can be specified.</p>
<pre><code class="language-solidity">enum ApprovalType {
    NATIVE,
    ERC20,
    ERC721,
    ERC1155
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itreasury"><a class="header" href="#itreasury">ITreasury</a></h1>
<p><a href="https://github.com/FloorDAO/floor-v2/blob/c8169a0594ad07a37d169672a50f4155c41be809/src/interfaces/Treasury.sol">Git Source</a></p>
<p><em>The Treasury will hold all assets.</em></p>
<h2 id="functions-111"><a class="header" href="#functions-111">Functions</a></h2>
<h3 id="mint-7"><a class="header" href="#mint-7">mint</a></h3>
<p>Allow FLOOR token to be minted. This should be called from the deposit method
internally, but a public method will allow a {TreasuryManager} to bypass this
and create additional FLOOR tokens if needed.</p>
<p><em>We only want to do this on creation and for inflation. Have a think on how
we can implement this!</em></p>
<pre><code class="language-solidity">function mint(uint amount) external;
</code></pre>
<h3 id="depositerc20-4"><a class="header" href="#depositerc20-4">depositERC20</a></h3>
<p>Allows an ERC20 token to be deposited and generates FLOOR tokens based on
the current determined value of FLOOR and the token.</p>
<pre><code class="language-solidity">function depositERC20(address token, uint amount) external;
</code></pre>
<h3 id="depositerc721-3"><a class="header" href="#depositerc721-3">depositERC721</a></h3>
<p>Allows an ERC721 token to be deposited and generates FLOOR tokens based on
the current determined value of FLOOR and the token.</p>
<pre><code class="language-solidity">function depositERC721(address token, uint tokenId) external;
</code></pre>
<h3 id="depositerc1155-3"><a class="header" href="#depositerc1155-3">depositERC1155</a></h3>
<p>Allows an ERC1155 token(s) to be deposited and generates FLOOR tokens based on
the current determined value of FLOOR and the token.</p>
<pre><code class="language-solidity">function depositERC1155(address token, uint tokenId, uint amount) external;
</code></pre>
<h3 id="withdraw-14"><a class="header" href="#withdraw-14">withdraw</a></h3>
<p>Allows an approved user to withdraw native token.</p>
<pre><code class="language-solidity">function withdraw(address recipient, uint amount) external;
</code></pre>
<h3 id="withdrawerc20-4"><a class="header" href="#withdrawerc20-4">withdrawERC20</a></h3>
<p>Allows an approved user to withdraw and ERC20 token from the vault.</p>
<pre><code class="language-solidity">function withdrawERC20(address recipient, address token, uint amount) external;
</code></pre>
<h3 id="withdrawerc721-2"><a class="header" href="#withdrawerc721-2">withdrawERC721</a></h3>
<p>Allows an approved user to withdraw and ERC721 token from the vault.</p>
<pre><code class="language-solidity">function withdrawERC721(address recipient, address token, uint tokenId) external;
</code></pre>
<h3 id="withdrawerc1155-2"><a class="header" href="#withdrawerc1155-2">withdrawERC1155</a></h3>
<p>Allows an approved user to withdraw an ERC1155 token(s) from the vault.</p>
<pre><code class="language-solidity">function withdrawERC1155(address recipient, address token, uint tokenId, uint amount) external;
</code></pre>
<h3 id="sweepepoch-1"><a class="header" href="#sweepepoch-1">sweepEpoch</a></h3>
<p>..</p>
<pre><code class="language-solidity">function sweepEpoch(uint epochIndex, address sweeper, bytes calldata data, uint mercSweep) external;
</code></pre>
<h3 id="resweepepoch-1"><a class="header" href="#resweepepoch-1">resweepEpoch</a></h3>
<p>..</p>
<pre><code class="language-solidity">function resweepEpoch(uint epochIndex, address sweeper, bytes calldata data, uint mercSweep) external;
</code></pre>
<h3 id="registersweep-1"><a class="header" href="#registersweep-1">registerSweep</a></h3>
<p>..</p>
<pre><code class="language-solidity">function registerSweep(uint epoch, address[] calldata collections, uint[] calldata amounts, TreasuryEnums.SweepType sweepType) external;
</code></pre>
<h3 id="minsweepamount-1"><a class="header" href="#minsweepamount-1">minSweepAmount</a></h3>
<p>..</p>
<pre><code class="language-solidity">function minSweepAmount() external returns (uint);
</code></pre>
<h3 id="setmercenarysweeper-1"><a class="header" href="#setmercenarysweeper-1">setMercenarySweeper</a></h3>
<p>..</p>
<pre><code class="language-solidity">function setMercenarySweeper(address _mercSweeper) external;
</code></pre>
<h2 id="events-17"><a class="header" href="#events-17">Events</a></h2>
<h3 id="deposit-10"><a class="header" href="#deposit-10">Deposit</a></h3>
<p><em>When native network token is withdrawn from the Treasury</em></p>
<pre><code class="language-solidity">event Deposit(uint amount);
</code></pre>
<h3 id="depositerc20-5"><a class="header" href="#depositerc20-5">DepositERC20</a></h3>
<p><em>When an ERC20 is depositted into the vault</em></p>
<pre><code class="language-solidity">event DepositERC20(address token, uint amount);
</code></pre>
<h3 id="depositerc721-4"><a class="header" href="#depositerc721-4">DepositERC721</a></h3>
<p><em>When an ERC721 is depositted into the vault</em></p>
<pre><code class="language-solidity">event DepositERC721(address token, uint tokenId);
</code></pre>
<h3 id="depositerc1155-4"><a class="header" href="#depositerc1155-4">DepositERC1155</a></h3>
<p><em>When an ERC1155 is depositted into the vault</em></p>
<pre><code class="language-solidity">event DepositERC1155(address token, uint tokenId, uint amount);
</code></pre>
<h3 id="withdraw-15"><a class="header" href="#withdraw-15">Withdraw</a></h3>
<p><em>When native network token is withdrawn from the Treasury</em></p>
<pre><code class="language-solidity">event Withdraw(uint amount, address recipient);
</code></pre>
<h3 id="withdrawerc20-5"><a class="header" href="#withdrawerc20-5">WithdrawERC20</a></h3>
<p><em>When an ERC20 token is withdrawn from the Treasury</em></p>
<pre><code class="language-solidity">event WithdrawERC20(address token, uint amount, address recipient);
</code></pre>
<h3 id="withdrawerc721-3"><a class="header" href="#withdrawerc721-3">WithdrawERC721</a></h3>
<p><em>When an ERC721 token is withdrawn from the Treasury</em></p>
<pre><code class="language-solidity">event WithdrawERC721(address token, uint tokenId, address recipient);
</code></pre>
<h3 id="withdrawerc1155-3"><a class="header" href="#withdrawerc1155-3">WithdrawERC1155</a></h3>
<p><em>When an ERC1155 is withdrawn from the vault</em></p>
<pre><code class="language-solidity">event WithdrawERC1155(address token, uint tokenId, uint amount, address recipient);
</code></pre>
<h3 id="floorminted"><a class="header" href="#floorminted">FloorMinted</a></h3>
<p><em>When FLOOR is minted</em></p>
<pre><code class="language-solidity">event FloorMinted(uint amount);
</code></pre>
<h3 id="actionprocessed"><a class="header" href="#actionprocessed">ActionProcessed</a></h3>
<p><em>When a {Treasury} action is processed</em></p>
<pre><code class="language-solidity">event ActionProcessed(address action, bytes data);
</code></pre>
<h3 id="sweepregistered"><a class="header" href="#sweepregistered">SweepRegistered</a></h3>
<p><em>When a sweep is registered against an epoch</em></p>
<pre><code class="language-solidity">event SweepRegistered(uint epochIndex);
</code></pre>
<h3 id="sweepaction"><a class="header" href="#sweepaction">SweepAction</a></h3>
<p><em>When an action is assigned to a sweep epoch</em></p>
<pre><code class="language-solidity">event SweepAction(uint sweepEpoch);
</code></pre>
<h3 id="epochswept"><a class="header" href="#epochswept">EpochSwept</a></h3>
<p><em>When an epoch is swept</em></p>
<pre><code class="language-solidity">event EpochSwept(uint epochIndex);
</code></pre>
<h2 id="structs-38"><a class="header" href="#structs-38">Structs</a></h2>
<h3 id="sweep-1"><a class="header" href="#sweep-1">Sweep</a></h3>
<p>Stores data that allows the Treasury to action a sweep.</p>
<pre><code class="language-solidity">struct Sweep {
    TreasuryEnums.SweepType sweepType;
    address[] collections;
    uint[] amounts;
    bool completed;
    string message;
}
</code></pre>
<h3 id="actionapproval"><a class="header" href="#actionapproval">ActionApproval</a></h3>
<p>The data structure format that will be mapped against to define a token
approval request.</p>
<pre><code class="language-solidity">struct ActionApproval {
    TreasuryEnums.ApprovalType _type;
    address assetContract;
    uint tokenId;
    uint amount;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
